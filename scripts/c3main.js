// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let It=function(t){i=t},_t=function(t){return t*n},Et=function(t,i){return Math.abs(t-i)<=s*Math.max(1,Math.abs(t),Math.abs(i))},At=function(){var t=new i(4);return i!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},Dt=function(t){var s=new i(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},Nt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Lt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},Ot=function(t,s,e,h){var n=new i(4);return n[0]=t,n[1]=s,n[2]=e,n[3]=h,n},Rt=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},kt=function(t,s){if(t===s){var i=s[1];t[1]=s[2],t[2]=i}else t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3];return t},Pt=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=i*n-h*e;return r?(r=1/r,t[0]=n*r,t[1]=-e*r,t[2]=-h*r,t[3]=i*r,t):null},Ft=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},jt=function(t){return t[0]*t[3]-t[2]*t[1]},zt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*o+n*a,t[1]=h*o+r*a,t[2]=e*u+n*l,t[3]=h*u+r*l,t},Bt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+n*o,t[1]=h*a+r*o,t[2]=e*-o+n*a,t[3]=h*-o+r*a,t},Ut=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[0],a=i[1];return t[0]=e*o,t[1]=h*o,t[2]=n*a,t[3]=r*a,t},Wt=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t},Qt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},Yt=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Vt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},Jt=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},Ht=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},qt=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Xt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Zt=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=i[0],a=i[1],u=i[2],l=i[3];return Math.abs(e-o)<=s*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(h-a)<=s*Math.max(1,Math.abs(h),Math.abs(a))&&Math.abs(n-u)<=s*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=s*Math.max(1,Math.abs(r),Math.abs(l))},Kt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},$t=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},ts=function(){var t=new i(6);return i!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},ss=function(t){var s=new i(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},is=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},es=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},hs=function(t,s,e,h,n,r){var o=new i(6);return o[0]=t,o[1]=s,o[2]=e,o[3]=h,o[4]=n,o[5]=r,o},ns=function(t,s,i,e,h,n,r){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t},rs=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=i*n-e*h;return a?(a=1/a,t[0]=n*a,t[1]=-e*a,t[2]=-h*a,t[3]=i*a,t[4]=(h*o-n*r)*a,t[5]=(e*r-i*o)*a,t):null},os=function(t){return t[0]*t[3]-t[1]*t[2]},as=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=i[0],l=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=e*u+n*l,t[1]=h*u+r*l,t[2]=e*c+n*f,t[3]=h*c+r*f,t[4]=e*d+n*p+o,t[5]=h*d+r*p+a,t},us=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=Math.sin(i),l=Math.cos(i);return t[0]=e*l+n*u,t[1]=h*l+r*u,t[2]=e*-u+n*l,t[3]=h*-u+r*l,t[4]=o,t[5]=a,t},ls=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=i[0],l=i[1];return t[0]=e*u,t[1]=h*u,t[2]=n*l,t[3]=r*l,t[4]=o,t[5]=a,t},cs=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=i[0],l=i[1];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=e*u+n*l+o,t[5]=h*u+r*l+a,t},fs=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=-i,t[3]=e,t[4]=0,t[5]=0,t},ds=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},ps=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},ms=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},gs=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},ys=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},Ms=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},ws=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},Ss=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},Ts=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},bs=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=t[4],a=t[5],u=i[0],l=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return Math.abs(e-u)<=s*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(h-l)<=s*Math.max(1,Math.abs(h),Math.abs(l))&&Math.abs(n-c)<=s*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=s*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=s*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-p)<=s*Math.max(1,Math.abs(a),Math.abs(p))},xs=function(){var t=new i(9);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},vs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Cs=function(t){var s=new i(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Gs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Is=function(t,s,e,h,n,r,o,a,u){var l=new i(9);return l[0]=t,l[1]=s,l[2]=e,l[3]=h,l[4]=n,l[5]=r,l[6]=o,l[7]=a,l[8]=u,l},_s=function(t,s,i,e,h,n,r,o,a,u){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t[8]=u,t},Es=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},As=function(t,s){if(t===s){var i=s[1],e=s[2],h=s[5];t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=h}else t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8];return t},Ds=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=l*r-o*u,f=-l*n+o*a,d=u*n-r*a,p=i*c+e*f+h*d;return p?(p=1/p,t[0]=c*p,t[1]=(-l*e+h*u)*p,t[2]=(o*e-h*r)*p,t[3]=f*p,t[4]=(l*i-h*a)*p,t[5]=(-o*i+h*n)*p,t[6]=d*p,t[7]=(-u*i+e*a)*p,t[8]=(r*i-e*n)*p,t):null},Ns=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8];return t[0]=r*l-o*u,t[1]=h*u-e*l,t[2]=e*o-h*r,t[3]=o*a-n*l,t[4]=i*l-h*a,t[5]=h*n-i*o,t[6]=n*u-r*a,t[7]=e*a-i*u,t[8]=i*r-e*n,t},Ls=function(t){var s=t[0],i=t[1],e=t[2],h=t[3],n=t[4],r=t[5],o=t[6],a=t[7],u=t[8];return s*(u*n-r*a)+i*(-u*h+r*o)+e*(a*h-n*o)},Os=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=i[0],d=i[1],p=i[2],m=i[3],g=i[4],y=i[5],M=i[6],w=i[7],S=i[8];return t[0]=f*e+d*r+p*u,t[1]=f*h+d*o+p*l,t[2]=f*n+d*a+p*c,t[3]=m*e+g*r+y*u,t[4]=m*h+g*o+y*l,t[5]=m*n+g*a+y*c,t[6]=M*e+w*r+S*u,t[7]=M*h+w*o+S*l,t[8]=M*n+w*a+S*c,t},Rs=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=i[0],d=i[1];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=f*e+d*r+u,t[7]=f*h+d*o+l,t[8]=f*n+d*a+c,t},ks=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*e+f*r,t[1]=d*h+f*o,t[2]=d*n+f*a,t[3]=d*r-f*e,t[4]=d*o-f*h,t[5]=d*a-f*n,t[6]=u,t[7]=l,t[8]=c,t},Ps=function(t,s,i){var e=i[0],h=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=h*s[3],t[4]=h*s[4],t[5]=h*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Fs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},js=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=-i,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},zs=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Bs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},Us=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=i+i,o=e+e,a=h+h,u=i*r,l=e*r,c=e*o,f=h*r,d=h*o,p=h*a,m=n*r,g=n*o,y=n*a;return t[0]=1-c-p,t[3]=l-y,t[6]=f+g,t[1]=l+y,t[4]=1-u-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-u-c,t},Ws=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*r,w=i*a-h*r,S=i*u-n*r,T=e*a-h*o,b=e*u-n*o,x=h*u-n*a,v=l*m-c*p,C=l*g-f*p,G=l*y-d*p,I=c*g-f*m,_=c*y-d*m,E=f*y-d*g,A=M*E-w*_+S*I+T*G-b*C+x*v;return A?(A=1/A,t[0]=(o*E-a*_+u*I)*A,t[1]=(a*G-r*E-u*C)*A,t[2]=(r*_-o*G+u*v)*A,t[3]=(h*_-e*E-n*I)*A,t[4]=(i*E-h*G+n*C)*A,t[5]=(e*G-i*_-n*v)*A,t[6]=(m*x-g*b+y*T)*A,t[7]=(g*S-p*x-y*w)*A,t[8]=(p*b-m*S+y*M)*A,t):null},Qs=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Ys=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},Vs=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Js=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},Hs=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},qs=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Xs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},Zs=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},Ks=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],f=i[0],d=i[1],p=i[2],m=i[3],g=i[4],y=i[5],M=i[6],w=i[7],S=i[8];return Math.abs(e-f)<=s*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(h-d)<=s*Math.max(1,Math.abs(h),Math.abs(d))&&Math.abs(n-p)<=s*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-m)<=s*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(o-g)<=s*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-y)<=s*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(u-M)<=s*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-w)<=s*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(c-S)<=s*Math.max(1,Math.abs(c),Math.abs(S))},$s=function(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},ti=function(t){var s=new i(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},si=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},ii=function(t,s,e,h,n,r,o,a,u,l,c,f,d,p,m,g){var y=new i(16);return y[0]=t,y[1]=s,y[2]=e,y[3]=h,y[4]=n,y[5]=r,y[6]=o,y[7]=a,y[8]=u,y[9]=l,y[10]=c,y[11]=f,y[12]=d,y[13]=p,y[14]=m,y[15]=g,y},ei=function(t,s,i,e,h,n,r,o,a,u,l,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t[8]=u,t[9]=l,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},hi=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},ni=function(t,s){if(t===s){var i=s[1],e=s[2],h=s[3],n=s[6],r=s[7],o=s[11];t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=n,t[11]=s[14],t[12]=h,t[13]=r,t[14]=o}else t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15];return t},ri=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*r,w=i*a-h*r,S=i*u-n*r,T=e*a-h*o,b=e*u-n*o,x=h*u-n*a,v=l*m-c*p,C=l*g-f*p,G=l*y-d*p,I=c*g-f*m,_=c*y-d*m,E=f*y-d*g,A=M*E-w*_+S*I+T*G-b*C+x*v;return A?(A=1/A,t[0]=(o*E-a*_+u*I)*A,t[1]=(h*_-e*E-n*I)*A,t[2]=(m*x-g*b+y*T)*A,t[3]=(f*b-c*x-d*T)*A,t[4]=(a*G-r*E-u*C)*A,t[5]=(i*E-h*G+n*C)*A,t[6]=(g*S-p*x-y*w)*A,t[7]=(l*x-f*S+d*w)*A,t[8]=(r*_-o*G+u*v)*A,t[9]=(e*G-i*_-n*v)*A,t[10]=(p*b-m*S+y*M)*A,t[11]=(c*S-l*b-d*M)*A,t[12]=(o*C-r*I-a*v)*A,t[13]=(i*I-e*C+h*v)*A,t[14]=(m*w-p*T-g*M)*A,t[15]=(l*T-c*w+f*M)*A,t):null},oi=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=s[15],M=i*o-e*r,w=i*a-h*r,S=i*u-n*r,T=e*a-h*o,b=e*u-n*o,x=h*u-n*a,v=l*m-c*p,C=l*g-f*p,G=l*y-d*p,I=c*g-f*m,_=c*y-d*m,E=f*y-d*g;return t[0]=o*E-a*_+u*I,t[1]=h*_-e*E-n*I,t[2]=m*x-g*b+y*T,t[3]=f*b-c*x-d*T,t[4]=a*G-r*E-u*C,t[5]=i*E-h*G+n*C,t[6]=g*S-p*x-y*w,t[7]=l*x-f*S+d*w,t[8]=r*_-o*G+u*v,t[9]=e*G-i*_-n*v,t[10]=p*b-m*S+y*M,t[11]=c*S-l*b-d*M,t[12]=o*C-r*I-a*v,t[13]=i*I-e*C+h*v,t[14]=m*w-p*T-g*M,t[15]=l*T-c*w+f*M,t},ai=function(t){var s=t[0],i=t[1],e=t[2],h=t[3],n=t[4],r=t[5],o=t[6],a=t[7],u=t[8],l=t[9],c=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=s*r-i*n,y=s*o-e*n,M=i*o-e*r,w=u*p-l*d,S=u*m-c*d,T=l*m-c*p;return a*(s*T-i*S+e*w)-h*(n*T-r*S+o*w)+t[15]*(u*M-l*y+c*g)-f*(d*M-p*y+m*g)},ui=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],M=s[15],w=i[0],S=i[1],T=i[2],b=i[3];return t[0]=w*e+S*o+T*c+b*m,t[1]=w*h+S*a+T*f+b*g,t[2]=w*n+S*u+T*d+b*y,t[3]=w*r+S*l+T*p+b*M,w=i[4],S=i[5],T=i[6],b=i[7],t[4]=w*e+S*o+T*c+b*m,t[5]=w*h+S*a+T*f+b*g,t[6]=w*n+S*u+T*d+b*y,t[7]=w*r+S*l+T*p+b*M,w=i[8],S=i[9],T=i[10],b=i[11],t[8]=w*e+S*o+T*c+b*m,t[9]=w*h+S*a+T*f+b*g,t[10]=w*n+S*u+T*d+b*y,t[11]=w*r+S*l+T*p+b*M,w=i[12],S=i[13],T=i[14],b=i[15],t[12]=w*e+S*o+T*c+b*m,t[13]=w*h+S*a+T*f+b*g,t[14]=w*n+S*u+T*d+b*y,t[15]=w*r+S*l+T*p+b*M,t},li=function(t,s,i){var e,h,n,r,o,a,u,l,c,f,d,p,m=i[0],g=i[1],y=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*y+s[12],t[13]=s[1]*m+s[5]*g+s[9]*y+s[13],t[14]=s[2]*m+s[6]*g+s[10]*y+s[14],t[15]=s[3]*m+s[7]*g+s[11]*y+s[15]):(e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=u,t[7]=l,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*y+s[12],t[13]=h*m+a*g+f*y+s[13],t[14]=n*m+u*g+d*y+s[14],t[15]=r*m+l*g+p*y+s[15]),t},ci=function(t,s,i){var e=i[0],h=i[1],n=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*h,t[5]=s[5]*h,t[6]=s[6]*h,t[7]=s[7]*h,t[8]=s[8]*n,t[9]=s[9]*n,t[10]=s[10]*n,t[11]=s[11]*n,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fi=function(t,i,e,h){var n,r,o,a,u,l,c,f,d,p,m,g,y,M,w,S,T,b,x,v,C,G,I,_,E=h[0],A=h[1],D=h[2],N=Math.hypot(E,A,D);return N<s?null:(E*=N=1/N,A*=N,D*=N,n=Math.sin(e),o=1-(r=Math.cos(e)),a=i[0],u=i[1],l=i[2],c=i[3],f=i[4],d=i[5],p=i[6],m=i[7],g=i[8],y=i[9],M=i[10],w=i[11],S=E*E*o+r,T=A*E*o+D*n,b=D*E*o-A*n,x=E*A*o-D*n,v=A*A*o+r,C=D*A*o+E*n,G=E*D*o+A*n,I=A*D*o-E*n,_=D*D*o+r,t[0]=a*S+f*T+g*b,t[1]=u*S+d*T+y*b,t[2]=l*S+p*T+M*b,t[3]=c*S+m*T+w*b,t[4]=a*x+f*v+g*C,t[5]=u*x+d*v+y*C,t[6]=l*x+p*v+M*C,t[7]=c*x+m*v+w*C,t[8]=a*G+f*I+g*_,t[9]=u*G+d*I+y*_,t[10]=l*G+p*I+M*_,t[11]=c*G+m*I+w*_,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t)},di=function(t,s,i){var e=Math.sin(i),h=Math.cos(i),n=s[4],r=s[5],o=s[6],a=s[7],u=s[8],l=s[9],c=s[10],f=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=n*h+u*e,t[5]=r*h+l*e,t[6]=o*h+c*e,t[7]=a*h+f*e,t[8]=u*h-n*e,t[9]=l*h-r*e,t[10]=c*h-o*e,t[11]=f*h-a*e,t},pi=function(t,s,i){var e=Math.sin(i),h=Math.cos(i),n=s[0],r=s[1],o=s[2],a=s[3],u=s[8],l=s[9],c=s[10],f=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=n*h-u*e,t[1]=r*h-l*e,t[2]=o*h-c*e,t[3]=a*h-f*e,t[8]=n*e+u*h,t[9]=r*e+l*h,t[10]=o*e+c*h,t[11]=a*e+f*h,t},mi=function(t,s,i){var e=Math.sin(i),h=Math.cos(i),n=s[0],r=s[1],o=s[2],a=s[3],u=s[4],l=s[5],c=s[6],f=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=n*h+u*e,t[1]=r*h+l*e,t[2]=o*h+c*e,t[3]=a*h+f*e,t[4]=u*h-n*e,t[5]=l*h-r*e,t[6]=c*h-o*e,t[7]=f*h-a*e,t},gi=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},yi=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Mi=function(t,i,e){var h,n,r,o=e[0],a=e[1],u=e[2],l=Math.hypot(o,a,u);return l<s?null:(o*=l=1/l,a*=l,u*=l,h=Math.sin(i),r=1-(n=Math.cos(i)),t[0]=o*o*r+n,t[1]=a*o*r+u*h,t[2]=u*o*r-a*h,t[3]=0,t[4]=o*a*r-u*h,t[5]=a*a*r+n,t[6]=u*a*r+o*h,t[7]=0,t[8]=o*u*r+a*h,t[9]=a*u*r-o*h,t[10]=u*u*r+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},wi=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Si=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ti=function(t,s){var i=Math.sin(s),e=Math.cos(s);return t[0]=e,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},bi=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=e+e,a=h+h,u=n+n,l=e*o,c=e*a,f=e*u,d=h*a,p=h*u,m=n*u,g=r*o,y=r*a,M=r*u;return t[0]=1-(d+m),t[1]=c+M,t[2]=f-y,t[3]=0,t[4]=c-M,t[5]=1-(l+m),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(l+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},xi=function(t,s){var e=new i(3),h=-s[0],n=-s[1],r=-s[2],o=s[3],a=s[4],u=s[5],l=s[6],c=s[7],f=h*h+n*n+r*r+o*o;return f>0?(e[0]=2*(a*o+c*h+u*r-l*n)/f,e[1]=2*(u*o+c*n+l*h-a*r)/f,e[2]=2*(l*o+c*r+a*n-u*h)/f):(e[0]=2*(a*o+c*h+u*r-l*n),e[1]=2*(u*o+c*n+l*h-a*r),e[2]=2*(l*o+c*r+a*n-u*h)),bi(t,s,e),t},vi=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},Ci=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[4],r=s[5],o=s[6],a=s[8],u=s[9],l=s[10];return t[0]=Math.hypot(i,e,h),t[1]=Math.hypot(n,r,o),t[2]=Math.hypot(a,u,l),t},Gi=function(t,s){var e=new i(3);Ci(e,s);var h=1/e[0],n=1/e[1],r=1/e[2],o=s[0]*h,a=s[1]*n,u=s[2]*r,l=s[4]*h,c=s[5]*n,f=s[6]*r,d=s[8]*h,p=s[9]*n,m=s[10]*r,g=o+c+m,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(f-p)/y,t[1]=(d-u)/y,t[2]=(a-l)/y):o>c&&o>m?(y=2*Math.sqrt(1+o-c-m),t[3]=(f-p)/y,t[0]=.25*y,t[1]=(a+l)/y,t[2]=(d+u)/y):c>m?(y=2*Math.sqrt(1+c-o-m),t[3]=(d-u)/y,t[0]=(a+l)/y,t[1]=.25*y,t[2]=(f+p)/y):(y=2*Math.sqrt(1+m-o-c),t[3]=(a-l)/y,t[0]=(d+u)/y,t[1]=(f+p)/y,t[2]=.25*y),t},Ii=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var h=e[0],n=e[1],r=e[2],o=e[4],a=e[5],u=e[6],l=e[8],c=e[9],f=e[10];i[0]=Math.hypot(h,n,r),i[1]=Math.hypot(o,a,u),i[2]=Math.hypot(l,c,f);var d=1/i[0],p=1/i[1],m=1/i[2],g=h*d,y=n*p,M=r*m,w=o*d,S=a*p,T=u*m,b=l*d,x=c*p,v=f*m,C=g+S+v,G=0;return C>0?(G=2*Math.sqrt(C+1),t[3]=.25*G,t[0]=(T-x)/G,t[1]=(b-M)/G,t[2]=(y-w)/G):g>S&&g>v?(G=2*Math.sqrt(1+g-S-v),t[3]=(T-x)/G,t[0]=.25*G,t[1]=(y+w)/G,t[2]=(b+M)/G):S>v?(G=2*Math.sqrt(1+S-g-v),t[3]=(b-M)/G,t[0]=(y+w)/G,t[1]=.25*G,t[2]=(T+x)/G):(G=2*Math.sqrt(1+v-g-S),t[3]=(y-w)/G,t[0]=(b+M)/G,t[1]=(T+x)/G,t[2]=.25*G),t},_i=function(t,s,i,e){var h=s[0],n=s[1],r=s[2],o=s[3],a=h+h,u=n+n,l=r+r,c=h*a,f=h*u,d=h*l,p=n*u,m=n*l,g=r*l,y=o*a,M=o*u,w=o*l,S=e[0],T=e[1],b=e[2];return t[0]=(1-(p+g))*S,t[1]=(f+w)*S,t[2]=(d-M)*S,t[3]=0,t[4]=(f-w)*T,t[5]=(1-(c+g))*T,t[6]=(m+y)*T,t[7]=0,t[8]=(d+M)*b,t[9]=(m-y)*b,t[10]=(1-(c+p))*b,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},Ei=function(t,s,i,e,h){var n=s[0],r=s[1],o=s[2],a=s[3],u=n+n,l=r+r,c=o+o,f=n*u,d=n*l,p=n*c,m=r*l,g=r*c,y=o*c,M=a*u,w=a*l,S=a*c,T=e[0],b=e[1],x=e[2],v=h[0],C=h[1],G=h[2],I=(1-(m+y))*T,_=(d+S)*T,E=(p-w)*T,A=(d-S)*b,D=(1-(f+y))*b,N=(g+M)*b,L=(p+w)*x,O=(g-M)*x,R=(1-(f+m))*x;return t[0]=I,t[1]=_,t[2]=E,t[3]=0,t[4]=A,t[5]=D,t[6]=N,t[7]=0,t[8]=L,t[9]=O,t[10]=R,t[11]=0,t[12]=i[0]+v-(I*v+A*C+L*G),t[13]=i[1]+C-(_*v+D*C+O*G),t[14]=i[2]+G-(E*v+N*C+R*G),t[15]=1,t},Ai=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=i+i,o=e+e,a=h+h,u=i*r,l=e*r,c=e*o,f=h*r,d=h*o,p=h*a,m=n*r,g=n*o,y=n*a;return t[0]=1-c-p,t[1]=l+y,t[2]=f-g,t[3]=0,t[4]=l-y,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Di=function(t,s,i,e,h,n,r){var o=1/(i-s),a=1/(h-e),u=1/(n-r);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(h+e)*a,t[10]=(r+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n*2*u,t[15]=0,t},Ni=function(t,s,i,e,h){var n=1/Math.tan(s/2);if(t[0]=n/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0){var r=1/(e-h);t[10]=(h+e)*r,t[14]=2*h*e*r}else t[10]=-1,t[14]=-2*e;return t},Li=function(t,s,i,e,h){var n=1/Math.tan(s/2);if(t[0]=n/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0){var r=1/(e-h);t[10]=h*r,t[14]=h*e*r}else t[10]=-1,t[14]=-e;return t},Oi=function(t,s,i,e){var h=Math.tan(s.upDegrees*Math.PI/180),n=Math.tan(s.downDegrees*Math.PI/180),r=Math.tan(s.leftDegrees*Math.PI/180),o=Math.tan(s.rightDegrees*Math.PI/180),a=2/(r+o),u=2/(h+n);return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(r-o)*a*.5,t[9]=(h-n)*u*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},Ri=function(t,s,i,e,h,n,r){var o=1/(s-i),a=1/(e-h),u=1/(n-r);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=(r+n)*u,t[15]=1,t},ki=function(t,s,i,e,h,n,r){var o=1/(s-i),a=1/(e-h),u=1/(n-r);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=n*u,t[15]=1,t},Pi=function(t,i,e,h){var n,r,o,a,u,l,c,f,d,p,m=i[0],g=i[1],y=i[2],M=h[0],w=h[1],S=h[2],T=e[0],b=e[1],x=e[2];return Math.abs(m-T)<s&&Math.abs(g-b)<s&&Math.abs(y-x)<s?hi(t):(c=m-T,f=g-b,d=y-x,n=w*(d*=p=1/Math.hypot(c,f,d))-S*(f*=p),r=S*(c*=p)-M*d,o=M*f-w*c,(p=Math.hypot(n,r,o))?(n*=p=1/p,r*=p,o*=p):(n=0,r=0,o=0),a=f*o-d*r,u=d*n-c*o,l=c*r-f*n,(p=Math.hypot(a,u,l))?(a*=p=1/p,u*=p,l*=p):(a=0,u=0,l=0),t[0]=n,t[1]=a,t[2]=c,t[3]=0,t[4]=r,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=l,t[10]=d,t[11]=0,t[12]=-(n*m+r*g+o*y),t[13]=-(a*m+u*g+l*y),t[14]=-(c*m+f*g+d*y),t[15]=1,t)},Fi=function(t,s,i,e){var h=s[0],n=s[1],r=s[2],o=e[0],a=e[1],u=e[2],l=h-i[0],c=n-i[1],f=r-i[2],d=l*l+c*c+f*f;d>0&&(l*=d=1/Math.sqrt(d),c*=d,f*=d);var p=a*f-u*c,m=u*l-o*f,g=o*c-a*l;return(d=p*p+m*m+g*g)>0&&(p*=d=1/Math.sqrt(d),m*=d,g*=d),t[0]=p,t[1]=m,t[2]=g,t[3]=0,t[4]=c*g-f*m,t[5]=f*p-l*g,t[6]=l*m-c*p,t[7]=0,t[8]=l,t[9]=c,t[10]=f,t[11]=0,t[12]=h,t[13]=n,t[14]=r,t[15]=1,t},ji=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},zi=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Bi=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Ui=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},Wi=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Qi=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},Yi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Vi=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],y=t[14],M=t[15],w=i[0],S=i[1],T=i[2],b=i[3],x=i[4],v=i[5],C=i[6],G=i[7],I=i[8],_=i[9],E=i[10],A=i[11],D=i[12],N=i[13],L=i[14],O=i[15];return Math.abs(e-w)<=s*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(h-S)<=s*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(n-T)<=s*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(r-b)<=s*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=s*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-v)<=s*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-C)<=s*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(l-G)<=s*Math.max(1,Math.abs(l),Math.abs(G))&&Math.abs(c-I)<=s*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(f-_)<=s*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(d-E)<=s*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(p-A)<=s*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(m-D)<=s*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(g-N)<=s*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(y-L)<=s*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(M-O)<=s*Math.max(1,Math.abs(M),Math.abs(O))},Ji=function(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},Hi=function(t){var s=new i(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},qi=function(t){var s=t[0],i=t[1],e=t[2];return Math.hypot(s,i,e)},Xi=function(t,s,e){var h=new i(3);return h[0]=t,h[1]=s,h[2]=e,h},Zi=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Ki=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},$i=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},te=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},se=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},ie=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},ee=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},he=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},ne=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},re=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},oe=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},ae=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},ue=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},le=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2];return Math.hypot(i,e,h)},ce=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2];return i*i+e*e+h*h},fe=function(t){var s=t[0],i=t[1],e=t[2];return s*s+i*i+e*e},de=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},pe=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},me=function(t,s){var i=s[0],e=s[1],h=s[2],n=i*i+e*e+h*h;return n>0&&(n=1/Math.sqrt(n)),t[0]=s[0]*n,t[1]=s[1]*n,t[2]=s[2]*n,t},ge=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},ye=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=i[0],o=i[1],a=i[2];return t[0]=h*a-n*o,t[1]=n*r-e*a,t[2]=e*o-h*r,t},Me=function(t,s,i,e){var h=s[0],n=s[1],r=s[2];return t[0]=h+e*(i[0]-h),t[1]=n+e*(i[1]-n),t[2]=r+e*(i[2]-r),t},we=function(t,s,i,e){var h=Math.acos(Math.min(Math.max(ge(s,i),-1),1)),n=Math.sin(h),r=Math.sin((1-e)*h)/n,o=Math.sin(e*h)/n;return t[0]=r*s[0]+o*i[0],t[1]=r*s[1]+o*i[1],t[2]=r*s[2]+o*i[2],t},Se=function(t,s,i,e,h,n){var r=n*n,o=r*(2*n-3)+1,a=r*(n-2)+n,u=r*(n-1),l=r*(3-2*n);return t[0]=s[0]*o+i[0]*a+e[0]*u+h[0]*l,t[1]=s[1]*o+i[1]*a+e[1]*u+h[1]*l,t[2]=s[2]*o+i[2]*a+e[2]*u+h[2]*l,t},Te=function(t,s,i,e,h,n){var r=1-n,o=r*r,a=n*n,u=o*r,l=3*n*o,c=3*a*r,f=a*n;return t[0]=s[0]*u+i[0]*l+e[0]*c+h[0]*f,t[1]=s[1]*u+i[1]*l+e[1]*c+h[1]*f,t[2]=s[2]*u+i[2]*l+e[2]*c+h[2]*f,t},be=function(t,s){s=s||1;var i=2*e()*Math.PI,h=2*e()-1,n=Math.sqrt(1-h*h)*s;return t[0]=Math.cos(i)*n,t[1]=Math.sin(i)*n,t[2]=h*s,t},xe=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=i[3]*e+i[7]*h+i[11]*n+i[15];return r=r||1,t[0]=(i[0]*e+i[4]*h+i[8]*n+i[12])/r,t[1]=(i[1]*e+i[5]*h+i[9]*n+i[13])/r,t[2]=(i[2]*e+i[6]*h+i[10]*n+i[14])/r,t},ve=function(t,s,i){var e=s[0],h=s[1],n=s[2];return t[0]=e*i[0]+h*i[3]+n*i[6],t[1]=e*i[1]+h*i[4]+n*i[7],t[2]=e*i[2]+h*i[5]+n*i[8],t},Ce=function(t,s,i){var e=i[0],h=i[1],n=i[2],r=i[3],o=s[0],a=s[1],u=s[2],l=h*u-n*a,c=n*o-e*u,f=e*a-h*o,d=h*f-n*c,p=n*l-e*f,m=e*c-h*l,g=2*r;return l*=g,c*=g,f*=g,d*=2,p*=2,m*=2,t[0]=o+l+d,t[1]=a+c+p,t[2]=u+f+m,t},Ge=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[0],n[1]=h[1]*Math.cos(e)-h[2]*Math.sin(e),n[2]=h[1]*Math.sin(e)+h[2]*Math.cos(e),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},Ie=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[2]*Math.sin(e)+h[0]*Math.cos(e),n[1]=h[1],n[2]=h[2]*Math.cos(e)-h[0]*Math.sin(e),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},_e=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[0]*Math.cos(e)-h[1]*Math.sin(e),n[1]=h[0]*Math.sin(e)+h[1]*Math.cos(e),n[2]=h[2],t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},Ee=function(t,s){var i=t[0],e=t[1],h=t[2],n=s[0],r=s[1],o=s[2],a=Math.sqrt((i*i+e*e+h*h)*(n*n+r*r+o*o)),u=a&&ge(t,s)/a;return Math.acos(Math.min(Math.max(u,-1),1))},Ae=function(t){return t[0]=0,t[1]=0,t[2]=0,t},De=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},Ne=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},Le=function(t,i){var e=t[0],h=t[1],n=t[2],r=i[0],o=i[1],a=i[2];return Math.abs(e-r)<=s*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(h-o)<=s*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(n-a)<=s*Math.max(1,Math.abs(n),Math.abs(a))},Oe=function(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Re=function(t){var s=new i(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},ke=function(t,s,e,h){var n=new i(4);return n[0]=t,n[1]=s,n[2]=e,n[3]=h,n},Pe=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Fe=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},je=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},ze=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Be=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},Ue=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},We=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Qe=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Ye=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Ve=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},Je=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},He=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},qe=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Xe=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2],n=s[3]-t[3];return Math.hypot(i,e,h,n)},Ze=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2],n=s[3]-t[3];return i*i+e*e+h*h+n*n},Ke=function(t){var s=t[0],i=t[1],e=t[2],h=t[3];return Math.hypot(s,i,e,h)},$e=function(t){var s=t[0],i=t[1],e=t[2],h=t[3];return s*s+i*i+e*e+h*h},th=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},sh=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},ih=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=i*i+e*e+h*h+n*n;return r>0&&(r=1/Math.sqrt(r)),t[0]=i*r,t[1]=e*r,t[2]=h*r,t[3]=n*r,t},eh=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},hh=function(t,s,i,e){var h=i[0]*e[1]-i[1]*e[0],n=i[0]*e[2]-i[2]*e[0],r=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],u=i[2]*e[3]-i[3]*e[2],l=s[0],c=s[1],f=s[2],d=s[3];return t[0]=c*u-f*a+d*o,t[1]=-l*u+f*r-d*n,t[2]=l*a-c*r+d*h,t[3]=-l*o+c*n-f*h,t},nh=function(t,s,i,e){var h=s[0],n=s[1],r=s[2],o=s[3];return t[0]=h+e*(i[0]-h),t[1]=n+e*(i[1]-n),t[2]=r+e*(i[2]-r),t[3]=o+e*(i[3]-o),t},rh=function(t,s){var i,h,n,r,o,a;s=s||1;do{o=(i=2*e()-1)*i+(h=2*e()-1)*h}while(o>=1);do{a=(n=2*e()-1)*n+(r=2*e()-1)*r}while(a>=1);var u=Math.sqrt((1-o)/a);return t[0]=s*i,t[1]=s*h,t[2]=s*n*u,t[3]=s*r*u,t},oh=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3];return t[0]=i[0]*e+i[4]*h+i[8]*n+i[12]*r,t[1]=i[1]*e+i[5]*h+i[9]*n+i[13]*r,t[2]=i[2]*e+i[6]*h+i[10]*n+i[14]*r,t[3]=i[3]*e+i[7]*h+i[11]*n+i[15]*r,t},ah=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=i[0],o=i[1],a=i[2],u=i[3],l=u*e+o*n-a*h,c=u*h+a*e-r*n,f=u*n+r*h-o*e,d=-r*e-o*h-a*n;return t[0]=l*u+d*-r+c*-a-f*-o,t[1]=c*u+d*-o+f*-r-l*-a,t[2]=f*u+d*-a+l*-o-c*-r,t[3]=s[3],t},uh=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},lh=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},ch=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},fh=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=i[0],a=i[1],u=i[2],l=i[3];return Math.abs(e-o)<=s*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(h-a)<=s*Math.max(1,Math.abs(h),Math.abs(a))&&Math.abs(n-u)<=s*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=s*Math.max(1,Math.abs(r),Math.abs(l))},dh=function(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},ph=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},mh=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},gh=function(t,i){var e=2*Math.acos(i[3]),h=Math.sin(e/2);return h>s?(t[0]=i[0]/h,t[1]=i[1]/h,t[2]=i[2]/h):(t[0]=1,t[1]=0,t[2]=0),e},yh=function(t,s){var i=V(t,s);return Math.acos(2*i*i-1)},Mh=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*l+r*o+h*u-n*a,t[1]=h*l+r*a+n*o-e*u,t[2]=n*l+r*u+e*a-h*o,t[3]=r*l-e*o-h*a-n*u,t},wh=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],r=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+r*o,t[1]=h*a+n*o,t[2]=n*a-h*o,t[3]=r*a-e*o,t},Sh=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],r=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a-n*o,t[1]=h*a+r*o,t[2]=n*a+e*o,t[3]=r*a-h*o,t},Th=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],r=s[3],o=Math.sin(i),a=Math.cos(i);return t[0]=e*a+h*o,t[1]=h*a-e*o,t[2]=n*a+r*o,t[3]=r*a-n*o,t},bh=function(t,s){var i=s[0],e=s[1],h=s[2];return t[0]=i,t[1]=e,t[2]=h,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-h*h)),t},xh=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=Math.sqrt(i*i+e*e+h*h),o=Math.exp(n),a=r>0?o*Math.sin(r)/r:0;return t[0]=i*a,t[1]=e*a,t[2]=h*a,t[3]=o*Math.cos(r),t},vh=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=Math.sqrt(i*i+e*e+h*h),o=r>0?Math.atan2(r,n)/r:0;return t[0]=i*o,t[1]=e*o,t[2]=h*o,t[3]=.5*Math.log(i*i+e*e+h*h+n*n),t},Ch=function(t,s,i){return vh(t,s),Y(t,t,i),xh(t,t),t},Gh=function(t,i,e,h){var n,r,o,a,u,l=i[0],c=i[1],f=i[2],d=i[3],p=e[0],m=e[1],g=e[2],y=e[3];return(r=l*p+c*m+f*g+d*y)<0&&(r=-r,p=-p,m=-m,g=-g,y=-y),1-r>s?(n=Math.acos(r),o=Math.sin(n),a=Math.sin((1-h)*n)/o,u=Math.sin(h*n)/o):(a=1-h,u=h),t[0]=a*l+u*p,t[1]=a*c+u*m,t[2]=a*f+u*g,t[3]=a*d+u*y,t},Ih=function(t){var s=e(),i=e(),h=e(),n=Math.sqrt(1-s),r=Math.sqrt(s);return t[0]=n*Math.sin(2*Math.PI*i),t[1]=n*Math.cos(2*Math.PI*i),t[2]=r*Math.sin(2*Math.PI*h),t[3]=r*Math.cos(2*Math.PI*h),t},_h=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=i*i+e*e+h*h+n*n,o=r?1/r:0;return t[0]=-i*o,t[1]=-e*o,t[2]=-h*o,t[3]=n*o,t},Eh=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},Ah=function(t,s){var i,e=s[0]+s[4]+s[8];if(e>0)i=Math.sqrt(e+1),t[3]=.5*i,i=.5/i,t[0]=(s[5]-s[7])*i,t[1]=(s[6]-s[2])*i,t[2]=(s[1]-s[3])*i;else{var h=0;s[4]>s[0]&&(h=1),s[8]>s[3*h+h]&&(h=2);var n=(h+1)%3,r=(h+2)%3;i=Math.sqrt(s[3*h+h]-s[3*n+n]-s[3*r+r]+1),t[h]=.5*i,i=.5/i,t[3]=(s[3*n+r]-s[3*r+n])*i,t[n]=(s[3*n+h]+s[3*h+n])*i,t[r]=(s[3*r+h]+s[3*h+r])*i}return t},Dh=function(t,s,i,e){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h,r=Math.PI/360;s*=r,e*=r,i*=r;var o=Math.sin(s),a=Math.cos(s),u=Math.sin(i),l=Math.cos(i),c=Math.sin(e),f=Math.cos(e);switch(n){case"xyz":t[0]=o*l*f+a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f-o*u*c;break;case"xzy":t[0]=o*l*f-a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f+o*u*c;break;case"yxz":t[0]=o*l*f+a*u*c,t[1]=a*u*f-o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f+o*u*c;break;case"yzx":t[0]=o*l*f+a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f-o*u*c;break;case"zxy":t[0]=o*l*f-a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c+o*u*f,t[3]=a*l*f-o*u*c;break;case"zyx":t[0]=o*l*f-a*u*c,t[1]=a*u*f+o*l*c,t[2]=a*l*c-o*u*f,t[3]=a*l*f+o*u*c;break;default:throw new Error("Unknown angle order "+n)}return t},Nh=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Lh=function(t,i){return Math.abs(eh(t,i))>=1-s},Oh=function(){var t=new i(8);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},Rh=function(t){var s=new i(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},kh=function(t,s,e,h,n,r,o,a){var u=new i(8);return u[0]=t,u[1]=s,u[2]=e,u[3]=h,u[4]=n,u[5]=r,u[6]=o,u[7]=a,u},Ph=function(t,s,e,h,n,r,o){var a=new i(8);a[0]=t,a[1]=s,a[2]=e,a[3]=h;var u=.5*n,l=.5*r,c=.5*o;return a[4]=u*h+l*e-c*s,a[5]=l*h+c*t-u*e,a[6]=c*h+u*s-l*t,a[7]=-u*t-l*s-c*e,a},Fh=function(t,s,i){var e=.5*i[0],h=.5*i[1],n=.5*i[2],r=s[0],o=s[1],a=s[2],u=s[3];return t[0]=r,t[1]=o,t[2]=a,t[3]=u,t[4]=e*u+h*a-n*o,t[5]=h*u+n*r-e*a,t[6]=n*u+e*o-h*r,t[7]=-e*r-h*o-n*a,t},jh=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},zh=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Bh=function(t,s){var e=dh();Gi(e,s);var h=new i(3);return vi(h,s),Fh(t,e,h),t},Uh=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},Wh=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Qh=function(t,s,i,e,h,n,r,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t},Yh=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},Vh=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},Jh=function(t,s){var i=s[4],e=s[5],h=s[6],n=s[7],r=-s[0],o=-s[1],a=-s[2],u=s[3];return t[0]=2*(i*u+n*r+e*a-h*o),t[1]=2*(e*u+n*o+h*r-i*a),t[2]=2*(h*u+n*a+i*o-e*r),t},Hh=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=.5*i[0],a=.5*i[1],u=.5*i[2],l=s[4],c=s[5],f=s[6],d=s[7];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=r*o+h*u-n*a+l,t[5]=r*a+n*o-e*u+c,t[6]=r*u+e*a-h*o+f,t[7]=-e*o-h*a-n*u+d,t},qh=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*r+l*e+a*n-u*h,f=a*r+l*h+u*e-o*n,d=u*r+l*n+o*h-a*e,p=l*r-o*e-a*h-u*n;return wh(t,s,i),e=t[0],h=t[1],n=t[2],r=t[3],t[4]=c*r+p*e+f*n-d*h,t[5]=f*r+p*h+d*e-c*n,t[6]=d*r+p*n+c*h-f*e,t[7]=p*r-c*e-f*h-d*n,t},Xh=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*r+l*e+a*n-u*h,f=a*r+l*h+u*e-o*n,d=u*r+l*n+o*h-a*e,p=l*r-o*e-a*h-u*n;return Sh(t,s,i),e=t[0],h=t[1],n=t[2],r=t[3],t[4]=c*r+p*e+f*n-d*h,t[5]=f*r+p*h+d*e-c*n,t[6]=d*r+p*n+c*h-f*e,t[7]=p*r-c*e-f*h-d*n,t},Zh=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=o*r+l*e+a*n-u*h,f=a*r+l*h+u*e-o*n,d=u*r+l*n+o*h-a*e,p=l*r-o*e-a*h-u*n;return Th(t,s,i),e=t[0],h=t[1],n=t[2],r=t[3],t[4]=c*r+p*e+f*n-d*h,t[5]=f*r+p*h+d*e-c*n,t[6]=d*r+p*n+c*h-f*e,t[7]=p*r-c*e-f*h-d*n,t},Kh=function(t,s,i){var e=i[0],h=i[1],n=i[2],r=i[3],o=s[0],a=s[1],u=s[2],l=s[3];return t[0]=o*r+l*e+a*n-u*h,t[1]=a*r+l*h+u*e-o*n,t[2]=u*r+l*n+o*h-a*e,t[3]=l*r-o*e-a*h-u*n,o=s[4],a=s[5],u=s[6],l=s[7],t[4]=o*r+l*e+a*n-u*h,t[5]=a*r+l*h+u*e-o*n,t[6]=u*r+l*n+o*h-a*e,t[7]=l*r-o*e-a*h-u*n,t},$h=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[0],a=i[1],u=i[2],l=i[3];return t[0]=e*l+r*o+h*u-n*a,t[1]=h*l+r*a+n*o-e*u,t[2]=n*l+r*u+e*a-h*o,t[3]=r*l-e*o-h*a-n*u,o=i[4],a=i[5],u=i[6],l=i[7],t[4]=e*l+r*o+h*u-n*a,t[5]=h*l+r*a+n*o-e*u,t[6]=n*l+r*u+e*a-h*o,t[7]=r*l-e*o-h*a-n*u,t},tn=function(t,i,e,h){if(Math.abs(h)<s)return Uh(t,i);var n=Math.hypot(e[0],e[1],e[2]);h*=.5;var r=Math.sin(h),o=r*e[0]/n,a=r*e[1]/n,u=r*e[2]/n,l=Math.cos(h),c=i[0],f=i[1],d=i[2],p=i[3];t[0]=c*l+p*o+f*u-d*a,t[1]=f*l+p*a+d*o-c*u,t[2]=d*l+p*u+c*a-f*o,t[3]=p*l-c*o-f*a-d*u;var m=i[4],g=i[5],y=i[6],M=i[7];return t[4]=m*l+M*o+g*u-y*a,t[5]=g*l+M*a+y*o-m*u,t[6]=y*l+M*u+m*a-g*o,t[7]=M*l-m*o-g*a-y*u,t},sn=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},en=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[4],a=i[5],u=i[6],l=i[7],c=s[4],f=s[5],d=s[6],p=s[7],m=i[0],g=i[1],y=i[2],M=i[3];return t[0]=e*M+r*m+h*y-n*g,t[1]=h*M+r*g+n*m-e*y,t[2]=n*M+r*y+e*g-h*m,t[3]=r*M-e*m-h*g-n*y,t[4]=e*l+r*o+h*u-n*a+c*M+p*m+f*y-d*g,t[5]=h*l+r*a+n*o-e*u+f*M+p*g+d*m-c*y,t[6]=n*l+r*u+e*a-h*o+d*M+p*y+c*g-f*m,t[7]=r*l-e*o-h*a-n*u+p*M-c*m-f*g-d*y,t},hn=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},nn=function(t,s,i,e){var h=1-e;return ot(s,i)<0&&(e=-e),t[0]=s[0]*h+i[0]*e,t[1]=s[1]*h+i[1]*e,t[2]=s[2]*h+i[2]*e,t[3]=s[3]*h+i[3]*e,t[4]=s[4]*h+i[4]*e,t[5]=s[5]*h+i[5]*e,t[6]=s[6]*h+i[6]*e,t[7]=s[7]*h+i[7]*e,t},rn=function(t,s){var i=lt(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},on=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},an=function(t,s){var i=lt(s);if(i>0){i=Math.sqrt(i);var e=s[0]/i,h=s[1]/i,n=s[2]/i,r=s[3]/i,o=s[4],a=s[5],u=s[6],l=s[7],c=e*o+h*a+n*u+r*l;t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=(o-e*c)/i,t[5]=(a-h*c)/i,t[6]=(u-n*c)/i,t[7]=(l-r*c)/i}return t},un=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},ln=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},cn=function(t,i){var e=t[0],h=t[1],n=t[2],r=t[3],o=t[4],a=t[5],u=t[6],l=t[7],c=i[0],f=i[1],d=i[2],p=i[3],m=i[4],g=i[5],y=i[6],M=i[7];return Math.abs(e-c)<=s*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(h-f)<=s*Math.max(1,Math.abs(h),Math.abs(f))&&Math.abs(n-d)<=s*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-p)<=s*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-m)<=s*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=s*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-y)<=s*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-M)<=s*Math.max(1,Math.abs(l),Math.abs(M))},fn=function(){var t=new i(2);return i!=Float32Array&&(t[0]=0,t[1]=0),t},dn=function(t){var s=new i(2);return s[0]=t[0],s[1]=t[1],s},pn=function(t,s){var e=new i(2);return e[0]=t,e[1]=s,e},mn=function(t,s){return t[0]=s[0],t[1]=s[1],t},gn=function(t,s,i){return t[0]=s,t[1]=i,t},yn=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},Mn=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},wn=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},Sn=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},Tn=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},bn=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},xn=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},vn=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},Cn=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Gn=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},In=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},_n=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return Math.hypot(i,e)},En=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},An=function(t){var s=t[0],i=t[1];return Math.hypot(s,i)},Dn=function(t){var s=t[0],i=t[1];return s*s+i*i},Nn=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},Ln=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},On=function(t,s){var i=s[0],e=s[1],h=i*i+e*e;return h>0&&(h=1/Math.sqrt(h)),t[0]=s[0]*h,t[1]=s[1]*h,t},Rn=function(t,s){return t[0]*s[0]+t[1]*s[1]},kn=function(t,s,i){var e=s[0]*i[1]-s[1]*i[0];return t[0]=t[1]=0,t[2]=e,t},Pn=function(t,s,i,e){var h=s[0],n=s[1];return t[0]=h+e*(i[0]-h),t[1]=n+e*(i[1]-n),t},Fn=function(t,s){s=s||1;var i=2*e()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},jn=function(t,s,i){var e=s[0],h=s[1];return t[0]=i[0]*e+i[2]*h,t[1]=i[1]*e+i[3]*h,t},zn=function(t,s,i){var e=s[0],h=s[1];return t[0]=i[0]*e+i[2]*h+i[4],t[1]=i[1]*e+i[3]*h+i[5],t},Bn=function(t,s,i){var e=s[0],h=s[1];return t[0]=i[0]*e+i[3]*h+i[6],t[1]=i[1]*e+i[4]*h+i[7],t},Un=function(t,s,i){var e=s[0],h=s[1];return t[0]=i[0]*e+i[4]*h+i[12],t[1]=i[1]*e+i[5]*h+i[13],t},Wn=function(t,s,i,e){var h=s[0]-i[0],n=s[1]-i[1],r=Math.sin(e),o=Math.cos(e);return t[0]=h*o-n*r+i[0],t[1]=h*r+n*o+i[1],t},Qn=function(t,s){var i=t[0],e=t[1],h=s[0],n=s[1],r=Math.sqrt((i*i+e*e)*(h*h+n*n)),o=r&&(i*h+e*n)/r;return Math.acos(Math.min(Math.max(o,-1),1))},Yn=function(t){return t[0]=0,t[1]=0,t},Vn=function(t){return"vec2("+t[0]+", "+t[1]+")"},Jn=function(t,s){return t[0]===s[0]&&t[1]===s[1]},Hn=function(t,i){var e=t[0],h=t[1],n=i[0],r=i[1];return Math.abs(e-n)<=s*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(h-r)<=s*Math.max(1,Math.abs(h),Math.abs(r))};s=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,e=Math.random,h="zyx",n=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),r={__proto__:null,EPSILON:s,get i(){return i},h:e,o:h,u:It,l:_t,equals:Et},o=zt,a=qt,u=Object.freeze({__proto__:null,create:At,clone:Dt,m:Nt,identity:Lt,M:Ot,set:Rt,S:kt,T:Pt,v:Ft,C:jt,multiply:zt,rotate:Bt,scale:Ut,G:Wt,I:Qt,_:Yt,A:Vt,D:Jt,add:Ht,N:qt,L:Xt,equals:Zt,O:Kt,R:$t,mul:o,sub:a}),l=as,c=Ms,f=Object.freeze({__proto__:null,create:ts,clone:ss,m:is,identity:es,M:hs,set:ns,T:rs,C:os,multiply:as,rotate:us,scale:ls,translate:cs,G:fs,I:ds,P:ps,_:ms,A:gs,add:ys,N:Ms,O:ws,R:Ss,L:Ts,equals:bs,mul:l,sub:c}),d=Os,p=Hs,m=Object.freeze({__proto__:null,create:xs,F:vs,clone:Cs,m:Gs,M:Is,set:_s,identity:Es,S:As,T:Ds,v:Ns,C:Ls,multiply:Os,translate:Rs,rotate:ks,scale:Ps,P:Fs,G:js,I:zs,j:Bs,B:Us,U:Ws,W:Qs,_:Ys,A:Vs,add:Js,N:Hs,O:qs,R:Xs,L:Zs,equals:Ks,mul:d,sub:p}),g=Ni,y=Ri,M=ui,w=Ui,S=Object.freeze({__proto__:null,create:$s,clone:ti,m:si,M:ii,set:ei,identity:hi,S:ni,T:ri,v:oi,C:ai,multiply:ui,translate:li,scale:ci,rotate:fi,Y:di,V:pi,J:mi,P:gi,I:yi,G:Mi,H:wi,X:Si,Z:Ti,K:bi,$:xi,tt:vi,st:Ci,it:Gi,et:Ii,ht:_i,nt:Ei,B:Ai,rt:Di,ot:Ni,perspective:g,ut:Li,lt:Oi,ct:Ri,ft:y,dt:ki,gt:Pi,yt:Fi,_:ji,A:zi,add:Bi,N:Ui,O:Wi,R:Qi,L:Yi,equals:Vi,mul:M,sub:w}),T=te,b=se,x=ie,v=le,C=ce,G=qi,I=fe,t=Ji(),_=function(s,i,e,h,n,r){var o,a;for(i||(i=3),e||(e=0),a=h?Math.min(h*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],n(t,t,r),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2];return s},E=Object.freeze({__proto__:null,create:Ji,clone:Hi,length:qi,M:Xi,m:Zi,set:Ki,add:$i,N:te,multiply:se,Mt:ie,ceil:ee,floor:he,min:ne,max:re,round:oe,scale:ae,wt:ue,St:le,Tt:ce,bt:fe,xt:de,inverse:pe,normalize:me,vt:ge,Ct:ye,Gt:Me,It:we,_t:Se,Et:Te,random:be,At:xe,Dt:ve,Nt:Ce,Y:Ge,V:Ie,J:_e,angle:Ee,Lt:Ae,_:De,L:Ne,equals:Le,sub:T,mul:b,div:x,Ot:v,Rt:C,kt:G,Pt:I,forEach:_}),A=ze,D=Be,N=Ue,L=Xe,O=Ze,R=Ke,k=$e,P=function(){var t=Oe();return function(s,i,e,h,n,r){var o,a;for(i||(i=4),e||(e=0),a=h?Math.min(h*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],t[2]=s[o+2],t[3]=s[o+3],n(t,t,r),s[o]=t[0],s[o+1]=t[1],s[o+2]=t[2],s[o+3]=t[3];return s}}(),F=Object.freeze({__proto__:null,create:Oe,clone:Re,M:ke,m:Pe,set:Fe,add:je,N:ze,multiply:Be,Mt:Ue,ceil:We,floor:Qe,min:Ye,max:Ve,round:Je,scale:He,wt:qe,St:Xe,Tt:Ze,length:Ke,bt:$e,xt:th,inverse:sh,normalize:ih,vt:eh,Ct:hh,Gt:nh,random:rh,At:oh,Nt:ah,Lt:uh,_:lh,L:ch,equals:fh,sub:A,mul:D,div:N,Ot:L,Rt:O,kt:R,Pt:k,forEach:P}),j=Re,z=ke,B=Pe,U=Fe,W=je,Q=Mh,Y=He,V=eh,J=nh,q=H=Ke,Z=X=$e,K=ih,$=ch,tt=function(){var t=Ji(),s=Xi(1,0,0),i=Xi(0,1,0);return function(e,h,n){var r=ge(h,n);return r<-.999999?(ye(t,s,h),G(t)<1e-6&&ye(t,i,h),me(t,t),mh(e,t,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(ye(t,h,n),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+r,K(e,e))}}(),st=function(){var t=dh(),s=dh();return function(i,e,h,n,r,o){return Gh(t,e,r,o),Gh(s,h,n,o),Gh(i,t,s,2*o*(1-o)),i}}(),it=function(){var t=xs();return function(s,i,e,h){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=h[0],t[4]=h[1],t[7]=h[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],K(s,Ah(s,t))}}(),et=Object.freeze({__proto__:null,create:dh,identity:ph,Ft:mh,jt:gh,zt:yh,multiply:Mh,Y:wh,V:Sh,J:Th,Bt:bh,exp:xh,Ut:vh,pow:Ch,It:Gh,random:Ih,T:_h,Wt:Eh,Qt:Ah,Yt:Dh,_:Nh,clone:j,M:z,m:B,set:U,add:W,mul:Q,scale:Y,vt:V,Gt:J,length:H,kt:q,bt:X,Pt:Z,normalize:K,L:$,equals:Lh,Vt:tt,Jt:st,Ht:it}),ht=B,nt=B,rt=en,ot=V,ut=at=H,ct=lt=X,ft=Object.freeze({__proto__:null,create:Oh,clone:Rh,M:kh,qt:Ph,K:Fh,P:jh,G:zh,F:Bh,m:Uh,identity:Wh,set:Qh,Xt:ht,Zt:Yh,Kt:nt,$t:Vh,tt:Jh,translate:Hh,Y:qh,V:Xh,J:Zh,ts:Kh,ss:$h,es:tn,add:sn,multiply:en,mul:rt,scale:hn,vt:ot,Gt:nn,T:rn,Wt:on,length:at,kt:ut,bt:lt,Pt:ct,normalize:an,_:un,L:ln,equals:cn}),dt=An,pt=Mn,mt=wn,gt=Sn,yt=_n,Mt=En,wt=Dn,St=function(){var t=fn();return function(s,i,e,h,n,r){var o,a;for(i||(i=2),e||(e=0),a=h?Math.min(h*i+e,s.length):s.length,o=e;o<a;o+=i)t[0]=s[o],t[1]=s[o+1],n(t,t,r),s[o]=t[0],s[o+1]=t[1];return s}}(),Tt=Object.freeze({__proto__:null,create:fn,clone:dn,M:pn,m:mn,set:gn,add:yn,N:Mn,multiply:wn,Mt:Sn,ceil:Tn,floor:bn,min:xn,max:vn,round:Cn,scale:Gn,wt:In,St:_n,Tt:En,length:An,bt:Dn,xt:Nn,inverse:Ln,normalize:On,vt:Rn,Ct:kn,Gt:Pn,random:Fn,hs:jn,ns:zn,Dt:Bn,At:Un,rotate:Wn,angle:Qn,Lt:Yn,_:Vn,L:Jn,equals:Hn,kt:dt,sub:pt,mul:mt,div:gt,Ot:yt,Rt:Mt,Pt:wt,forEach:St}),globalThis.rs=r,globalThis.rs.us=u,globalThis.rs.ls=f,globalThis.rs.cs=m,globalThis.rs.fs=S,globalThis.rs.ds=et,globalThis.rs.ps=ft,globalThis.rs.gs=Tt,globalThis.rs.ys=E,globalThis.rs.Ms=F}var t,s,i,e,h,n,r,o,a,u,l,c,f,d,p,m,g,y,M,w,S,T,b,x,v,C,G,I,_,E,A,D,N,L,O,R,k,P,F,j,z,B,U,W,Q,Y,V,J,H,q,X,Z,K,$,tt,st,it,et,ht,nt,rt,ot,at,ut,lt,ct,ft,dt,pt,mt,gt,yt,Mt,wt,St,Tt,bt,xt,vt,Ct;{let qn=function(t,s,i){i=i||0;var e,h,n,r,o,a,u,l=[0,0];return e=t[1][1]-t[0][1],h=t[0][0]-t[1][0],n=e*t[0][0]+h*t[0][1],r=s[1][1]-s[0][1],o=s[0][0]-s[1][0],a=r*s[0][0]+o*s[0][1],Tr(u=e*o-r*h,0,i)||(l[0]=(o*n-h*a)/u,l[1]=(e*a-r*n)/u),l},Xn=function(t,s,i,e){var h=s[0]-t[0],n=s[1]-t[1],r=e[0]-i[0],o=e[1]-i[1];if(r*n-o*h==0)return!1;var a=(h*(i[1]-t[1])+n*(t[0]-i[0]))/(r*n-o*h),u=(r*(t[1]-i[1])+o*(i[0]-t[0]))/(o*h-r*n);return a>=0&&a<=1&&u>=0&&u<=1},Zn=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},Kn=function(t,s,i){return Zn(t,s,i)>0},$n=function(t,s,i){return Zn(t,s,i)>=0},tr=function(t,s,i){return Zn(t,s,i)<0},sr=function(t,s,i){return Zn(t,s,i)<=0},ir=function(t,s,i,e){if(e){var h=bt,n=xt;h[0]=s[0]-t[0],h[1]=s[1]-t[1],n[0]=i[0]-s[0],n[1]=i[1]-s[1];var r=h[0]*n[0]+h[1]*n[1],o=Math.sqrt(h[0]*h[0]+h[1]*h[1]),a=Math.sqrt(n[0]*n[0]+n[1]*n[1]);return Math.acos(r/(o*a))<e}return 0===Zn(t,s,i)},er=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e},hr=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},nr=function(t){t.length=0},rr=function(t,s,i,e){for(var h=i;h<e;h++)t.push(s[h])},or=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!Kn(hr(t,s-1),hr(t,s),hr(t,s+1))&&(ar(t),!0)},ar=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},ur=function(t,s){return tr(hr(t,s-1),hr(t,s),hr(t,s+1))},lr=function(t,s,i){var e,h,n=vt,r=Ct;if($n(hr(t,s+1),hr(t,s),hr(t,i))&&sr(hr(t,s-1),hr(t,s),hr(t,i)))return!1;h=er(hr(t,s),hr(t,i));for(var o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&$n(hr(t,s),hr(t,i),hr(t,o+1))&&sr(hr(t,s),hr(t,i),hr(t,o))&&(n[0]=hr(t,s),n[1]=hr(t,i),r[0]=hr(t,o),r[1]=hr(t,o+1),e=qn(n,r),er(hr(t,s),e)<h))return!1;return!0},cr=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&Xn(hr(t,s),hr(t,i),hr(t,e),hr(t,e+1)))return!1;return!0},fr=function(t,s,i,e){var h=e||[];if(nr(h),s<i)for(var n=s;n<=i;n++)h.push(t[n]);else{for(n=0;n<=i;n++)h.push(t[n]);for(n=s;n<t.length;n++)h.push(t[n])}return h},dr=function(t){for(var s=[],i=[],e=[],h=[],n=Number.MAX_VALUE,r=0;r<t.length;++r)if(ur(t,r))for(var o=0;o<t.length;++o)if(lr(t,r,o)){i=dr(fr(t,r,o,h)),e=dr(fr(t,o,r,h));for(var a=0;a<e.length;a++)i.push(e[a]);i.length<n&&(s=i,n=i.length,s.push([hr(t,r),hr(t,o)]))}return s},pr=function(t){var s=dr(t);return s.length>0?mr(t,s):[t]},mr=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var h=s[e],n=0;n<i.length;n++){var r=mr(i[n],h);if(r){i.splice(n,1),i.push(r[0],r[1]);break}}return i}return h=s,e=t.indexOf(h[0]),n=t.indexOf(h[1]),-1!==e&&-1!==n&&[fr(t,e,n),fr(t,n,e)]},gr=function(t){var s,i=t;for(s=0;s<i.length-1;s++)for(var e=0;e<s-1;e++)if(Xn(i[s],i[s+1],i[e],i[e+1]))return!1;for(s=1;s<i.length-2;s++)if(Xn(i[0],i[i.length-1],i[s],i[s+1]))return!1;return!0},yr=function(t,s,i,e,h){h=h||0;var n=s[1]-t[1],r=t[0]-s[0],o=n*t[0]+r*t[1],a=e[1]-i[1],u=i[0]-e[0],l=a*i[0]+u*i[1],c=n*u-a*r;return Tr(c,0,h)?[0,0]:[(u*o-r*l)/c,(n*l-a*o)/c]},Mr=function(t,s,i,e,h,n,r){n=n||100,r=r||0,h=h||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],u=[0,0],l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],M=[],w=t,S=t;if(S.length<3)return s;if(++r>n)return console.warn("quickDecomp: max level ("+n+") reached."),s;for(var T=0;T<t.length;++T)if(ur(w,T)){i.push(w[T]),l=c=Number.MAX_VALUE;for(var b=0;b<t.length;++b)Kn(hr(w,T-1),hr(w,T),hr(w,b))&&sr(hr(w,T-1),hr(w,T),hr(w,b-1))&&(u=yr(hr(w,T-1),hr(w,T),hr(w,b),hr(w,b-1)),tr(hr(w,T+1),hr(w,T),u)&&(f=er(w[T],u))<c&&(c=f,a=u,m=b)),Kn(hr(w,T+1),hr(w,T),hr(w,b+1))&&sr(hr(w,T+1),hr(w,T),hr(w,b))&&(u=yr(hr(w,T+1),hr(w,T),hr(w,b),hr(w,b+1)),Kn(hr(w,T-1),hr(w,T),u)&&(f=er(w[T],u))<l&&(l=f,o=u,p=b));if(m===(p+1)%t.length)u[0]=(a[0]+o[0])/2,u[1]=(a[1]+o[1])/2,e.push(u),T<p?(rr(y,w,T,p+1),y.push(u),M.push(u),0!==m&&rr(M,w,m,w.length),rr(M,w,0,T+1)):(0!==T&&rr(y,w,T,w.length),rr(y,w,0,p+1),y.push(u),M.push(u),rr(M,w,m,T+1));else{if(m>p&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(b=m;b<=p;++b)$n(hr(w,T-1),hr(w,T),hr(w,b))&&sr(hr(w,T+1),hr(w,T),hr(w,b))&&(f=er(hr(w,T),hr(w,b)))<d&&cr(w,T,b)&&(d=f,g=b%t.length);T<g?(rr(y,w,T,g+1),0!==g&&rr(M,w,g,S.length),rr(M,w,0,T+1)):(0!==T&&rr(y,w,T,S.length),rr(y,w,0,g+1),rr(M,w,g,T+1))}return y.length<M.length?(Mr(y,s,i,e,h,n,r),Mr(M,s,i,e,h,n,r)):(Mr(M,s,i,e,h,n,r),Mr(y,s,i,e,h,n,r)),s}return s.push(t),s},wr=function(t,s){for(var i=0,e=t.length-1;t.length>3&&e>=0;--e)ir(hr(t,e-1),hr(t,e),hr(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},Sr=function(t,s){for(var i=t.length-1;i>=1;--i)for(var e=t[i],h=i-1;h>=0;--h)br(e,t[h],s)&&t.splice(i,1)},Tr=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},br=function(t,s,i){return Tr(t[0],s[0],i)&&Tr(t[1],s[1],i)};bt=[],xt=[],vt=[],Ct=[],self.ws={Ss:pr,Ts:Mr,bs:gr,xs:wr,vs:Sr,Cs:or}}{let xr=!1,vr=!1,Cr="dev";const Gr=Symbol("Construct internal API token");let Ir=14;const _r=self.Gs=class{constructor(){throw TypeError("static class can't be instantiated")}static Is(){if(Ir<=0)throw new Error("cannot obtain internal API token");return--Ir,Gr}static _s(){xr=!0}static Es(){return xr}static As(){vr=!0}static Ds(){return vr}static Ns(t){Cr=t}static Ls(){return Cr}static Os(){return"final"===Cr}};_r.Rs=!1,_r.ks=!1,_r.hardwareConcurrency=navigator.hardwareConcurrency||2,self.Ps={}}{const Er=self.Gs;Er.Fs=class{constructor(t){this.js=t,this.zs=new Map,this.Bs()}Bs(){let t=this.js;(t.startsWith("?")||t.startsWith("#"))&&(t=t.substr(1));const s=t.split("&");for(const t of s)this.Us(t)}Us(t){if(!t)return;if(!t.includes("="))return void this.zs.set(t,null);const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.zs.set(i,e)}Ws(){for(const t of this.zs)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}Qs(t){return this.zs.has(t)}Ys(t){const s=this.zs.get(t);return void 0===s?null:s}Vs(){history.replaceState("",document.title,location.pathname+location.search)}Js(t){this.js=t,this.zs.clear(),this.Bs()}},Er.Hs=new Er.Fs(location.search),Er.qs=new Er.Fs(location.hash),Er.Hs.Qs("perf")&&(Er.Xs=!0),"dev"!==Er.Hs.Ys("mode")&&Er.Ns("final")}{let Ar=function(t){const s=parseFloat(t);return Lr.get(s)||(s>=13?"11":"NT "+t)};0;const Dr=self.Gs,Nr="(unknown)";Dr.Zs={Ks:Nr,$s:Nr,ti:Nr,si:Nr,ii:NaN,ei:Nr,hi:"browser",ni:!0,ri:!1,oi:!1,ai:!1,li:async()=>{}};const Lr=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]),Or=navigator.userAgent,Rr=navigator.userAgentData;if(Rr&&Rr.brands.length>0){let kr=function(t){let s="",i="",e="",h="";for(const n of t){const t=Pr.get(n.brand);!s&&t&&(s=t,i=n.version);const r=Fr.get(n.brand);!e&&r&&(e=r,h=n.version)}s||"Chromium"!==e||(Dr.Zs.ti="Chromium",Dr.Zs.si=h),Dr.Zs.ti=s||Nr,Dr.Zs.si=i||Nr,Dr.Zs.ei=e||Nr};Dr.Zs.Ks=Rr.platform,Dr.Zs.ri=Rr.mobile,Dr.Zs.ni=!Dr.Zs.ri;const Pr=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),Fr=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);kr(Rr.brands);let jr=!1;Dr.Zs.li=async()=>{if(!jr)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);kr(t.fullVersionList),"Windows"===Dr.Zs.Ks?Dr.Zs.$s=Ar(t.platformVersion):Dr.Zs.$s=t.platformVersion,jr=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let zr=function(t,s){const i=Array.isArray(t)?t:[t];for(const t of i){const i=t.exec(Or);if(i){s(i);break}}};zr(/windows\s+nt\s+([\d\.]+)/i,(t=>{Dr.Zs.Ks="Windows";const s=t[1];Dr.Zs.$s=Ar(s)})),zr(/mac\s+os\s+x\s+([\d\._]+)/i,(t=>{Dr.Zs.Ks="macOS",Dr.Zs.$s=t[1].replace(/_/g,".")})),zr(/CrOS/,(()=>{Dr.Zs.Ks="Chrome OS"})),zr(/linux|openbsd|freebsd|netbsd/i,(()=>{Dr.Zs.Ks="Linux"})),zr(/android/i,(()=>{Dr.Zs.Ks="Android"})),zr(/android\s+([\d\.]+)/i,(t=>{Dr.Zs.Ks="Android",Dr.Zs.$s=t[1]})),Dr.Zs.Ks===Nr&&(zr(/(iphone|ipod|ipad)/i,(t=>{Dr.Zs.Ks="iOS"})),zr([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],(t=>{Dr.Zs.Ks="iOS",Dr.Zs.$s=t[1].replace(/_/g,".")})));const Br=/chrome\//i.test(Or),Ur=/chromium\//i.test(Or),Wr=/edg\//i.test(Or),Qr=/OPR\//.test(Or),Yr=/nwjs/i.test(Or),Vr=/safari\//i.test(Or),Jr=/webkit/i.test(Or);Wr||Qr||zr(/chrome\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Chrome",Dr.Zs.si=t[1],Dr.Zs.ei="Chromium"})),zr(/edg\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Edge",Dr.Zs.si=t[1],Dr.Zs.ei="Chromium"})),zr(/OPR\/([\d\.]+)/,(t=>{Dr.Zs.ti="Opera",Dr.Zs.si=t[1],Dr.Zs.ei="Chromium"})),zr(/chromium\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Chromium",Dr.Zs.si=t[1],Dr.Zs.ei="Chromium"})),zr(/nwjs\/[0-9.]+/i,(t=>{Dr.Zs.ti="NW.js",Dr.Zs.si=t[1],Dr.Zs.ei="Chromium",Dr.Zs.hi="nwjs"})),zr(/firefox\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Firefox",Dr.Zs.si=t[1],Dr.Zs.ei="Gecko"})),!Vr||Br||Ur||Wr||Qr||Yr||(Dr.Zs.ti="Safari",Dr.Zs.ei="WebKit",zr(/version\/([\d\.]+)/i,(t=>{Dr.Zs.si=t[1]})),zr(/crios\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Chrome for iOS",Dr.Zs.si=t[1]})),zr(/fxios\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Firefox for iOS",Dr.Zs.si=t[1]})),zr(/edgios\/([\d\.]+)/i,(t=>{Dr.Zs.ti="Edge for iOS",Dr.Zs.si=t[1]}))),Dr.Zs.ei===Nr&&Jr&&(Dr.Zs.ei="WebKit"),"Android"===Dr.Zs.Ks&&"Safari"===Dr.Zs.ti&&(Dr.Zs.ti="Stock");const Hr=new Set(["Windows","macOS","Linux","Chrome OS"]).has(Dr.Zs.Ks)||"nwjs"===Dr.Zs.hi;Dr.Zs.ni=Hr,Dr.Zs.ri=!Hr}"Chrome"===Dr.Zs.ti&&"browser"===Dr.Zs.hi&&/wv\)/.test(Or)&&(Dr.Zs.hi="webview"),"nwjs"!==Dr.Zs.hi&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(Dr.Zs.hi="webapp"),Dr.Zs.ii=parseFloat(Dr.Zs.si);"macOS"===Dr.Zs.Ks&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(Dr.Zs.Ks="iOS",Dr.Zs.$s=Dr.Zs.si,Dr.Zs.ni=!1,Dr.Zs.ri=!0,Dr.Zs.ai=!0),Dr.Zs.oi="macOS"===Dr.Zs.Ks||"iOS"===Dr.Zs.Ks}{let qr=function(t){return new Promise(((s,i)=>{t.onsuccess=()=>s(t.result),t.onerror=()=>i(t.error)}))},Xr=function(t){return new Promise(((s,i)=>{t.oncomplete=()=>s(),t.onerror=()=>i(t.error),t.onabort=()=>i(t.error)}))},Zr=function(t,s){return oo(t,s)},Kr=function(t,s){return oo(t,s,!0)},$r=function(t){to(t);let s=ho.get(t);return s instanceof Promise||(s=ao(t),ho.set(t,s),s.catch((s=>ho.delete(t)))),s},to=function(t){if("string"!=typeof t)throw new TypeError("expected string")},so=function(t,s){const i=t.objectStore(eo).openCursor();return new Promise((t=>{const e=[];i.onsuccess=i=>{const h=i.target.result;if(h){switch(s){case"entries":e.push([h.key,h.value]);break;case"keys":e.push(h.key);break;case"values":e.push(h.value)}h.continue()}else t(e)}}))};0;const io=2,eo="keyvaluepairs",ho=new Map,no="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,ro="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function oo(t,s,i=!1,e=!0){const h=await $r(t);try{return s(h.transaction([eo],i?"readwrite":"readonly"))}catch(h){if(e&&"InvalidStateError"===h.name)return ho.delete(t),oo(t,s,i,!1);throw h}}async function ao(t){to(t);const s=indexedDB.open(t,io);return s.addEventListener("upgradeneeded",(s=>{try{s.target.result.createObjectStore(eo)}catch(s){console.error(`Failed to create objectstore for database ${t}`,s)}})),qr(s)}class uo{constructor(t){to(t),this.name=t}async ready(){await $r(this.name)}set(t,s){return to(t),Kr(this.name,(async i=>{const e=qr(i.objectStore(eo).put(s,t)),h=Xr(i);await Promise.all([h,e])}))}get(t){return to(t),Zr(this.name,(async s=>{const i=qr(s.objectStore(eo).get(t)),e=Xr(s),[h,n]=await Promise.all([e,i]);return n}))}delete(t){return to(t),Kr(this.name,(async s=>{const i=qr(s.objectStore(eo).delete(t)),e=Xr(s);await Promise.all([e,i])}))}clear(){return Kr(this.name,(async t=>{const s=qr(t.objectStore(eo).clear()),i=Xr(t);await Promise.all([i,s])}))}keys(){return Zr(this.name,(async t=>{let s;s=ro?qr(t.objectStore(eo).getAllKeys()):so(t,"keys");const i=Xr(t),[e,h]=await Promise.all([i,s]);return h}))}values(){return Zr(this.name,(async t=>{let s;s=no?qr(t.objectStore(eo).getAll()):so(t,"values");const i=Xr(t),[e,h]=await Promise.all([i,s]);return h}))}entries(){return Zr(this.name,(async t=>{const s=so(t,"entries"),i=Xr(t),[e,h]=await Promise.all([i,s]);return h}))}}self.ci=uo}{let lo=function(t){throw new Error(`"${t}" is not implemented`)},co=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},fo=function(t){return"object"==typeof t?new Promise((s=>{const{port1:i,port2:e}=new MessageChannel;e.onmessage=t=>s(t.data),i.postMessage(t)})):Promise.resolve(t)};0;const po=self.ci,mo=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];class go{constructor(t){this.fi=t,this.di=!this.fi,this.di||"undefined"!=typeof indexedDB||(this.di=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.pi=new Map}mi(t){if(!this.di)for(const s of mo)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.di=!0;break}}async gi(t){const s=this.pi.get(t),i=await fo(s);return void 0===i?null:i}async yi(t,s){s=await fo(s),this.pi.set(t,s)}Mi(t){this.pi.delete(t)}wi(){this.pi.clear()}Si(){return Array.from(this.pi.keys())}Ti(){return this.di}bi(){return this.pi}xi(t){this.pi=t}async getItem(t,s){if(co(s),this.di)return await this.gi(t);let i;try{i=await this.fi.get(t)}catch(s){return this.mi(s),this.di?await this.gi(t):(console.error(`Error reading '${t}' from storage, returning null: `,s),null)}return void 0===i?null:i}async setItem(t,s,i){if(co(i),void 0===s&&(s=null),this.di)await this.yi(t,s);else try{await this.fi.set(t,s)}catch(i){if(this.mi(i),!this.di)throw i;await this.yi(t,s)}}async removeItem(t,s){if(co(s),this.di)this.Mi(t);else try{await this.fi.delete(t)}catch(s){this.mi(s),this.di?this.Mi(t):console.error(`Error removing '${t}' from storage: `,s)}}async clear(t){if(co(t),this.di)this.wi();else try{await this.fi.clear()}catch(t){this.mi(t),this.di?this.wi():console.error("Error clearing storage: ",t)}}async keys(t){if(co(t),this.di)return this.Si();let s=[];try{s=await this.fi.keys()}catch(t){if(this.mi(t),this.di)return this.Si();console.error("Error getting storage keys: ",t)}return s}ready(t){return co(t),this.di?Promise.resolve(!0):this.fi.ready()}Ci(t){if(t.Gi)return new go(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new po(s);return new go(i)}}length(t){lo("localforage.length()")}key(t,s){lo("localforage.key()")}iterate(t,s){lo("localforage.iterate()")}Ii(t){lo("localforage.setDriver()")}config(t){lo("localforage.config()")}_i(t){lo("localforage.defineDriver()")}Ei(){lo("localforage.driver()")}supports(t){lo("localforage.supports()")}dropInstance(){lo("localforage.dropInstance()")}}self.localforage=new go(new po("localforage"))}{const yo=self.Gs;if(yo.Ai={},yo.Ai.Di=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");return void 0!==t.animate&&void 0!==t.animate([{opacity:"0"},{opacity:"1"}],1e3).reverse}catch(t){return!1}})(),yo.Ai.Ni="undefined"!=typeof HTMLDialogElement,yo.Ai.Li=!!self.requestIdleCallback,yo.Ai.ImageBitmap=!!self.createImageBitmap,yo.Ai.ImageBitmapOptions=!1,yo.Ai.Oi=!1,yo.Ai.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then((()=>{yo.Ai.ImageBitmapOptions=!0})).catch((()=>{yo.Ai.ImageBitmapOptions=!1}))}catch(Mo){yo.Ai.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then((t=>{yo.Ai.Oi=10===t.width&&10===t.height})).catch((()=>{yo.Ai.Oi=!1}))}catch(wo){yo.Ai.Oi=!1}}if(yo.Ai.Ri=!(!navigator.clipboard||!navigator.clipboard.readText),yo.Ai.ki=!(!navigator.permissions||!navigator.permissions.query),yo.Ai.Pi=!1,yo.Ai.ki){const So={name:"clipboard-read"};navigator.permissions.query(So).then((()=>{yo.Ai.Pi=!0})).catch((()=>{yo.Ai.Pi=!1}))}yo.Ai.Fi=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),yo.Ai.ji="undefined"!=typeof Proxy,yo.Ai.zi="undefined"!=typeof document&&void 0!==document.createElement("a").download,yo.Ai.Bi="function"==typeof fetch,yo.Ai.Ui=!!(self.isSecureContext&&"Opera"!==yo.Zs.ti&&navigator.storage&&navigator.storage.persist),yo.Ai.Wi=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),yo.Ai.Qi=(()=>{if("undefined"==typeof document)return!1;if("iOS"===yo.Zs.Ks)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),yo.Ai.ImageDecoder=void 0!==self.ImageDecoder,yo.Ai.Yi=!!self.VideoEncoder,yo.Ai.Vi=!!self.showOpenFilePicker,yo.Ai.Ji=!!self.queryLocalFonts,yo.Ai.UserActivation=!!navigator.userActivation,yo.Ai.Hi=!1,(async()=>{let t;"undefined"==typeof document?t=new OffscreenCanvas(32,32):(t=document.createElement("canvas"),t.width=32,t.height=32);const s=t.getContext("2d");s.fillStyle="blue",s.fillRect(0,0,32,32);let i=null;try{t.convertToBlob?i=await t.convertToBlob({type:"image/webp",quality:1}):t.toBlob&&(i=await new Promise((s=>t.toBlob(s,"image/webp",1)))),yo.Ai.Hi=i&&"image/webp"===i.type}catch(t){yo.Ai.Hi=!1}})()}{const To=self.Gs;if(!String.prototype.trimStart){const bo=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(bo,"")}}if(!String.prototype.trimEnd){const xo=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(xo,"")}}if(String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(To.Xi(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),!Array.prototype.flat){let vo=function(t,s){return t.reduce(((t,i)=>s>0&&Array.isArray(i)?(Array.prototype.push.apply(t,vo(i,s-1)),t):(t.push(i),t)),[])};Array.prototype.flat=function(t=1){return vo(this,t)}}Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise(((t,s)=>navigator.webkitTemporaryStorage.queryUsageAndQuota(((s,i)=>t({usage:s,quota:i})),s)))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let Co=function(t){let s="Assertion failure: "+t+"\n\nStack trace:\n"+Go.Zi();console.error(s)};0;const Go=self.Gs;self.assert=function(t,s){t||Co(s)}}{const Io=self.Gs,_o=self.Ps;Io.Ki=function(t){return"number"==typeof t},Io.$i=function(t){return Io.Ki(t)&&isFinite(t)},Io.te=function(t){if(!Io.Ki(t))throw new TypeError("expected number")},Io.se=function(t){Io.ie(t)},Io.ee=function(t,s,i){if(!Io.Ki(t)||isNaN(t)||s>t||i<t)throw new RangeError("number outside of range")},Io.he=function(...t){for(let s of t);},Io.ne=function(t){if(!Io.$i(t))throw new TypeError("expected finite number")},Io.re=function(t){Io.ie(t)},Io.oe=function(...t){for(let s of t);},Io.ae=function(t){return"string"==typeof t},Io.ue=function(t){if(!Io.ae(t))throw new TypeError("expected string")},Io.le=function(t){Io.ie(t)},Io.ce=function(...t){for(let s of t);},Io.fe=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},Io.de=function(t){if(!Io.fe(t))throw new TypeError("expected simple object")},Io.pe=function(t){if(!Io.ie(t)&&!Io.fe(t))throw new TypeError("expected simple object")},Io.me=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},Io.ge=function(t){if(!Io.me(t))throw new TypeError("expected object")},Io.ye=function(t){Io.ie(t)},Io.Me=function(...t){for(let s of t);},Io.we=function(t){return Io.Se(t,Blob)&&"string"==typeof t.name},Io.Te=function(t){if(!Io.we(t))throw new TypeError("expected file")},Io.be=function(t){Io.ie(t)},Io.xe=function(t){return Array.isArray(t)},Io.ve=function(t){if(!Io.xe(t))throw new TypeError("expected array")},Io.Ce=function(t){Io.ie(t)},Io.Ge=function(...t){for(let s of t);},Io.Ie=function(t){return!(!Io.xe(t)||t.length&&!Io.xe(t[0]))},Io._e=function(t){if(!Io.Ie(t))throw new TypeError("expected 2d array");for(let s of t)if(!Io.xe(s))throw new TypeError("expected 2d array")},Io.Ee=function(t){Io.ie(t)},Io.Ae=function(t){return"function"==typeof t},Io.De=function(t,s){if(!Io.Ae(t))throw new TypeError("expected function");if(!Io.ie(s)&&t!==s)throw new TypeError("expected same function reference")},Io.Ne=function(t){Io.ie(t)},Io.Le=function(...t){for(let s of t);},Io.Oe=function(t,...s){if(!Io.Ae(t))throw new TypeError("expected function");if(!s.length)throw new Error("missing comparison functions");for(let i of s)if(!Io.ie(i)&&t===i)return;throw new TypeError("expected same function reference")},Io.Re=function(...t){if(!Io.ie(t))for(let s of t);},Io.ke=function(t,s){return t instanceof s},Io.Pe=function(t,...s){for(let i of s)if(Io.ke(t,i))return!0;return!1},Io.Fe=function(t,s){if(!Io.ke(t,s))throw new TypeError("unexpected type")},Io.je=function(t,s){Io.ie(t)},Io.ze=function(t,...s){for(let t of s);},Io.Be=function(t,...s){if(!Io.Pe(t,...s))throw new TypeError("unexpected type")},Io.Ue=function(t,...s){if(!Io.ie(t)&&!Io.Pe(t,...s))throw new TypeError("unexpected type")},Io.We=function(t,s){for(let i of t)if(!Io.ke(i,s))return!1;return!0},Io.Qe=function(t){for(let s of t)if(!Io.$i(s))return!1;return!0},Io.Ye=function(t,s){for(let s of t);},Io.Ve=function(t,s){if(!Io.ie(t))for(let s of t);},Io.Je=function(t,s){if(!Io.ie(t))for(let s of t);},Io.He=function(t,...s){for(let s of t);},Io.qe=function(t,...s){if(!Io.ie(t))for(let s of t);},Io.Xe=function(t,s){return!(Io.ie(t)||!Io.ae(t.nodeName))&&(!s||Io.Ze(t.nodeName,s))},Io.Ke=function(t,s){if(Io.ie(t)||!Io.ae(t.nodeName))throw new TypeError("expected DOM node");if(s&&!Io.Ze(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},Io.$e=function(t,s){Io.ie(t)},Io.th=function(t,s){return!(Io.ie(t)||!Io.ae(t.tagName))&&(!s||Io.Ze(t.tagName,s))},Io.sh=function(t,s){if(Io.ie(t)||!Io.ae(t.tagName))throw new TypeError("expected HTML element");if(s&&!Io.Ze(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},Io.ih=function(t,s){Io.ie(t)},Io.eh=function(t){return Io.th(t,"img")||Io.th(t,"canvas")||Io.th(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},Io.hh=function(t){if(!Io.eh(t))throw new TypeError("expected drawable")},Io.nh=function(t){Io.ie(t)},Io.rh=function(t){return t instanceof ImageData||Io.eh(t)},Io.oh=function(t){if(!Io.rh(t))throw new TypeError("expected drawable or image data")},Io.ah=function(t){if(!Io.ie(t)&&!Io.rh(t))throw new TypeError("expected drawable or image data")},Io.uh=function(t){return"string"==typeof t||Io.fh&&t instanceof Io.fh||t instanceof Io.dh},Io.ph=function(t){if(!Io.uh(t))throw new TypeError("expected string-like")},Io.mh=function(t){Io.ie(t)},Io.gh=function(...t){for(let s of t);},Io.yh=function(){throw new Error("must be overridden")},Io.Mh=function(){throw new Error("not yet implemented")},Io.wh=function(t){return t.constructor===function*(){}.constructor},Io.Sh=function(t){if(!Io.wh(t))throw new Error("expected generator function")},Io.Th=function(t){return"function"===t[Symbol.iterator]},Io.bh=function(t){if(!Io.Th(t))throw new Error("expected iterable")},Io.xh=function(t){return!Io.ie(t)},Io.ie=function(t){return null==t},Io.Ch=function(t){let s=t[0].constructor;for(let i of t)if(i.constructor!==s)return!1;return s},Io.Gh=function(t,s){for(let i of t)if(!(i instanceof s))return!1;return!0};const Eo=Object.getPrototypeOf(Uint8Array);Io.Ih=function(t){return Io.ke(t,Eo)},Io._h=function(t){},Io.Eh=function(t){Io.Ah(t,Eo)},Io.Dh=function(t,...s){if(!Io.Nh(t,...s))throw new TypeError("unexpected type")},Io.Nh=function(t,...s){for(const i of s)if(Io.Se(t,i))return!0;return!1},Io.Ah=function(t,s){if(!Io.Se(t,s))throw new TypeError("unexpected type")},Io.Se=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},_o.te=Io.te,_o.se=Io.se,_o.ne=Io.ne,_o.re=Io.re,_o.ue=Io.ue,_o.le=Io.le,_o.ge=Io.ge,_o.ye=Io.ye,_o.ve=Io.ve,_o.Ce=Io.Ce,_o.De=Io.De,_o.Ne=Io.Ne,_o.Fe=Io.Fe,_o.je=Io.je,_o.ie=Io.ie}{let Ao=function(t,s){let i=Ro.getType(t),e=Ro.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},Do=function(t){console.warn("[Defence] "+t+" @",Ro.Zi())},No=function(){if(Wo=-1,Fo.size>0||jo.size>0){let t=[...new Set([...Fo.keys()].map((t=>Ro.getName(t))))].join(",");console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${t}`),Fo.clear(),jo.clear()}},Lo=function(t){let s=new Set;for(let i in t)s.add(i);return s},Oo=function(t,s){let i=Lo(s),e=Qo.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);Ro.Lh(s,[...i]),s.length&&console.warn(`[Defence] '${Ro.getName(t)}' constructor creates inconsistent properties: ${s.join(", ")}`)}else Qo.set(t,i)};0;const Ro=self.Gs,ko=new Map;let Po;Ro.Oh=function(t,s){console.log(`%c${t}`,`font-weight: bold; color:${s}`)},Ro.Rh=function(t,...s){ko.has(t)||ko.set(t,-1),-1===ko.get(t)&&ko.set(t,requestAnimationFrame((()=>{console.log(`%c${t}`,"font-weight: bold",...s),ko.set(t,-1)})))},Ro.kh=function(t){performance.mark(t),Po||(Po=new Map),Po.has(t)||Po.set(t,{Ph:0,total:0,Fh:0,jh:1,toString:function(){return`${t} :: current => ${this.Ph.toPrecision(3)} :: average => ${this.Fh.toPrecision(3)} :: calls => ${this.jh}`}})},Ro.zh=function(t){performance.measure(`measure-${t}`,t);const s=performance.getEntriesByName(`measure-${t}`)[0],i=Po.get(t);i.Ph=s.duration,i.total+=i.Ph,i.Fh=i.total/i.jh,console.log(i.toString()),i.jh++,performance.clearMarks(t),performance.clearMeasures(`measure-${t}`)},Ro.Zi=function(){return(new Error).stack},Ro.Bh=function(){},Ro.cast=function(t,s){return t&&t instanceof s?t:null},Ro.getName=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":Ro.Ki(t)?"<number>":Ro.ae(t)?"<string>":Ro.xe(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":Ro.Ae(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},Ro.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},Ro.range=function*(t,s){if(!isFinite(Math.abs(t-s)))throw new Error("Invalid parameters");if(t>s)for(let i=t-1;i>=s;i--)yield i;else for(let i=t;i<s;i++)yield i};let Fo=new Map,jo=new Map,zo=new WeakMap,Bo=new WeakMap;Ro.Uh={};const Uo=new Set(["then","splice"]);Ro.Uh.get=function(t,s){return s in t||"symbol"==typeof s||Uo.has(s)||Do(`Accessed missing property '${s}' from defended object '${Ro.getName(t)}', returning undefined`),Bo.has(t)&&"symbol"!=typeof s&&!Uo.has(s)&&Do(`Accessed property '${s}' on a released object '${Ro.getName(t)}'\nObject was originally released at: ${Bo.get(t)})\nCall stack at access: `),t[s]},Ro.Uh.set=function(t,s,i){return s in t||Fo.has(t)||Do(`Set non-existent property '${s}' to '${i}' on defended object '${Ro.getName(t)}'`),Ao(t[s],i)||Fo.has(t)||Do(`Set '${Ro.getType(t[s])}' property '${s}' to type '${Ro.getType(i)}' on defended object '${Ro.getName(t)}'`),Bo.has(t)&&Do(`Set property '${s}' on a released object '${Ro.getName(t)}'\nObject was originally released at: ${Bo.get(t)})\nCall stack at access: `),t[s]=i,!0},Ro.Uh.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${Ro.getName(t)}'`)},Ro.Uh.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${Ro.getName(t)}'`)},Ro.Uh.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${Ro.getName(t)}'`)};let Wo=-1;Ro.Wh=class{constructor(){if(!Ro.ks||!Ro.Ai.ji)return;let t=new.target,s=Object.create(t.prototype),i=new Proxy(s,Ro.Uh);return Fo.set(s,i),jo.set(i,s),zo.set(i,s),-1===Wo&&(Wo=requestAnimationFrame(No)),i}},Ro.Qh=function(t){if(Ro.ks&&Ro.Ai.ji&&t instanceof Ro.Wh){if(!jo.has(t))return t;let s=jo.get(t);return jo.delete(t),Fo.delete(s),t}return Ro.Rs?Object.seal(t):t},Ro.Yh=function(t,...s){let i;try{i=new t(...s)}catch(t){throw jo.clear(),Fo.clear(),t}return Ro.ks&&Oo(t,i),Ro.Qh(i)},Ro.Vh=function(t){let s=zo.get(t);s&&Bo.set(s,Ro.Zi())},Ro.Jh=function(t){let s=zo.get(t);return!!s&&!!Bo.get(s)};let Qo=new Map;Ro.Hh=class{constructor(t){this.qh="",t&&this.start(t)}start(t){Ro.Xs&&(this.qh=t,performance.mark(this.qh+"-Start"))}end(){Ro.Xs&&(performance.mark(this.qh+"-End"),performance.measure(this.qh,this.qh+"-Start",this.qh+"-End"))}next(t){Ro.Xs&&(this.end(),this.qh=t,performance.mark(this.qh+"-Start"))}}}{let Yo=function(t){return 0===t&&1/t<0};0;const Vo=self.Gs,Jo=2*Math.PI,Ho=Math.PI/180,qo=180/Math.PI;Vo.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0===e)return i;if(t<s){const h=i-(s-t)%e;return h===i?0:h}return s+(t-s)%e},Vo.Xh=function(t,s,i,e,h){const n=i-s;return 0===n&&0===e?t:(t-s)*(h-e)/n+e},Vo.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},Vo.Zh=function(t,s,i){return t<s?s:t>i?i:t},Vo.Kh=function(t){return(t%=Jo)<0&&(t+=Jo),t},Vo.$h=function(t){return t*Ho},Vo.tn=function(t){return t*qo},Vo.sn=function(t,s){return Math.sqrt(t*t+s*s)},Vo.en=function(t,s,i){return Math.sqrt(t*t+s*s+i*i)},Vo.hn=function(t,s,i,e){return Vo.sn(i-t,e-s)},Vo.nn=function(t,s,i,e){const h=i-t,n=e-s;return h*h+n*n},Vo.rn=function(t,s,i,e){return Math.atan2(e-s,i-t)},Vo.an=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),h=i*Math.sin(s)+e*Math.cos(s);return h>=1?0:h<=-1?Math.PI:Math.acos(h)},Vo.un=function(t,s,i){let e=Math.sin(t),h=Math.cos(t),n=Math.sin(s),r=Math.cos(s);return Math.acos(e*n+h*r)>i?h*n-e*r>0?Vo.Kh(t+i):Vo.Kh(t-i):Vo.Kh(s)},Vo.ln=function(t,s){let i=Math.sin(t);return Math.cos(t)*Math.sin(s)-i*Math.cos(s)<=0},Vo.cn=function(t,s,i,e=0){let h=Vo.an(t,s);const n=Jo*e;return Vo.ln(s,t)?Vo.Kh(t+(h+n)*i):Vo.Kh(t-(h+n)*i)},Vo.fn=function(t,s,i,e=0){const h=Vo.an(t,s),n=Jo*e;return Vo.ln(s,t)?Vo.Kh(t+(h+n)*i):Vo.Kh(t+(Jo-h+n)*i)},Vo.dn=function(t,s,i,e=0){const h=Vo.an(t,s),n=Jo*e;return Vo.ln(s,t)?Vo.Kh(t-(-Jo+h-n)*i):Vo.Kh(t-(h+n)*i)},Vo.pn=function(t,s){const i=Vo.an(t,s);return Vo.ln(t,s)?Vo.Kh(s-i):Vo.Kh(s+i)},Vo.Gt=function(t,s,i){return t+i*(s-t)},Vo.mn=function(t,s,i){return t===s?0:(i-t)/(s-t)},Vo.gn=function(t,s,i,e,h){return Vo.Gt(e,h,Vo.mn(t,s,i))},Vo.yn=function(t,s,i,e){return Vo.Gt(Vo.Gt(t,s,e),Vo.Gt(s,i,e),e)},Vo.Mn=function(t,s,i,e,h){return Vo.Gt(Vo.yn(t,s,i,h),Vo.yn(s,i,e,h),h)},Vo.wn=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},Vo.Sn=function(t){return t>0&&!(t-1&t)},Vo.Tn=function(t){--t;for(let s=1;s<32;s<<=1)t|=t>>s;return t+1},Vo.bn=function(t,s){return Math.round(t*s)/s},Vo.xn=function(t,s){return Math.floor(t*s)/s},Vo.vn=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},Vo.Cn=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},Vo.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;e>=0&&"0"===i.charAt(e);--e);return e>=0&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},Vo.Gn=function(t,s,i){return Vo.Zh(t,0,255)|Vo.Zh(s,0,255)<<8|Vo.Zh(i,0,255)<<16};Vo.In=function(t,s,i,e){return(t=Vo.Zh(Math.floor(1024*t),-8192,8191))<0&&(t+=16384),(s=Vo.Zh(Math.floor(1024*s),-8192,8191))<0&&(s+=16384),(i=Vo.Zh(Math.floor(1024*i),-8192,8191))<0&&(i+=16384),-(16384*t*16384*1024+16384*s*1024+1024*i+(e=Vo.Zh(Math.floor(1023*e),0,1023)))},Vo._n=function(t,s,i){return Vo.In(t,s,i,1)},Vo.En=function(t){if(t>=0)return(255&t)/255;{let s=Math.floor(-t/274877906944);return s>8191&&(s-=16384),s/1024}},Vo.An=function(t){if(t>=0)return((65280&t)>>8)/255;{let s=Math.floor(-t%274877906944/16777216);return s>8191&&(s-=16384),s/1024}},Vo.Dn=function(t){if(t>=0)return((16711680&t)>>16)/255;{let s=Math.floor(-t%16777216/1024);return s>8191&&(s-=16384),s/1024}},Vo.Nn=function(t){return Yo(t)?0:t>=0?1:Math.floor(-t%1024)/1023},Vo.Ln=function(t,s){for(t=Math.floor(t),s=Math.floor(s);0!==s;){let i=s;s=t%s,t=i}return t};const Xo=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];Vo.On=function(t,s){if((t=Math.floor(t))===(s=Math.floor(s)))return[1,1];for(let i of Xo){let e=t/i[0]*i[1];if(Math.abs(s-e)<1)return i.slice(0);if(e=t/i[1]*i[0],Math.abs(s-e)<1)return[i[1],i[0]]}let i=Vo.Ln(t,s);return[t/i,s/i]},Vo.Rn=function(t,s,i,e,h,n,r,o){const a=Math.min(t,i),u=Math.max(t,i),l=Math.min(h,r),c=Math.max(h,r);if(u<l||a>c)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(n,o),m=Math.max(n,o);if(d<p||f>m)return!1;const g=h-t+r-i,y=n-s+o-e,M=i-t,w=e-s,S=r-h,T=o-n,b=Math.abs(w*S-T*M),x=S*y-T*g;if(Math.abs(x)>b)return!1;const v=M*y-w*g;return Math.abs(v)<=b},Vo.kn=function(t,s,i,e,h,n,r,o,a,u,l,c){const f=Math.min(a,l),d=Math.max(a,l);if(n<f||h>d)return!1;const p=Math.min(u,c),m=Math.max(u,c);if(o<p||r>m)return!1;const g=a-t+l-i,y=u-s+c-e,M=i-t,w=e-s,S=l-a,T=c-u,b=Math.abs(w*S-T*M),x=S*y-T*g;if(Math.abs(x)>b)return!1;const v=M*y-w*g;return Math.abs(v)<=b},Vo.Pn=function(t,s,i,e,h){const n=Math.min(t,i),r=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),u=h.Fn(),l=h.jn(),c=h.zn(),f=h.Bn(),d=h.Un(),p=h.Wn(),m=h.Qn(),g=h.Yn();return Vo.kn(t,s,i,e,n,r,o,a,u,l,c,f)||Vo.kn(t,s,i,e,n,r,o,a,c,f,d,p)||Vo.kn(t,s,i,e,n,r,o,a,d,p,m,g)||Vo.kn(t,s,i,e,n,r,o,a,m,g,u,l)},Vo.Vn=function(t,s,i,e,h){const n=Math.min(t,i),r=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e);let u=0;for(let l=h.length-4;u<=l;u+=2)if(Vo.kn(t,s,i,e,n,r,o,a,h[u],h[u+1],h[u+2],h[u+3]))return!0;return Vo.kn(t,s,i,e,n,r,o,a,h[u],h[u+1],h[0],h[1])};Vo.Jn=function(t,s,i,e,h,n,r,o){const a=i-t,u=o-n,l=a*u-(e-s)*(r-h);if(0===l)return 2;const c=((s-e)*(r-t)+a*(o-s))/l;return 0<c&&c<1.000001?(u*(r-t)+(h-r)*(o-s))/l:2},Vo.Hn=function(t,s,i,e,h,n,r,o,a){const u=(r-h)*a,l=(o-n)*a;return Vo.Jn(t,s,i,e,h-u,n-l,r+u,o+l)},Vo.qn=function(t,s,i,e,h,n,r,o){const a=h-i,u=n-e,l=r-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=a*f+u*d,y=l*l+c*c,M=l*f+c*d,w=1/(p*y-m*m),S=(y*g-m*M)*w,T=(p*M-m*g)*w;return S>=0&&T>=0&&S+T<=1},Vo.Xn=function(t,s,i,e,h,n,r,o){const a=h-i,u=n-e,l=r-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=l*l+c*c,y=f*a+d*u,M=f*l+d*c,w=p*g-m*m,S=(g*y-m*M)/w,T=(p*M-m*y)/w;return[1-S-T,S,T]},Vo.Zn=function(t,s,i,e,h,n,r,o,a,u,l,c){return[t*e+s*r+i*u,t*h+s*o+i*l,t*n+s*a+i*c]}}{const Zo=self.Gs;let Ko=null,$o="";if("undefined"!=typeof document){Ko=document;const na=document.querySelector("base");$o=na&&na.hasAttribute("href")?na.getAttribute("href"):"",$o&&($o.startsWith("/")&&($o=$o.substr(1)),$o.endsWith("/")||($o+="/"))}Zo.Kn=function(){return $o},Zo.$n=function(){if(!Ko)return"";const t=Ko.location;return Zo.tr(t.origin+t.pathname)+$o},Zo.tr=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},Zo.sr=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},Zo.ir=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},Zo.er=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},Zo.hr=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},Zo.nr=function(t){return t.replace(/\\/g,"/")},Zo.rr=function(t,s){return s===(t?Zo.ir(t).slice(1):"")},Zo.ar=function(t,s){let i,e;return Zo.we(t)&&(i=Zo.hr(t.name)),Zo.ae(t)&&(i=Zo.hr(t)),Zo.we(s)&&(e=Zo.hr(s.name)),Zo.ae(s)&&(e=Zo.hr(s)),i===e},Zo.ur=function(t){t=Zo.nr(t);let s=/^\w\:\//.exec(t);s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=t.replace(/\/{2,}/g,"/")).length>1&&"/"===t.slice(-1)&&(t=t.slice(0,-1));const i=t.lastIndexOf("/")+1;let e,h="",n=t,r="";i>0&&(h=t.slice(0,i),n=t.slice(i)),e=n;const o=n.lastIndexOf(".");return o>0&&(r=n.slice(o),e=n.slice(0,-r.length)),{dir:h,lr:n,name:e,root:s,ext:r,cr:s+h+n}},Zo.dr=function(t,s){return new Promise(((i,e)=>{self.setTimeout(i,t,s)}))},Zo.pr=function(t){try{t()}catch(t){Zo.Rs&&console.warn("Swallowed exception: ",t)}},Zo.mr=function(){},Zo.Ze=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},Zo.gr=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},Zo.yr=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},Zo.Mr=function(t,s){t.length=s},Zo.wr=function(t){t&&0!==t.length&&Zo.Mr(t,0)},Zo.Sr=function(t){if(t){for(let s=0;s<t.length;s++){let i=t[s];Zo.Mr(i,0)}Zo.Mr(t,0)}},Zo.Tr=function(t,s,i){s|=0;const e=t.length;if(!(s<=e))for(let h=e;h<s;++h)t.push(i)},Zo.br=function(t,s,i){s|=0;const e=t.length;s<e?Zo.Mr(t,s):s>e&&Zo.Tr(t,s,i)},Zo.vr=function(t,s){Zo.wr(t),Zo.Lh(t,s)},Zo.Lh=function(t,s){if(s.length<1e4)t.push(...s);else for(let i=0,e=s.length;i<e;++i)t.push(s[i])},Zo.Cr=function(t,s){if((s=Math.floor(s))<0||s>=t.length)return;let i=t.length-1;for(let e=s;e<i;++e)t[e]=t[e+1];Zo.Mr(t,i)},Zo.Gr=function(t,s){let i=t.indexOf(s);i>=0&&t.splice(i,1)},Zo.Ir=function(t,s){let i=t.length;if(s.length!==i)return!1;for(let e=0;e<i;++e)if(t[e]!==s[e])return!1;return!0},Zo._r=function(t,s){let i=[],e=0;for(let h=0,n=t.length;h<n;++h){let n=t[h];s(n)?i.push(n):(t[e]=n,++e)}return Zo.Mr(t,e),i},Zo.Er=function(t,s){const i=t.length;let e=0;for(let i=0,h=t.length;i<h;++i){let h=t[i];s.has(h)||(t[e++]=h)}return Zo.Mr(t,e),i-e},Zo.Ar=function(t,s){return t===Math.floor(t)&&t>=0&&t<s.length},Zo.Dr=function(t,s){if(!Zo.Ar(t,s))throw new RangeError("array index out of bounds")},Zo.Nr=function(t){return t.slice()},Zo.Lr=function(t,s){let i=[];for(let e of t)if(Zo.me(e)){let t=s(e);if(!t)throw new Error("missing clone");if(t.constructor!==e.constructor)throw new Error("object is not a clone");i.push(t)}else Zo.xe(e)?i.push(Zo.Lr(e,s)):i.push(e);return i},Zo.Or=function(t){let s=[];for(let i of t)s.push(i.slice());return s},Zo.Rr=function(t,s=" "){return t?t.split(s).map((t=>t.trim())).filter((t=>!!t)):[]},Zo.kr=function(t,s,i){const e=new Set;for(const h of t.values())s(h)&&(i?e.add(i(h)):e.add(h));return e},Zo.Pr=function(t,s){return t.union?t.union(s):new Set([...t,...s])},Zo.Fr=function(t,s){for(const i of s)t.add(i);return t},Zo.jr=function(t){for(let s of t)return s;return null},Zo.xor=function(t,s){return!t!=!s},Zo.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return t>i;case 5:return t>=i;default:return!1}},Zo.zr=function(t){for(let s in t)if(t.hasOwnProperty(s))return!0;return!1},Zo.Br=function(t,s){return t.length?new Promise(((i,e)=>{const h=[];let n=0,r=!1;for(let o=0,a=t.length;o<a;++o)h.push(void 0),t[o].then((e=>{r||(h[o]=e,++n,n===t.length?i(h):s(n,t.length))})).catch((t=>{r=!0,e(t)}))})):Promise.resolve([])};let ta=[];Zo.Ur=function(t){ta.push(t)},Zo.Wr=function(){let t=0;for(let s of ta)t+=s();return Math.floor(t)};let sa=1;const ia=new Map,ea=new MessageChannel;ea.port2.onmessage=function(t){const s=t.data,i=ia.get(s);ia.delete(s),i&&i(performance.now())},Zo.Qr=function(t){const s=sa++;return ia.set(s,t),ea.port1.postMessage(s),s},Zo.Yr=function(t){ia.delete(t)},Zo.Vr=Zo.Qr,Zo.Jr=function(){return new Promise((t=>Zo.Vr(t)))};const ha=new Set;Zo.Hr=function(t){const s=self.requestAnimationFrame((async i=>{await Zo.Jr(),ha.has(s)&&(ha.delete(s),t(i))}));return ha.add(s),s},Zo.qr=function(t){ha.has(t)&&(self.cancelAnimationFrame(t),ha.delete(t))}}{const ra=self.Gs;ra.Xr=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},ra.Zr=function(t){return!ra.Xr(t)},ra.Kr=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} ${t.statusText}`)},ra.$r=function(t,s){return fetch(t,s).then((t=>(ra.Kr(t),t)))},ra.so=function(t){return ra.$r(t).then((t=>t.text()))},ra.io=function(t){return ra.$r(t).then((t=>t.json()))},ra.eo=function(t){return ra.$r(t).then((t=>t.blob()))},ra.ho=function(t){return ra.$r(t).then((t=>t.arrayBuffer()))},ra.no=function(t){return new Promise(((s,i)=>{const e=new Image;e.onload=()=>s(e),e.onerror=t=>i(t),e.src=t}))},ra.ro=function(t){return"function"==typeof t.arrayBuffer?t.arrayBuffer():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsArrayBuffer(t)}))},ra.oo=function(t){return"function"==typeof t.text?t.text():new Promise(((s,i)=>{const e=new FileReader;e.onload=()=>s(e.result),e.onerror=()=>i(e.error),e.readAsText(t)}))},ra.ao=function(t){return ra.oo(t).then((t=>JSON.parse(t)))},ra.uo=async function(t,s){let i=URL.createObjectURL(t);try{const t=await ra.no(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof t.decode&&await t.decode(),t}finally{i&&URL.revokeObjectURL(i)}},ra.lo=function(t,s){if("undefined"!=typeof document&&"function"==typeof document.createElement){const i=document.createElement("canvas");return i.width=t,i.height=s,i}return new OffscreenCanvas(t,s)},ra.co=function(t,s,i){if("number"!=typeof i&&(i=1),s=s||"image/png",i=ra.Zh(i,0,1),t.convertToBlob)return t.convertToBlob({type:s,quality:i});if(t.toBlob)return new Promise((e=>t.toBlob(e,s,i)));throw new Error("could not convert canvas to blob")},ra.fo=function(t,s,i){const e=ra.lo(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),ra.co(e,s,i)},ra.do=function(t,s,i){if(ra.Ai.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then((t=>ra.fo(t,s,i)));if(ra.Ai.ImageBitmap)return createImageBitmap(t).then((t=>ra.fo(t,s,i)));{const e=ra.lo(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),ra.co(e,s,i)}},ra.po=function(t,s){t.clear();for(const i of s)t.add(i)},ra.mo=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},ra.yo=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},ra.Mo=function t(s){if("object"==typeof s&&null!==s){if(s instanceof Set)return{_c3type_:"set",data:[...s].map((s=>t(s)))};if(s instanceof Map)return{_c3type_:"map",data:[...s].map((s=>[s[0],t(s[1])]))};{const i=Object.create(null);for(const[e,h]of Object.entries(s))i[e]=t(h);return i}}return s},ra.wo=function t(s){if("object"==typeof s&null!==s){if("set"===s._c3type_)return new Set(s.data.map((s=>t(s))));if("map"===s._c3type_)return new Map(s.data.map((s=>[s[0],t(s[1])])));{const i=Object.create(null);for(const[e,h]of Object.entries(s))i[e]=t(h);return i}}return s},ra.So=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const h of t)"-"===h?e>0&&(i=!0):i?(s+=h.toUpperCase(),i=!1):s+=h,++e;return s},ra.To=function(t){return"object"==typeof t&&"function"==typeof t.next},ra.bo=function(t,s){const i=[];if("function"==typeof s)for(let e=0;e<t;++e)i.push(s());else for(let e=0;e<t;++e)i.push(s);return i}}{let oa=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},aa=function(t,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};0;const ua=self.Gs,la=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,ca=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;ua.xo=class{constructor(t,s,i,e){this.vo=NaN,this.Co=NaN,this.Go=NaN,this.Io=NaN,this.vo=0,this.Co=0,this.Go=0,this.Io=0,t instanceof ua.xo?this.set(t):this._o(t||0,s||0,i||0,e||0)}Eo(t,s,i){return this.vo=+t,this.Co=+s,this.Go=+i,this.Zh(),this}_o(t,s,i,e){return this.vo=+t,this.Co=+s,this.Go=+i,this.Io=+e,this.Zh(),this}set(t){return this.vo=t.vo,this.Co=t.Co,this.Go=t.Go,this.Io=t.Io,this}m(t){return this.set(t)}add(t){this.vo+=t.vo,this.Co+=t.Co,this.Go+=t.Go,this.Io+=t.Io,this.Zh()}Ao(t,s,i,e=0){this.vo+=+t,this.Co+=+s,this.Go+=+i,this.Io+=+e,this.Zh()}Do(t){this.No(Math.max(this.vo,t.vo)-Math.min(this.vo,t.vo)),this.Lo(Math.max(this.Co,t.Co)-Math.min(this.Co,t.Co)),this.Oo(Math.max(this.Go,t.Go)-Math.min(this.Go,t.Go)),this.Ro(Math.max(this.Io,t.Io)-Math.min(this.Io,t.Io)),this.Zh()}ko(t){this.vo=t.vo,this.Co=t.Co,this.Go=t.Go}No(t){this.vo=ua.Zh(+t,0,1)}Po(){return this.vo}Lo(t){this.Co=ua.Zh(+t,0,1)}Fo(){return this.Co}Oo(t){this.Go=ua.Zh(+t,0,1)}jo(){return this.Go}Ro(t){this.Io=ua.Zh(+t,0,1)}zo(){return this.Io}clone(){return ua.Yh(ua.xo,this.vo,this.Co,this.Go,this.Io)}toArray(){return[this.vo,this.Co,this.Go,this.Io]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this.vo,t[s++]=this.Co,t[s++]=this.Go,t[s]=this.Io}Wo(t,s){t[s++]=this.vo,t[s++]=this.Co,t[s]=this.Go}equals(t){return this.vo===t.vo&&this.Co===t.Co&&this.Go===t.Go&&this.Io===t.Io}Qo(t){return this.vo===t.vo&&this.Co===t.Co&&this.Go===t.Go}Yo(t,s,i){return this.vo===t&&this.Co===s&&this.Go===i}Vo(t,s,i,e){return this.vo===t&&this.Co===s&&this.Go===i&&this.Io===e}Jo(t,s){return t[s]===Math.fround(this.vo)&&t[s+1]===Math.fround(this.Co)&&t[s+2]===Math.fround(this.Go)&&t[s+3]===Math.fround(this.Io)}Ho(t,s){return t[s]===Math.fround(this.vo)&&t[s+1]===Math.fround(this.Co)&&t[s+2]===Math.fround(this.Go)}multiply(t){this.vo*=t.vo,this.Co*=t.Co,this.Go*=t.Go,this.Io*=t.Io}qo(t){this.vo*=t,this.Co*=t,this.Go*=t,this.Io*=t}Xo(){return this.vo*=this.Io,this.Co*=this.Io,this.Go*=this.Io,this}Zo(){return this.vo/=this.Io,this.Co/=this.Io,this.Go/=this.Io,this}Zh(){return this.vo=ua.Zh(this.vo,0,1),this.Co=ua.Zh(this.Co,0,1),this.Go=ua.Zh(this.Go,0,1),this.Io=ua.Zh(this.Io,0,1),this}Ko(t){this.vo=ua.En(t),this.Co=ua.An(t),this.Go=ua.Dn(t),this.Io=ua.Nn(t)}$o(t,s,i){return`rgb(${100*(ua.$i(t)?t:this.Po())}%, ${100*(ua.$i(s)?s:this.Fo())}%, ${100*(ua.$i(i)?i:this.jo())}%)`}ta(t,s,i,e){return`rgba(${100*(ua.$i(t)?t:this.Po())}%, ${100*(ua.$i(s)?s:this.Fo())}%, ${100*(ua.$i(i)?i:this.jo())}%, ${ua.$i(e)?e:this.zo()})`}sa(){const t=Math.round(255*this.Po()),s=Math.round(255*this.Fo()),i=Math.round(255*this.jo());return"#"+oa(t.toString(16))+oa(s.toString(16))+oa(i.toString(16))}ia(t){if("string"!=typeof t)return!1;let s,i,e;if("#"===(t=t.trim()).charAt(0)&&(t=t.substr(1)),3===t.length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.No(s),isFinite(i)&&this.Lo(i),isFinite(e)&&this.Oo(e),this.Ro(1),!0}ea(){return`${Math.round(255*this.Po())}, ${Math.round(255*this.Fo())}, ${Math.round(255*this.jo())}`}ha(){return[Math.round(255*this.Po()),Math.round(255*this.Fo()),Math.round(255*this.jo())]}na(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(h)&&this.Oo(h),this.Ro(1),!0}ra(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(h)&&this.Oo(h),this.Ro(1),!0}oa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255,n=parseFloat(s[3].trim());return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(h)&&this.Oo(h),isFinite(n)&&this.Ro(n),!0}aa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100,n=parseFloat(s[3].trim());return isFinite(i)&&this.No(i),isFinite(e)&&this.Lo(e),isFinite(h)&&this.Oo(h),isFinite(n)&&this.Ro(n),!0}ua(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.ra(t):this.na(t);if(t.startsWith("rgba("))return t.includes("%")?this.aa(t):this.oa(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.la(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.ra(t):4===s.length&&this.aa(t):3===s.length?this.na(t):4===s.length&&this.oa(t)}}return this.ia(t)}toJSON(){return[this.vo,this.Co,this.Go,this.Io]}ca(t,s,i,e){let h,n,r;if(t%=360,s=ua.Zh(s,0,100),i=ua.Zh(i,0,100),e=ua.Zh(e,0,1),t/=360,i/=100,0==(s/=100))h=n=r=i;else{const e=i<.5?i*(1+s):i+s-i*s,o=2*i-e;h=aa(o,e,t+1/3),n=aa(o,e,t),r=aa(o,e,t-1/3)}return this.No(h),this.Lo(n),this.Oo(r),this.Ro(e),this}la(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=la.exec(s),e=ca.exec(s);return i&&4===i.length?(this.ca(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this.ca(+i[1],+i[2],+i[3],+i[4]),0))}fa(){const t=this.vo,s=this.Co,i=this.Go,e=this.Io;return`hsla(${ua.xo.da(t,s,i)}, ${ua.xo.pa(t,s,i)}%, ${ua.xo.ma(t,s,i)}%, ${e})`}ga(){const t=this.vo,s=this.Co,i=this.Go;return[ua.xo.da(t,s,i),ua.xo.pa(t,s,i),ua.xo.ma(t,s,i),this.Io]}ya(t){Array.isArray(t)&&(t.length<3||(this.vo=t[0],this.Co=t[1],this.Go=t[2],t.length>=4?this.Io=t[3]:this.Io=1))}set r(t){this.No(t)}get r(){return this.Po()}set g(t){this.Lo(t)}get g(){return this.Fo()}set b(t){this.Oo(t)}get b(){return this.jo()}set a(t){this.Ro(t)}get a(){return this.zo()}Ma(t,s){switch(t){case 0:this.No(s);break;case 1:this.Lo(s);break;case 2:this.Oo(s);break;case 3:this.Ro(s);break;default:throw new RangeError("invalid color index")}}wa(t){switch(t){case 0:return this.Po();case 1:return this.Fo();case 2:return this.jo();case 3:return this.zo();default:throw new RangeError("invalid color index")}}static Sa(t,s){let i,e;if(Array.isArray(t))i=new ua.xo,i.ya(t);else{if(!(t instanceof ua.xo))throw new Error("unexpected type");i=t}if(Array.isArray(s))e=new ua.xo,e.ya(s);else{if(!(s instanceof ua.xo))throw new Error("unexpected type");e=s}return i.equals(e)}static Ta(t,s){return ua.Zh(Math.max(t,s)-Math.min(t,s),0,1)}static ba(t,s){const i=new ua.xo;return i.No(Math.max(t.vo,s.vo)-Math.min(t.vo,s.vo)),i.Lo(Math.max(t.Co,s.Co)-Math.min(t.Co,s.Co)),i.Oo(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i.Ro(Math.max(t.Io,s.Io)-Math.min(t.Io,s.Io)),i}static xa(t,s){const i=new ua.xo(0,0,0,1);return i.No(Math.max(t.vo,s.vo)-Math.min(t.vo,s.vo)),i.Lo(Math.max(t.Co,s.Co)-Math.min(t.Co,s.Co)),i.Oo(Math.max(t.Go,s.Go)-Math.min(t.Go,s.Go)),i}static da(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;let n=0;switch(e){case t:n=(s-i)/(e-h)+(s<i?6:0);break;case s:n=(i-t)/(e-h)+2;break;case i:n=(t-s)/(e-h)+4}return Math.round(n/6*360)}static pa(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;const n=e-h,r=(e+h)/2>.5?n/(2-e-h):n/(e+h);return Math.round(100*r)}static ma(t,s,i){const e=Math.max(t,s,i),h=(e+Math.min(t,s,i))/2;return e?Math.round(100*h):0}},ua.xo.va=Object.freeze(ua.Yh(ua.xo,1,1,1,1)),ua.xo.Ca=Object.freeze(ua.Yh(ua.xo,0,0,0,1)),ua.xo.Ga=Object.freeze(ua.Yh(ua.xo,0,0,0,0))}{const fa=self.Gs;fa.Ia=class{constructor(t,s){this._a=0,this.Ea=0,t instanceof fa.Ia?this.m(t):this.set(t||0,s||0)}set(t,s){this._a=+t,this.Ea=+s}m(t){this._a=t._a,this.Ea=t.Ea}equals(t){return this._a===t._a&&this.Ea===t.Ea}Aa(t,s){return this._a===t&&this.Ea===s}Jo(t,s){return t[s]===Math.fround(this._a)&&t[s+1]===Math.fround(this.Ea)}Da(t){this._a=+t}Na(){return this._a}La(t){this.Ea=+t}Oa(){return this.Ea}toArray(){return[this._a,this.Ea]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this._a,t[s]=this.Ea}offset(t,s){this._a+=+t,this.Ea+=+s}scale(t,s){this._a*=t,this.Ea*=s}Mt(t,s){this._a/=t,this.Ea/=s}round(){this._a=Math.round(this._a),this.Ea=Math.round(this.Ea)}floor(){this._a=Math.floor(this._a),this.Ea=Math.floor(this.Ea)}ceil(){this._a=Math.ceil(this._a),this.Ea=Math.ceil(this.Ea)}angle(){return fa.rn(0,0,this._a,this.Ea)}Ra(){return this._a*this._a+this.Ea*this.Ea}length(){return fa.sn(this._a,this.Ea)}ka(t,s){const i=this._a*s-this.Ea*t;this.Ea=this.Ea*s+this._a*t,this._a=i}rotate(t){0!==t&&this.ka(Math.sin(t),Math.cos(t))}Pa(t,s,i){0===t||s===this._a&&i===this.Ea||(this._a-=s,this.Ea-=i,this.ka(Math.sin(t),Math.cos(t)),this._a+=+s,this.Ea+=+i)}move(t,s){0!==s&&(this._a+=Math.cos(t)*s,this.Ea+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this._a/=t,this.Ea/=t)}Zh(t,s){this._a=fa.Zh(this._a,t,s),this.Ea=fa.Zh(this.Ea,t,s)}vt(t){return this._a*t._a+this.Ea*t.Ea}reverse(){this._a=-this._a,this.Ea=-this.Ea}Fa(){let t=this._a;return this._a=this.Ea,this.Ea=-t,this}}}{const da=self.Gs;da.Rect=class{constructor(t,s,i,e){this.ja=NaN,this.za=NaN,this.Ba=NaN,this.Ua=NaN,this.ja=0,this.za=0,this.Ba=0,this.Ua=0,t instanceof da.Rect?this.m(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.ja=+t,this.za=+s,this.Ba=+i,this.Ua=+e}Wa(t,s,i,e){t=+t,s=+s,this.ja=t,this.za=s,this.Ba=t+ +i,this.Ua=s+ +e}m(t){this.ja=+t.ja,this.za=+t.za,this.Ba=+t.Ba,this.Ua=+t.Ua}clone(){return new da.Rect(this.ja,this.za,this.Ba,this.Ua)}static Qa(t,s){const i=new da.Rect;return i.Ya(Math.min(t.ja,s.ja)),i.Va(Math.min(t.za,s.za)),i.Ja(Math.max(t.Ba,s.Ba)),i.Ha(Math.max(t.Ua,s.Ua)),i}static qa(t){return new da.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.ja===t.ja&&this.za===t.za&&this.Ba===t.Ba&&this.Ua===t.Ua}Xa(t,s,i,e){return this.ja===t&&this.za===s&&this.width()===i&&this.height()===e}Jo(t,s){return t[s]===Math.fround(this.ja)&&t[s+1]===Math.fround(this.za)&&t[s+2]===Math.fround(this.Ba)&&t[s+3]===Math.fround(this.Ua)}Ya(t){this.ja=+t}Za(){return this.ja}Va(t){this.za=+t}Ka(){return this.za}Ja(t){this.Ba=+t}$a(){return this.Ba}Ha(t){this.Ua=+t}tu(){return this.Ua}toArray(){return[this.ja,this.za,this.Ba,this.Ua]}Bo(){return new Float64Array(this.toArray())}su(){return new DOMRect(this.ja,this.za,this.width(),this.height())}static iu(t){return da.Yh(da.Rect,t.left,t.top,t.right,t.bottom)}Uo(t,s){t[s++]=this.ja,t[s++]=this.za,t[s++]=this.Ba,t[s]=this.Ua}eu(t,s){t[s++]=this.ja,t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.za,t[s++]=this.Ba,t[s++]=this.Ua,t[s++]=this.ja,t[s]=this.Ua}hu(t,s,i){t[s++]=this.ja,t[s++]=this.za,t[s++]=i,t[s++]=this.Ba,t[s++]=this.za,t[s++]=i,t[s++]=this.Ba,t[s++]=this.Ua,t[s++]=i,t[s++]=this.ja,t[s++]=this.Ua,t[s]=i}width(){return this.Ba-this.ja}height(){return this.Ua-this.za}nu(){return(this.ja+this.Ba)/2}ru(){return(this.za+this.Ua)/2}offset(t,s){t=+t,s=+s,this.ja+=t,this.za+=s,this.Ba+=t,this.Ua+=s}offsetLeft(t){this.ja+=+t}offsetTop(t){this.za+=+t}ou(t){this.Ba+=+t}au(t){this.Ua+=+t}uu(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.za<this.Ua?this.ja<this.Ba?this.Ua=this.za+this.width():this.Ua=this.za-this.width():this.ja<this.Ba?this.Ua=this.za-this.width():this.Ua=this.za+this.width()}lu(t,s){t=+t,s=+s,this.ja-=t,this.za-=s,this.Ba+=t,this.Ua+=s}cu(t,s){t=+t,s=+s,this.ja+=t,this.za+=s,this.Ba-=t,this.Ua-=s}multiply(t,s){this.ja*=t,this.za*=s,this.Ba*=t,this.Ua*=s}Mt(t,s){this.ja/=t,this.za/=s,this.Ba/=t,this.Ua/=s}fu(t){this.ja=+t-this.ja,this.Ba=+t-this.Ba}du(t){this.za=+t-this.za,this.Ua=+t-this.Ua}pu(t,s){const i=this.width(),e=this.height(),h=this.Za()+i*t,n=this.Ka()+e*s;this.Wa(h-e*s,n-i*t,e,i)}mu(){const t=this.ja;this.ja=this.Ba,this.Ba=t}gu(){const t=this.za;this.za=this.Ua,this.Ua=t}yu(t){const s=this.za;this.za=+t-this.Ua,this.Ua=+t-s}round(){this.ja=Math.round(this.ja),this.za=Math.round(this.za),this.Ba=Math.round(this.Ba),this.Ua=Math.round(this.Ua)}Mu(){this.ja=Math.ceil(this.ja),this.za=Math.ceil(this.za),this.Ba=Math.floor(this.Ba),this.Ua=Math.floor(this.Ua)}wu(){this.ja=Math.floor(this.ja),this.za=Math.floor(this.za),this.Ba=Math.ceil(this.Ba),this.Ua=Math.ceil(this.Ua)}floor(){this.ja=Math.floor(this.ja),this.za=Math.floor(this.za),this.Ba=Math.floor(this.Ba),this.Ua=Math.floor(this.Ua)}ceil(){this.ja=Math.ceil(this.ja),this.za=Math.ceil(this.za),this.Ba=Math.ceil(this.Ba),this.Ua=Math.ceil(this.Ua)}Zh(t,s,i,e){this.ja=Math.max(this.ja,+t),this.za=Math.max(this.za,+s),this.Ba=Math.min(this.Ba,+i),this.Ua=Math.min(this.Ua,+e)}Su(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.ja=da.Zh(this.ja,t,i),this.za=da.Zh(this.za,s,e),this.Ba=da.Zh(this.Ba,t,i),this.Ua=da.Zh(this.Ua,s,e)}normalize(){this.ja>this.Ba&&this.mu(),this.za>this.Ua&&this.gu()}Tu(t){return!(t.Ba<this.ja||t.Ua<this.za||t.ja>this.Ba||t.za>this.Ua)}bu(t,s,i){return!(t.Ba+s<this.ja||t.Ua+i<this.za||t.ja+s>this.Ba||t.za+i>this.Ua)}xu(t,s){return t>=this.ja&&t<=this.Ba&&s>=this.za&&s<=this.Ua}vu(t){return t.ja>=this.ja&&t.za>=this.za&&t.Ba<=this.Ba&&t.Ua<=this.Ua}Cu(t){t.ja<this.ja&&(this.ja=+t.ja),t.za<this.za&&(this.za=+t.za),t.Ba>this.Ba&&(this.Ba=+t.Ba),t.Ua>this.Ua&&(this.Ua=+t.Ua)}Gu(t){this.ja=da.Gt(t.ja,t.Ba,this.ja),this.za=da.Gt(t.za,t.Ua,this.za),this.Ba=da.Gt(t.ja,t.Ba,this.Ba),this.Ua=da.Gt(t.za,t.Ua,this.Ua)}}}{const pa=self.Gs;pa.Iu=class{constructor(t,s,i,e,h,n,r,o){this._u=NaN,this.Eu=NaN,this.Au=NaN,this.Du=NaN,this.Nu=NaN,this.Lu=NaN,this.Ou=NaN,this.Ru=NaN,this._u=0,this.Eu=0,this.Au=0,this.Du=0,this.Nu=0,this.Lu=0,this.Ou=0,this.Ru=0,t instanceof pa.Iu?this.m(t):this.set(t||0,s||0,i||0,e||0,h||0,n||0,r||0,o||0)}set(t,s,i,e,h,n,r,o){this._u=+t,this.Eu=+s,this.Au=+i,this.Du=+e,this.Nu=+h,this.Lu=+n,this.Ou=+r,this.Ru=+o}ku(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}m(t){this._u=t._u,this.Eu=t.Eu,this.Au=t.Au,this.Du=t.Du,this.Nu=t.Nu,this.Lu=t.Lu,this.Ou=t.Ou,this.Ru=t.Ru}equals(t){return this._u===t._u&&this.Eu===t.Eu&&this.Au===t.Au&&this.Du===t.Du&&this.Nu===t.Nu&&this.Lu===t.Lu&&this.Ou===t.Ou&&this.Ru===t.Ru}Pu(t){this._u=+t}Fn(){return this._u}Fu(t){this.Eu=+t}jn(){return this.Eu}ju(t){this.Au=+t}zn(){return this.Au}zu(t){this.Du=+t}Bn(){return this.Du}Bu(t){this.Nu=+t}Un(){return this.Nu}Uu(t){this.Lu=+t}Wn(){return this.Lu}Wu(t){this.Ou=+t}Qn(){return this.Ou}Qu(t){this.Ru=+t}Yn(){return this.Ru}Yu(){return new DOMQuad(new DOMPoint(this._u,this.Eu),new DOMPoint(this.Au,this.Du),new DOMPoint(this.Nu,this.Lu),new DOMPoint(this.Ou,this.Ru))}static Vu(t){return pa.Yh(pa.Iu,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this._u,this.Eu,this.Au,this.Du,this.Nu,this.Lu,this.Ou,this.Ru]}Bo(){return new Float64Array(this.toArray())}Uo(t,s){t[s++]=this._u,t[s++]=this.Eu,t[s++]=this.Au,t[s++]=this.Du,t[s++]=this.Nu,t[s++]=this.Lu,t[s++]=this.Ou,t[s]=this.Ru}Ju(t,s,i){t[s++]=this._u,t[s++]=this.Eu,t[s++]=i,t[s++]=this.Au,t[s++]=this.Du,t[s++]=i,t[s++]=this.Nu,t[s++]=this.Lu,t[s++]=i,t[s++]=this.Ou,t[s++]=this.Ru,t[s]=i}offset(t,s){t=+t,s=+s,this._u+=t,this.Eu+=s,this.Au+=t,this.Du+=s,this.Nu+=t,this.Lu+=s,this.Ou+=t,this.Ru+=s}round(){this._u=Math.round(this._u),this.Eu=Math.round(this.Eu),this.Au=Math.round(this.Au),this.Du=Math.round(this.Du),this.Nu=Math.round(this.Nu),this.Lu=Math.round(this.Lu),this.Ou=Math.round(this.Ou),this.Ru=Math.round(this.Ru)}floor(){this._u=Math.floor(this._u),this.Eu=Math.floor(this.Eu),this.Au=Math.floor(this.Au),this.Du=Math.floor(this.Du),this.Nu=Math.floor(this.Nu),this.Lu=Math.floor(this.Lu),this.Ou=Math.floor(this.Ou),this.Ru=Math.floor(this.Ru)}ceil(){this._u=Math.ceil(this._u),this.Eu=Math.ceil(this.Eu),this.Au=Math.ceil(this.Au),this.Du=Math.ceil(this.Du),this.Nu=Math.ceil(this.Nu),this.Lu=Math.ceil(this.Lu),this.Ou=Math.ceil(this.Ou),this.Ru=Math.ceil(this.Ru)}Hu(t){this._u=t.ja,this.Eu=t.za,this.Au=t.Ba,this.Du=t.za,this.Nu=t.Ba,this.Lu=t.Ua,this.Ou=t.ja,this.Ru=t.Ua}qu(t,s){0===s?this.Hu(t):this.Xu(t,Math.sin(s),Math.cos(s))}Xu(t,s,i){const e=t.ja*s,h=t.za*s,n=t.Ba*s,r=t.Ua*s,o=t.ja*i,a=t.za*i,u=t.Ba*i,l=t.Ua*i;this._u=o-h,this.Eu=a+e,this.Au=u-h,this.Du=a+n,this.Nu=u-r,this.Lu=l+n,this.Ou=o-r,this.Ru=l+e}Zu(t){t.set(Math.min(this._u,this.Au,this.Nu,this.Ou),Math.min(this.Eu,this.Du,this.Lu,this.Ru),Math.max(this._u,this.Au,this.Nu,this.Ou),Math.max(this.Eu,this.Du,this.Lu,this.Ru))}xu(t,s){let i=this.Au-this._u,e=this.Du-this.Eu;const h=this.Nu-this._u,n=this.Lu-this.Eu,r=t-this._u,o=s-this.Eu;let a=i*i+e*e,u=i*h+e*n,l=i*r+e*o;const c=h*h+n*n,f=h*r+n*o;let d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d;return p>=0&&m>0&&p+m<1||(i=this.Ou-this._u,e=this.Ru-this.Eu,a=i*i+e*e,u=i*h+e*n,l=i*r+e*o,d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d,p>=0&&m>0&&p+m<1)}nu(){return(this._u+this.Au+this.Nu+this.Ou)/4}ru(){return(this.Eu+this.Du+this.Lu+this.Ru)/4}Ku(t,s,i,e){return!(!this.xu(t,s)&&!this.xu(i,e))||pa.Pn(t,s,i,e,this)}$u(t){let s=t.nu(),i=t.ru();if(this.xu(s,i))return!0;if(s=this.nu(),i=this.ru(),t.xu(s,i))return!0;const e=this._u,h=this.Eu,n=this.Au,r=this.Du,o=this.Nu,a=this.Lu,u=this.Ou,l=this.Ru;return pa.Pn(e,h,n,r,t)||pa.Pn(n,r,o,a,t)||pa.Pn(o,a,u,l,t)||pa.Pn(u,l,e,h,t)}tl(){const t=this._u,s=this.Eu;this._u=this.Au,this.Eu=this.Du,this.Au=this.Nu,this.Du=this.Lu,this.Nu=this.Ou,this.Lu=this.Ru,this.Ou=t,this.Ru=s}sl(){this.il(0,2),this.il(1,3),this.il(6,4),this.il(7,5)}el(){this.il(0,6),this.il(1,7),this.il(2,4),this.il(3,5)}hl(){this.il(2,6),this.il(3,7)}il(t,s){const i=this.nl(t);this.rl(t,this.nl(s)),this.rl(s,i)}nl(t){switch(t){case 0:return this._u;case 1:return this.Eu;case 2:return this.Au;case 3:return this.Du;case 4:return this.Nu;case 5:return this.Lu;case 6:return this.Ou;case 7:return this.Ru;default:throw new RangeError("invalid quad point index")}}rl(t,s){switch(s=+s,t){case 0:this._u=s;break;case 1:this.Eu=s;break;case 2:this.Au=s;break;case 3:this.Du=s;break;case 4:this.Nu=s;break;case 5:this.Lu=s;break;case 6:this.Ou=s;break;case 7:this.Ru=s;break;default:throw new RangeError("invalid quad point index")}}}}{const ma=self.Gs,ga=(self.assert,[0,0,1,0,1,1,0,1]),ya=ma.Yh(ma.Iu);ma.ol=class extends ma.Wh{constructor(t,s=!0){super(),t||(t=ga),this.al=Float64Array.from(t),this.ul=new ma.Rect,this.ll=!0,this.cl=s}Vh(){}fl(){return this.al}dl(){return this.al.length/2}pl(t){this.al.length===t.length?this.al.set(t):this.al=Float64Array.from(t),this.ll=!0}ml(){this.pl(ga)}m(t){this.pl(t.al)}gl(){this.ll=!0}yl(){if(!this.ll)return;const t=this.al;let s=t[0],i=t[1],e=s,h=i;for(let n=0,r=t.length;n<r;n+=2){const r=t[n],o=t[n+1];r<s&&(s=r),r>e&&(e=r),o<i&&(i=o),o>h&&(h=o)}this.ul.set(s,i,e,h),this.ll=!1}Hu(t,s,i){let e=this.al;8!==e.length&&(e=new Float64Array(8),this.al=e),e[0]=t.Za()-s,e[1]=t.Ka()-i,e[2]=t.$a()-s,e[3]=t.Ka()-i,e[4]=t.$a()-s,e[5]=t.tu()-i,e[6]=t.Za()-s,e[7]=t.tu()-i,this.ul.m(t),0===s&&0===i||this.ul.offset(-s,-i),this.ll=!1}Ml(t,s,i){ya.m(t),ya.offset(s,i),this.pl(ya.toArray()),this.ll=!0}transform(t,s,i){let e=0,h=1;0!==i&&(e=Math.sin(i),h=Math.cos(i)),this.wl(t,s,e,h)}wl(t,s,i,e){const h=this.al;for(let n=0,r=h.length;n<r;n+=2){const r=n+1,o=h[n]*t,a=h[r]*s;h[n]=o*e-a*i,h[r]=a*e+o*i}this.ll=!0}offset(t,s){const i=this.al;for(let e=0,h=i.length;e<h;e+=2)i[e]+=t,i[e+1]+=s}xu(t,s){const i=this.al;if(t===i[0]&&s===i[1])return!0;this.yl();const e=this.ul,h=e.Za()-110,n=e.Ka()-101,r=e.$a()+131,o=e.tu()+120;let a=0,u=0,l=0,c=0,f=0,d=0,p=0,m=0;h<t?(a=h,l=t):(a=t,l=h),n<s?(u=n,c=s):(u=s,c=n),r<t?(f=r,p=t):(f=t,p=r),o<s?(d=o,m=s):(d=s,m=o);let g=0,y=0;for(let e=0,M=i.length;e<M;e+=2){const w=(e+2)%M,S=i[e],T=i[e+1],b=i[w],x=i[w+1];ma.kn(h,n,t,s,a,l,u,c,S,T,b,x)&&++g,ma.kn(r,o,t,s,f,p,d,m,S,T,b,x)&&++y}return g%2==1||y%2==1}Sl(t,s,i){const e=t.al,h=this.al;if(this.xu(e[0]+s,e[1]+i))return!0;if(t.xu(h[0]-s,h[1]-i))return!0;for(let t=0,n=h.length;t<n;t+=2){const r=(t+2)%n,o=h[t],a=h[t+1],u=h[r],l=h[r+1];let c=0,f=0,d=0,p=0;o<u?(c=o,d=u):(c=u,d=o),a<l?(f=a,p=l):(f=l,p=a);for(let t=0,h=e.length;t<h;t+=2){const n=(t+2)%h,r=e[t]+s,m=e[t+1]+i,g=e[n]+s,y=e[n+1]+i;if(ma.kn(o,a,u,l,c,d,f,p,r,m,g,y))return!0}}return!1}Ku(t,s,i,e,h,n){if(this.xu(i-t,e-s))return!0;if(this.xu(h-t,n-s))return!0;let r=0,o=0,a=0,u=0;i<h?(r=i,a=h):(r=h,a=i),e<n?(o=e,u=n):(o=n,u=e);const l=this.al;for(let c=0,f=l.length;c<f;c+=2){const d=(c+2)%f,p=l[c]+t,m=l[c+1]+s,g=l[d]+t,y=l[d+1]+s;if(ma.kn(i,e,h,n,r,a,o,u,p,m,g,y))return!0}return!1}sl(t){const s=this.al;for(let i=0,e=s.length;i<e;i+=2)s[i]=2*t-s[i];this.ll=!0}el(t){const s=this.al;for(let i=0,e=s.length;i<e;i+=2){const e=i+1;s[e]=2*t-s[e]}this.ll=!0}hl(){const t=this.al;for(let s=0,i=t.length;s<i;s+=2){const i=s+1,e=t[s];t[s]=t[i],t[i]=e}this.ll=!0}Tl(){const t=this.al;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i];return s/this.dl()}bl(){const t=this.al;let s=0;for(let i=0,e=t.length;i<e;i+=2)s+=t[i+1];return s/this.dl()}xl(){return this.al}vl(){return this.dl()}Cl(){return this.cl}}}{const Ma=self.Gs;Ma.Gl=class extends Ma.Wh{constructor(t){if(super(),this.Il=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}Vh(){this._l(),this.Il=null}El(){return 0===this.Il.size}_l(){const t=this.Il;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){const e=this.Il;let h=e.get(t);h||(h=new Map,e.set(t,h)),h.set(s,i)}Ys(t,s){const i=this.Il.get(t);return i?i.get(s):i}Qs(t,s){const i=this.Il.get(t);return!!i&&i.has(s)}Al(t,s){const i=this.Il,e=i.get(t);if(!e)return!1;const h=e.delete(s);return h&&0===e.size&&i.delete(t),h}Dl(t){const s=this.Il,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[i,e]of s.entries())e.delete(t)&&0===e.size&&s.delete(i)}Nl(){let t=0;for(const s of this.Il.values())t+=s.size;return t}*values(){for(const t of this.Il.values())yield*t.values()}*Ll(){for(const[t,s]of this.Il.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.Il.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const wa=self.Gs;wa.Ol=class extends wa.Wh{constructor(){super(),this.Rl=new Set,this.kl=[],this.Pl=!1}Vh(){this._l()}_l(){this.Rl.clear(),wa.wr(this.kl),this.Pl=!1}Fl(t){this.Rl.has(t)||(this.Rl.add(t),this.Pl||this.kl.push(t))}Qs(t){return this.Rl.has(t)}Al(t){this.Rl.delete(t)&&(this.Pl=!0)}Nl(){return this.Rl.size}El(){return 0===this.Rl.size}jl(){return this.Pl&&(this.zl(),this.Pl=!1),this.kl}zl(){const t=this.kl;wa.wr(t);for(const s of this.Rl)t.push(s)}}}{const Sa=self.Gs,Ta=new Map,ba=new Map,xa=new Map,va=new Map,Ca=new Map,Ga=new Map,Ia=new Map,_a=new Map,Ea=new Map;Ea.set("linear","noease"),Ea.set("default","noease");const Aa=["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"],Da=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Na=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]);self.Bl=class t{constructor(){}static Ul(){return"default"}static Wl(){return"noease"}static Ql(t){return Na.get(t)}static Yl(s,...i){let e,h;this.Vl(),s?(xa.has(s)||xa.set(s,new Map),e=xa.get(s),h=[...e.keys()].filter((i=>!t.Jl(i,s)||t.Jl(i,s).transition.Hl()))):(e=Ca,h=[...e.keys()]);const n=h.sort();return[...ba.keys()].concat(n).filter((t=>!i.includes(t)))}static ql(){this.Vl();const t=[...Ca.keys()];return t.sort(),[...ba.keys()].concat(t)}static Xl(){this.Vl();const t=[...Ca.keys()];return t.sort(),t}static Zl(t){for(const s of Aa)if(self.lang(`ui.bars.timeline.eases.${s}`)===t)return!0;for(const s of Da)if(self.lang(`ui.bars.timeline.short-eases.${s}`)===t)return!0}static Kl(t){return this.Vl(),[...ba.keys()].includes(t)}static $l(s){const i=Ea.get(s);return i?Ta.get(i):t.Kl(s)?Ta.get(s):Ia.has(s)?Ia.get(s):void 0}static tc(t){return this.Vl(),_a.get(t)}static sc(s,i){this.Vl();const e=t.$l(s);if(e)return e;if(!i)throw new Error("missing ease function");return xa.get(i).get(s)}static Jl(t,s){this.Vl();const i=va.get(s);if(i)return i.get(t)}static ec(s,i){return this.Vl(),!!t.$l(s)||!!xa.get(i).get(s)}static hc(s){this.Vl();return t.$l(s)||Ca.get(s)}static nc(t){return this.Vl(),Ga.get(t)}static rc(t){return this.Vl(),this.ql()[t]}static oc(t,s){return this.Vl(),this.Yl(s).indexOf(t)}static ac(t){return this.oc(t)}static Vl(){0===Ta.size&&(this.uc("default",(()=>{})),this.uc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.uc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.uc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.uc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.uc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.uc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.uc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.uc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.uc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.uc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.uc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.uc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.uc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.uc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.uc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.uc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.uc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.uc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.uc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.uc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.uc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.uc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.uc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.uc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.uc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.uc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.uc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.uc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.lc("cubicbezier",this.cc),this.lc("spline",this.fc))}static uc(s,i,e=!1){if("function"==typeof i)t.dc(s,i,"predefined");else{if(!Sa.xe(i))throw new Error("unexpected arguments");if(self.mc){const h=Sa.Yh(self.mc,s,e);h.yc(i),t.dc(s,((t,s,i,e)=>h.Mc(t,s,i,e)),"predefined"),_a.set(s,h)}else{const h=Sa.Yh(Sa.wc,[s,i.map((t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee]))],!1);h.Sc(e),t.dc(s,((t,s,i,e)=>h.Mc(t,s,i,e)),"predefined")}}}static lc(s,i){t.dc(s,i,"private")}static Tc(s,i,e,h){this.Vl(),t.dc(s,i,"custom",e,h)}static bc(t,s){if(this.Kl(t))return;if([...Ia.keys()].includes(t))return;const i=xa.get(s);i&&i.delete(t);const e=va.get(s);e&&e.delete(t)}static dc(t,s,i,e,h){switch(i){case"predefined":Ta.set(t,s),ba.set(t,s);break;case"custom":e?(xa.has(e)||xa.set(e,new Map),va.has(e)||va.set(e,new Map),xa.get(e).set(t,s),va.get(e).set(t,h)):(Ca.set(t,s),Ga.set(t,h));break;case"private":Ta.set(t,s),Ia.set(t,s);break;default:throw new Error("unexpected ease mode")}}static xc(t,s,i,e){return 0===e?s:i*t/e+s}static cc(t,s,i,e,h){return s+3*t*(i-s)+3*t**2*(s+e-2*i)+t**3*(h-s+3*i-3*e)}static fc(t,s,i,e,h,n,r,o,a,u){if(e===h&&n===r)return t;const l=za(t,s,e,n,o,u),c=Ra(i,h,r,a),f=ka(i,h,r,a),d=Pa(i,h,r,a);return Fa(l,c,f,d)}static vc(t,s,i,e){const h=[],n=Ra(t,s,i,e),r=ka(t,s,i,e),o=Pa(t,s,i,e);for(let t=0;t<La;++t){const s=Fa(t*Oa,n,r,o);h.push(s)}return h}};const La=11,Oa=1/(La-1),Ra=(t,s,i,e)=>e-3*i+3*s-t,ka=(t,s,i,e)=>3*i-6*s+3*t,Pa=(t,s,i,e)=>3*(s-t),Fa=(t,s,i,e)=>((s*t+i)*t+e)*t,ja=(t,s,i,e)=>3*s*t*t+2*i*t+e,za=(t,s,i,e,h,n)=>{if(1==t)return 1;let r=0,o=1,a=n[o],u=La-1;for(n[La-1];o!=u&&a<=t;)o++,a=n[o],r+=Oa;o--,a=n[o];let l=r+(t-a)/(n[o+1]-a)*Oa;const c=Ra(s,i,e,h),f=ka(s,i,e,h),d=Pa(s,i,e,h),p=ja(l,c,f,d);if(0===p)return l;if(p>=.01){for(let s=0;s<4;++s)l-=(Fa(l,c,f,d)-t)/ja(l,c,f,d);return l}{let s,i,e=r,h=r+Oa,n=0;do{l=e+(h-e)/2;let r=Fa(l,c,f,d)-t;r>0?h=l:e=l,s=Math.abs(r)>1e-7,i=++n<10}while(s&&i);return l}}}{let Ba=function(t){Ua.ae(t)};0;const Ua=self.Gs;Ua.Cc=class{constructor(t){this.Gc=[],this.qh=t||"",this.Ic=0}Vh(){this._l(),this.Gc=null}_c(){return this.qh}_l(){Ua.Sr(this.Gc),this.Ic=0}Ec(){return this.Ic}Ac(t=Math.random()*this.Ec()){let s=0;for(const[i,e]of this.Gc)if(s+=i,t<s)return e;return 0}Dc(){return!!this.Gc.length}Nc(t,s){Ba(s),this.Ic+=t,this.Gc.push([t,s])}Lc(t,s){Ba(s);const i=0===t;for(let e=0;e<this.Gc.length;e++){const h=this.Gc[e],n=i||h[0]===t,r=h[1]===s;if(n&&r){this.Gc.splice(e,1),this.Ic-=h[0];break}}}Oc(){return JSON.stringify(this.Gc)}static Rc(t,s){const i=new Ua.Cc(s),e=JSON.parse(t);for(const t of e){const s=t[0],e=t[1];i.Nc(s,e)}return i}}}{const Wa=self.Gs;let Qa=0;Wa.kc=class{constructor(t,s){this.Pc=t,this.Fc=s,this.jc=Qa++,this.Pc.zc("runtime","screen-reader-text",{type:"create",id:this.jc,text:this.Fc})}Vh(){this.Pc.zc("runtime","screen-reader-text",{type:"release",id:this.jc}),this.Pc=null,this.Fc="",this.jc=-1}Bc(t){this.Fc!==t&&(this.Fc=t,this.Pc.zc("runtime","screen-reader-text",{type:"update",id:this.jc,text:this.Fc}))}}}self.Gs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.Uc=!1,this.Wc=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.Wc)throw new Error(`cannot stop async event '${this.type}' propagation`);this.Uc=!0}};{const Ya=self.Gs;self.assert;Ya.Event.Qc=class extends Ya.Wh{constructor(t){super(),this.Yc=t,this.Vc=[],this.Jc=new Set,this.Hc=[],this.qc=new Set,this.Xc=0,this.Zc=[]}Vh(){this.Xc>0||(Ya.wr(this.Vc),this.Jc.clear(),Ya.wr(this.Hc),this.qc.clear(),Ya.wr(this.Zc),Ya.Vh(this))}Kc(t,s){if(this.$c())this.Zc.push({tf:"add",sf:t,capture:s});else if(s){if(this.Jc.has(t))return;this.Vc.push(t),this.Jc.add(t)}else{if(this.qc.has(t))return;this.Hc.push(t),this.qc.add(t)}}if(t,s){this.$c()?this.Zc.push({tf:"remove",sf:t,capture:s}):s?this.Jc.has(t)&&(this.Jc.delete(t),Ya.Gr(this.Vc,t)):this.qc.has(t)&&(this.qc.delete(t),Ya.Gr(this.Hc,t))}ef(){return!this.Vc.length&&!this.Hc.length}$c(){return this.Xc>0}hf(){const t=new Set,s=new Set;for(const i of this.Zc)if("add"===i.tf)this.Kc(i.sf,i.capture),i.capture?s.delete(i.sf):t.delete(i.sf);else{if("remove"!==i.tf)throw new Error("invalid op");i.capture?(this.Jc.delete(i.sf),s.add(i.sf)):(this.qc.delete(i.sf),t.add(i.sf))}Ya.Er(this.Hc,t),Ya.Er(this.Vc,s),Ya.wr(this.Zc)}nf(t){this.rf();let s=!1;for(let i=0,e=this.Vc.length;i<e;++i)if(this.Vc[i](t),t.Uc){s=!0;break}if(!s)for(let s=0,i=this.Hc.length;s<i&&(this.Hc[s](t),!t.Uc);++s);return this.af(),!t.defaultPrevented}uf(t){this.rf();for(let s=0,i=this.Vc.length;s<i;++s)this.Vc[s](t);for(let s=0,i=this.Hc.length;s<i;++s)this.Hc[s](t);return this.af(),!0}rf(){this.Xc++}af(){this.Xc--,0===this.Xc&&this.Zc.length>0&&this.hf()}lf(t){t?this.rf():this.af()}cf(t){let s=[];for(let i=0,e=this.Vc.length;i<e;++i){let e=this.Vc[i];s.push(Ya.ff((()=>e(t))))}for(let i=0,e=this.Hc.length;i<e;++i){let e=this.Hc[i];s.push(Ya.ff((()=>e(t))))}return Promise.all(s).then((()=>!t.defaultPrevented))}df(t){const s=[];this.rf();for(let i=0,e=this.Vc.length;i<e;++i){const e=this.Vc[i](t);e instanceof Promise&&s.push(e)}for(let i=0,e=this.Hc.length;i<e;++i){const e=this.Hc[i](t);e instanceof Promise&&s.push(e)}return this.af(),s.length?Promise.all(s).then((()=>!t.defaultPrevented)):!t.defaultPrevented}async pf(t){return await this.df(t)}async mf(t){this.rf();for(let s=0,i=this.Vc.length;s<i;++s){const i=this.Vc[s](t);i instanceof Promise&&await i}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);i instanceof Promise&&await i}return this.af(),!t.defaultPrevented}*gf(t){this.rf();for(let s=0,i=this.Vc.length;s<i;++s){const i=this.Vc[s](t);Ya.To(i)&&(yield*i)}for(let s=0,i=this.Hc.length;s<i;++s){const i=this.Hc[s](t);Ya.To(i)&&(yield*i)}this.af()}}}{const Va=self.Gs;Va.Event.yf=class extends Va.Wh{constructor(){super(),this.Mf=new Map,this.wf=!1}Vh(){if(this.wf)throw new Error("already released");this.Sf(),this.wf=!0,Va.Vh(this)}Jh(){return this.wf}Sf(){if(this.Mf){for(let t of this.Mf.values())t.Vh();this.Mf.clear()}}Tf(t,s){let i=this.Mf.get(t);return i||(s?(i=Va.Yh(Va.Event.Qc,t),this.Mf.set(t,i),i):null)}bf(t){return this.Mf.has(t)}addEventListener(t,s,i){this.Tf(t,!0).Kc(s,!!i)}removeEventListener(t,s,i){let e=this.Tf(t,!1);e&&(e.if(s,!!i),e.ef()&&this.Mf.delete(t))}dispatchEvent(t){const s=this.Tf(t.type,!1);return!s||(t.cancelable?s.nf(t):s.uf(t))}xf(t){const s=this.Tf(t.type,!1);return s?(t.Wc=!0,s.cf(t)):Promise.resolve(!0)}async vf(t){const s=this.Tf(t.type,!1);if(!s)return!0;this.Mf.delete(t.type),t.Wc=!0;const i=await s.cf(t);return s.Vh(),i}async Cf(t){const s=this.Tf(t.type,!1);return!s||await s.pf(t)}Gf(t){const s=this.Tf(t.type,!1);return!s||s.df(t)}async If(t){const s=this.Tf(t.type,!1);return!s||await s.mf(t)}_f(t){const s=this.Tf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.gf(t)}lf(t){for(const s of this.Mf.values())s.lf(t)}}}{let Ja=function(t){$a=Za&&0===tu?requestIdleCallback(Ha,{timeout:35}):setTimeout(Ha,tu>0?1:t)},Ha=function(t){if($a=-1,!Ka.length)return;let s=performance.now(),i=s,e=0,h=0;do{qa(Ka.shift()),i=performance.now(),++e,h=(i-s)/e*1.1}while(Ka.length&&(Za&&0===tu&&void 0!==t?h<t.timeRemaining():i-s+h<12));if(-1===$a&&Ka.length){let t=i-s;Ja(Math.max(16-t,4))}},qa=function(t){let s;try{s=t.sf()}catch(s){return void t.reject(s)}t.resolve(s)};0;const Xa=self.Gs,Za="undefined"!=typeof requestIdleCallback;let Ka=[],$a=-1,tu=0,su=Xa.Hs.Qs("disable-asyncify");su&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),Xa.ff=function(t){let s=null;return Xa.Rs&&(s=Xa.Zi()),new Promise(((i,e)=>{Ka.push({sf:t,resolve:i,reject:e,stack:s}),su?qa(Ka.pop()):-1===$a&&Ja(16)}))},Xa.ff.Ef=function(t){if(t)++tu;else if(--tu,tu<0)throw new Error("already turned off high throughput mode")}}{let iu=function(){nu=-1},eu=function(){ru=-1,ou=-1;let t=Date.now();for(let s of au)if(s.Af(t)){let t=s.Df();(-1===ou||t<ou)&&(ou=t)}else au.delete(s);if(-1!==ou){let s=Math.max(ou-t+100,1e3);ru=self.setTimeout(eu,s)}};0;const hu=self.Gs;let nu=-1;hu.Nf=function(){return-1===nu&&(nu=Date.now(),self.setTimeout(iu,16)),nu};let ru=-1,ou=-1,au=new Set;hu.Lf=class{constructor(t,s){this.Of=t,this.Rf=1e3*s,this.kf=0,this.Pf=!1}Ff(){let t=hu.Nf();this.kf=t+this.Rf,this.Pf||(au.add(this),this.Pf=!0),-1===ru?(ou=this.kf,ru=self.setTimeout(eu,this.Rf+100)):this.kf<ou&&ou>t+1e3&&(self.clearTimeout(ru),ou=this.kf,ru=self.setTimeout(eu,this.Rf+100))}Af(t){return!(t>=this.kf&&(this.Of()?(this.kf=t+this.Rf,0):(this.Pf=!1,1)))}Df(){return this.kf}jf(){this.Pf&&(au.delete(this),this.Pf=!1,0===au.size&&-1!==ru&&(self.clearTimeout(ru),ru=-1,ou=-1))}Vh(){this.jf(),this.Of=null}}}{const uu=self.Gs;uu.zf=class t{constructor(t){this.Bf=!1,this.Uf=t}Wf(){this.Bf||(this.Bf=!0,this.Uf&&(this.Uf(),this.Uf=null))}Qf(){return this.Bf}Vh(){this.Wf()}static Vh(s){return new t((()=>s.Vh()))}static Yf(t,s,i,e,h){if(null==e)e=!1;else if("boolean"!=typeof e&&"object"!=typeof e)throw new TypeError("invalid event listener options");if(h&&(i=i.bind(h)),s.includes(" ")){s=s.split(" ");const h=new uu.Vf;for(let n of s)t.addEventListener(n,i,e),h.Fl(uu.Yh(uu.zf,(()=>t.removeEventListener(n,i,e))));return h}return t.addEventListener(s,i,e),uu.Yh(uu.zf,(()=>t.removeEventListener(s,i,e)))}},uu.Jf=class extends uu.zf{Hf(t){this.Uf=t}},uu.Vf=class extends uu.zf{constructor(...t){super(),this.qf=new Set;for(let s of t)this.Fl(s)}Fl(...t){if(this.Bf)throw new Error("already disposed");for(let s of t)this.qf.add(s)}Xf(t){if(this.Bf)throw new Error("already disposed");this.qf.delete(t)}Zf(){if(this.Bf)throw new Error("already disposed");if(this.qf){for(let t of this.qf)t.Wf();this.qf.clear()}}Qf(){return this.Bf}Wf(){if(this.Bf)throw new Error("already disposed");this.Bf=!0;for(let t of this.qf)t.Wf();this.qf.clear(),this.qf=null}Vh(){this.Wf()}}}{const lu=self.Gs;lu.Kf=class extends lu.Wh{constructor(){super(),this.$f=0,this.Ea=0,this.td=0,this.sd=0}Fl(t){t=+t,this.Ea=t-this.$f,this.td=this.sd+this.Ea,this.$f=this.td-this.sd-this.Ea,this.sd=this.td}ed(t){this.sd-=+t}Ys(){return this.sd}Ff(){this.$f=0,this.Ea=0,this.td=0,this.sd=0}Set(t){this.$f=0,this.Ea=0,this.td=0,this.sd=+t}hd(t){this.$f=t.$f,this.Ea=t.Ea,this.td=t.td,this.sd=t.sd}Vh(){}}}{const cu=self.Gs,fu={},du=!0;fu.nd=function(t){this.rd=t,this.right=this.rd.od,this.left=this.rd.od,this.parent=null,this.color=!1,this.key=null},fu.ad=function(t){this.size=0,this.od=new fu.nd(this),this.od.color=!1,this.root=this.od,this.root.parent=this.od,this.compare=t||this.ud},fu.ad.prototype.ud=function(t,s){return t<s?-1:s<t?1:0},fu.ad.prototype.clone=function(){var t=new fu.ad(this.compare);return t.ld(this),t},fu.ad.prototype.clear=function(){this.size=0,this.od=new fu.nd(this),this.od.color=!1,this.root=this.od,this.root.parent=this.od},fu.ad.prototype.fd=function(t){var s=t.right;t.right=s.left,s.left!=this.od&&(s.left.parent=t),s.parent=t.parent,t.parent==this.od?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,s.left=t,t.parent=s},fu.ad.prototype.dd=function(t){var s=t.left;t.left=s.right,s.right!=this.od&&(s.right.parent=t),s.parent=t.parent,t.parent==this.od?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,s.right=t,t.parent=s},fu.ad.prototype.pd=function(t){if(this.contains(t))this.md(t).key=t;else{var s=new fu.nd(this);s.key=t;for(var i=this.od,e=this.root;e!=this.od;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;s.parent=i,i==this.od?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.od,s.right=this.od,s.color=du,this.gd(s),this.size++}},fu.ad.prototype.gd=function(t){for(;t!=this.od&&t!=this.root&&t.parent.color==du;){var s;t.parent==t.parent.parent.left?(s=t.parent.parent.right).color==du?(t.parent.color=!1,s.color=!1,t.parent.parent.color=du,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.fd(t)),t.parent.color=!1,t.parent.parent.color=du,t.parent.parent!=this.od&&this.dd(t.parent.parent)):(s=t.parent.parent.left).color==du?(t.parent.color=!1,s.color=!1,t.parent.parent.color=du,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.dd(t)),t.parent.color=!1,t.parent.parent.color=du,t.parent.parent!=this.od&&this.fd(t.parent.parent))}this.root.color=!1},fu.ad.prototype.yd=function(t){var s,i;(i=(s=t.left==this.od||t.right==this.od?t:this.Md(t)).left!=this.od?s.left:s.right).parent=s.parent,s.parent==this.od?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.wd(i),this.size--},fu.ad.prototype.wd=function(t){for(;t!=this.root&&0==t.color;){var s;t==t.parent.left?((s=t.parent.right).color==du&&(s.color=!1,t.parent.color=du,this.fd(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=du,t=t.parent):(0==s.right.color&&(s.left.color=!1,s.color=du,this.dd(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.fd(t.parent),t=this.root)):((s=t.parent.left).color==du&&(s.color=!1,t.parent.color=du,this.dd(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=du,t=t.parent):(0==s.left.color&&(s.right.color=!1,s.color=du,this.fd(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.dd(t.parent),t=this.root))}t.color=!1},fu.ad.prototype.remove=function(t){var s=this.md(t);if(s!=this.od){var i=s.key;return this.yd(s),i}return null},fu.ad.prototype.Sd=function(t,s){this.remove(s)},fu.ad.prototype.min=function(t){for(;t.left!=this.od;)t=t.left;return t},fu.ad.prototype.max=function(t){for(;t.right!=this.od;)t=t.right;return t},fu.ad.prototype.Md=function(t){if(t.right!=this.od)return this.min(t.right);for(var s=t.parent;s!=this.od&&t==s.right;)t=s,s=s.parent;return s},fu.ad.prototype.Td=function(t){if(t.left!=this.od)return this.max(t.left);for(var s=t.parent;s!=this.od&&t==s.left;)t=s,s=s.parent;return s},fu.ad.prototype.bd=function(t){if(this.size>0){var s=this.md(t);if(s==this.od)return null;if(s.right!=this.od)return this.min(s.right).key;for(var i=s.parent;i!=this.od&&s==i.right;)s=i,i=i.parent;return i!=this.od?i.key:null}return null},fu.ad.prototype.xd=function(t){if(this.size>0){var s=this.md(t);if(s==this.od)return null;if(s.left!=this.od)return this.max(s.left).key;for(var i=s.parent;i!=this.od&&s==i.left;)s=i,i=i.parent;return i!=this.od?i.key:null}return null},fu.ad.prototype.vd=function(){return this.min(this.root).key},fu.ad.prototype.Cd=function(){return this.max(this.root).key},fu.ad.prototype.md=function(t){for(var s=this.root;s!=this.od&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},fu.ad.prototype.contains=function(t){return null!=this.md(t).key},fu.ad.prototype.getValues=function(){var t=[];return this.forEach((function(s){t.push(s)})),t},fu.ad.prototype.ld=function(t){if("array"==fu.Gd(t))for(var s=0;s<t.length;s++)this.pd(t[s]);else if("function"==fu.Gd(t.forEach))t.forEach(this.pd,this);else if("function"==fu.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.pd(i[s])}else if("object"==fu.Gd(t))for(var e in t)this.pd(t[e])},fu.ad.prototype.Id=function(t){if("array"==fu.Gd(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==fu.Gd(t.forEach))t.forEach(this.Sd,this);else if("function"==fu.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)this.remove(i[s])}else if("object"==fu.Gd(t))for(var e in t)this.remove(t[e])},fu.ad.prototype._d=function(t){if("array"==fu.Gd(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==fu.Gd(t.forEach))return t.every(this.contains,this);if("function"==fu.Gd(t.getValues)){var i=t.getValues();for(s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==fu.Gd(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},fu.ad.prototype.range=function(t,s){var i=[];return this.Ed((function(t){i.push(t)}),t,s),i},fu.ad.prototype.Ad=function(t,s){if(!this.Dd())for(var i=this.min(this.root);i!=this.od;){if(t.call(s,i.key,this))return;i=this.Md(i)}},fu.ad.prototype.Nd=function(t,s,i){if(!this.Dd())for(var e=this.md(s);e!=this.od;){if(t.call(i,e.key,this))return;e=this.Md(e)}},fu.ad.prototype.traverseTo=function(t,s,i){if(!this.Dd())for(var e=this.min(this.root),h=this.md(s);e!=h;){if(t.call(i,e.key,this))return;e=this.Md(e)}},fu.ad.prototype.Ed=function(t,s,i,e){if(!this.Dd())for(var h=this.md(s),n=this.md(i);h!=n;){if(t.call(e,h.key,this))return;h=this.Md(h)}},fu.ad.prototype.Ld=function(t,s){if(!this.Dd())for(var i=this.max(this.root);i!=this.od;){if(t.call(s,i.key,this))return;i=this.Td(i)}},fu.ad.prototype.forEach=function(t,s){if(!this.Dd())for(var i=this.min(this.root);i!=this.od;i=this.Md(i))t.call(s,i.key,i.key,this)},fu.ad.prototype.some=function(t,s){if(this.Dd())return!1;for(var i=this.min(this.root);i!=this.od;i=this.Md(i))if(t.call(s,i.key,i.key,this))return!0;return!1},fu.ad.prototype.every=function(t,s){if(this.Dd())return!1;for(var i=this.min(this.root);i!=this.od;i=this.Md(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},fu.ad.prototype.map=function(t,s){var i=[];if(this.Dd())return i;for(var e=this.min(this.root);e!=this.od;e=this.Md(e))i.push(t.call(s,e.key,e.key,this));return i},fu.ad.prototype.filter=function(t,s){var i=[];if(this.Dd())return i;for(var e=this.min(this.root);e!=this.od;e=this.Md(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},fu.ad.prototype.Od=function(){return this.size},fu.ad.prototype.Dd=function(){return 0==this.size},fu.ad.prototype.isSubsetOf=function(t){var s=fu.Od(t);if(this.Od()>s)return!1;var i=0;if(this.Dd())return!0;for(var e=this.min(this.root);e!=this.od;e=this.Md(e))fu.contains.call(t,t,e.key)&&i++;return i==this.Od()},fu.ad.prototype.intersection=function(t){var s=new fu.ad(this.compare);if(this.Dd())return s;for(var i=this.min(this.root);i!=this.od;i=this.Md(i))t.contains.call(t,i.key,i.key,this)&&s.pd(i.key);return s},cu.ad=class extends cu.Wh{constructor(t){super(),this.Rd=new fu.ad(t),this.kd=!1,this.Pd=new Set,this.Fd=new Set}Fl(t){this.kd?this.Rd.contains(t)?this.Fd.delete(t):this.Pd.add(t):this.Rd.pd(t)}Xf(t){this.kd?this.Rd.contains(t)?this.Fd.add(t):this.Pd.delete(t):this.Rd.remove(t)}Qs(t){return this.kd?!!this.Pd.has(t)||!this.Fd.has(t)&&this.Rd.contains(t):this.Rd.contains(t)}_l(){this.Rd.clear(),this.Pd.clear(),this.Fd.clear()}toArray(){if(this.kd)throw new Error("cannot be used in queueing mode");return this.Rd.getValues()}Nl(){return this.Rd.Od()+this.Pd.size-this.Fd.size}El(){return 0===this.Nl()}jd(){if(this.El())throw new Error("empty set");if(this.kd)throw new Error("cannot be used in queueing mode");const t=this.Rd;return t.min(t.root).key}zd(){if(this.El())throw new Error("empty set");if(this.kd)throw new Error("cannot be used in queueing mode");const t=this.jd();return this.Xf(t),t}Bd(t){if(t=!!t,this.kd!==t&&(this.kd=t,!t)){for(const t of this.Fd)this.Rd.remove(t);this.Fd.clear();for(const t of this.Pd)this.Rd.pd(t);this.Pd.clear()}}Ud(t){this.Rd.forEach(t)}*values(){if(this.El())return;const t=this.Rd;for(let s=t.min(t.root);s!=t.od;s=t.Md(s))yield s.key}[Symbol.iterator](){return this.values()}}}{const pu=self.Gs;pu.Wd=class{constructor(t=pu.hardwareConcurrency){this.Qd=t,this.Yd=[],this.Vd=0}Fl(t){return new Promise(((s,i)=>{this.Yd.push({sf:t,resolve:s,reject:i}),this.Jd()}))}Hd(t){for(let s=0,i=this.Yd.length;s<i;++s)if(this.Yd[s].sf===t)return s;return-1}qd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to resolve");this.Yd[i].resolve(s),this.Yd.splice(i,1)}Xd(t,s){const i=this.Hd(t);if(-1===i)throw new Error("cannot find promise to reject");this.Yd[i].reject(s),this.Yd.splice(i,1)}async Jd(){if(!this.Yd.length)return;if(this.Vd>=this.Qd)return;this.Vd++;const t=this.Yd.shift();try{const s=await t.sf();t.resolve(s)}catch(s){t.reject(s)}this.Vd--,this.Jd()}static async Zd(t,s){const i=[];let e=!1;const h=async t=>{let h;for(;h=s.pop();){if(e)return;try{i.push(await h())}catch(t){throw e=!0,t}}},n=[];for(;t--;)n.push(h());return await Promise.all(n),i}}}{const mu=self.Gs;mu.Kd=class{constructor(t,s,i){this.Of=t,this.$d=s,this.tp=i||2*s,this.sp=-1,this.ip=-1/0,this.ep=()=>this.hp(),this.np=!1,this.rp=!1,this.op=null}ap(t){this.rp=!!t}up(){return void 0!==mu.lp&&mu.lp.cp()?this.tp:this.$d}fp(...t){if(-1!==this.sp)return;this.op=t;let s=mu.Nf(),i=s-this.ip,e=this.up();i>=e&&this.rp?(this.ip=s,this.pp()):this.sp=self.setTimeout(this.ep,Math.max(e-i,4))}pp(){this.np=!0;const t=this.op;this.op=null,t?this.Of(...t):this.Of(),this.np=!1}Ff(){this.np||(this.mp(),this.op=null,this.ip=mu.Nf())}hp(){this.sp=-1,this.ip=mu.Nf(),this.pp()}mp(){-1!==this.sp&&(self.clearTimeout(this.sp),this.sp=-1)}Vh(){this.mp(),this.Of=null,this.op=null,this.ep=null}}}{const gu=self.Gs;gu.gp=class{constructor(){this.yp=new Map,this.Mp=!1,this.wp=null,this.Sp=null,this.Tp=null,this.bp=null}xp(t){this.Mp=!!t}vp(){return this.Mp}Cp(t){this.wp=t}Gp(t){if(!this.wp)throw new Error("no get base size callback set");return this.wp(t)}Ip(t){this.Sp=t}_p(t,s,i,e,h,n){if(!this.Sp)throw new Error("no raster at size callback set");return this.Sp(t,s,i,e,h,n)}Ep(t){this.Tp=t}Ap(t){if(!this.Tp)throw new Error("no release result callback set");this.Tp(t)}Dp(t){this.bp=t}Np(){if(!this.bp)throw new Error("no redraw callback set");this.bp()}Lp(t){let s=this.yp.get(t);return s||(s=gu.Yh(gu.Op,this,t),this.yp.set(t,s)),s.Rp(),s}kp(t){this.yp.delete(t.Pp())}Fp(){for(const t of this.yp.values())t.jp(),t.zp()}}}{const yu=self.Gs;yu.Op=class{constructor(t,s){this.Bp=t,this.Up=s,this.Wp=0,this.Qp=0,this.Yp=0,this.Vp=this.Bp.Gp(s).then((t=>{this.Bp&&(this.Qp=t[0],this.Yp=t[1],this.Bp.Np())})).catch((t=>{console.error("[SVG] Error loading SVG: ",t),this.Jp=!0,this.Bp&&this.Bp.Np()})),this.Hp=0,this.qp=0,this.Xp=0,this.Zp=0,this.Kp=!1,this.$p=null,this.tm=!1,this.Jp=!1}Vh(){if(this.Wp<=0)throw new Error("already released");this.Wp--,0===this.Wp&&this.sm()}jp(){this.$p&&(this.Bp.Ap(this.$p),this.$p=null)}sm(){this.jp(),this.Bp.kp(this),this.Bp=null}Pp(){return this.Up}Rp(){this.Wp++}im(){return this.Wp>0}hm(){return this.$p}zp(){this.tm=!0}async nm(t,s,i){if(0===s||0===i||this.Jp)return;if(this.Kp)return;let e=yu.Tn(Math.ceil(s)),h=yu.Tn(Math.ceil(i));const n=Math.max(e,h);if(n>4096){const t=4096/n;s*=t,i*=t,e=Math.min(Math.ceil(e*t),4096),h=Math.min(Math.ceil(h*t),4096)}if(s<e&&i<h){const t=s/i;e/h>t?(s=h*t,i=h):(s=e,i=e/t)}if(this.Bp.vp()&&(e=Math.ceil(s),h=Math.ceil(i)),e<=this.Hp&&h<=this.qp&&!this.tm)return;this.Kp=!0,this.Hp=e,this.qp=h;const r=await this.Bp._p(this.Up,t,this.Hp,this.qp,s,i);this.Bp&&(this.jp(),this.$p=r,this.Xp=s,this.Zp=i,this.Kp=!1,this.tm=!1,this.Bp.Np())}rm(){return this.Vp}om(){return this.Qp}am(){return this.Yp}um(){return this.Xp}lm(){return this.Zp}fm(){return this.Jp}}}{let Mu=function(t){return vu.get(t)};0;const wu=self.Gs;wu.dm="\ufeff";const Su=new Set("0123456789");wu.pm=function(t){return Su.has(t)};const Tu=new Set(" \t\n\r\u2028\u2029");wu.gm=function(t){return Tu.has(t)},wu.ym=function(t){return[...t].filter((t=>!wu.gm(t))).join("")},wu.Mm=function(t){for(const s of t)if(!wu.gm(s))return!1;return!0},wu.wm=function(t){for(const s of t)if(!wu.gm(s))return!1;return!0},wu.Sm=function(t){return 1===t.length&&t.charCodeAt(0)<32},wu.Tm=function(t){return[...t].filter((t=>!wu.Sm(t))).join("")};let bu=null;try{bu=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}wu.bm=function(t){return!wu.gm(t)&&bu&&bu.test(t)};const xu=new Set("0123456789.+-e");wu.xm=function(t){if(!(t=t.trim()).length)return!1;let s=t.charAt(0);if("-"!==s&&!Su.has(s))return!1;for(let s of t)if(!xu.has(s))return!1;return!0},wu.vm=function(t){let s=t.length;for(;s>0;){let i=t.charAt(s-1);if(!wu.pm(i))break;--s}return t.substr(0,s)},wu.Cm=function(t){let s=wu.vm(t),i=t.substr(s.length);return i=i?(parseInt(i,10)+1).toString():"2",s+i};const vu=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]),Cu=/[&<>"']/g;wu.Gm=function(t){return t.replace(Cu,Mu)},wu.Im=function(t){let s=wu._m(t,"\\","\\\\");return s=wu._m(s,'"','\\"'),s=wu._m(s,"\t","\\t"),s=wu._m(s,"\r",""),wu._m(s,"\n","\\n")},wu.Em=function(t){let s=wu._m(t,"&","&amp;");return s=wu._m(s,"<","&lt;"),s=wu._m(s,">","&gt;"),wu._m(s,'"',"&quot;")};const Gu=/[-[\]{}()*+?.,\\^$|#\s]/g;wu.Xi=function(t){return t.replace(Gu,"\\$&")},wu.Am=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},wu.Dm=function(t,s){let i=0,e=0;for(;i<s;){if(i=t.indexOf("\n",i),-1===i)return e;e++,i++}return e},wu.Nm=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());const e=s.length;let h=0,n=0,r=[];for(;(n=t.indexOf(s,h))>-1;)r.push(n),h=n+e;return r},wu._m=function(t,s,i){return t.replaceAll(s,(()=>i))},wu.Lm=function(t,s,i){return t.replace(new RegExp(wu.Xi(s),"gi"),(()=>i))},wu.Om=function(t,s){"string"==typeof s?t.textContent=s:s.Rm()?t.textContent=s.toString():(t.innerHTML=s.km(),s instanceof wu.dh&&s.Pm(t))},wu.Fm=function(t,s){return t instanceof wu.fh||t instanceof wu.dh?t.equals(s):s instanceof wu.fh||s instanceof wu.dh?s.equals(t):t===s},wu.jm=function(t,...s){let i=t;for(let e=0,h=s.length;e<h;++e){const h=`{${e}}`;if(!t.includes(h))throw new Error(`missing placeholder '${h}' in string substitution`);i=i.replace(h,s[e].toString())}return i},wu.zm=function(t,...s){let i=t,e=-1,h=-1;for(let n=0,r=s.length;n<r;++n){const r=`{${n}}`;t.includes(r)?(h=n,i=i.replace(r,s[n].toString())):-1===e&&(e=n)}if(e>=0&&h>=0&&e<h)throw new Error(`missing placeholder '${e}' in string substitution`);return i},wu.Bm=function(t,s){let i=t;for(let[t,e]of Object.entries(s))i=i.replaceAll(t,e.toString());return i},wu.Um=function(t,s){return t>s?1:t<s?-1:0},wu.Wm=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return i>e?1:i<e?-1:0};const Iu=new self.Intl.Segmenter;wu.Qm=function(t){const s=[];for(const i of Iu.segment(t))s.push(i.segment);return s},wu.Ym=function*(t){for(const s of Iu.segment(t))yield s.segment},wu.Vm=function(t){let s=0;for(const i of Iu.segment(t))++s;return s};const _u=1073741824,Eu=1099511627776;wu.Jm=function(t,s){let i="common."+(s?"dataRates":"dataSizes")+".";const e=self.Hm;if(t<1024)return e(i+"bytes",t);if(t<1048576){let s=t/1024;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"kilobytes",s)}if(t<_u){let s=t/1048576;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"megabytes",s)}if(t<Eu){let s=t/_u;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"gigabytes",s)}{let s=t/Eu;return s=s<10?Math.round(10*s)/10:Math.round(s),e(i+"terabytes",s)}};const Au={qm:!1,Xm:!0,Zm:!0,Km:!0,$m:!0};wu.tg=function(t,s){s=Object.assign({},Au,s),wu.ig.sg("common.time");const i=[],e=self.lang,h=self.eg;if(s.Xm){const s=Math.floor(t/86400);s>0&&(t-=24*s*3600,i.push(h(".days",null,s)))}if(s.Zm){const s=Math.floor(t/3600);(s>0||i.length)&&(t-=3600*s,i.push(h(".hours",null,s)))}if(s.Km){const e=Math.floor(t/60);(e>0||i.length||!s.$m)&&(t-=60*e,i.push(h(".minutes",null,e)))}if(s.$m){const s=Math.floor(t%60);i.push(h(".seconds",null,s))}const n=(s.qm?e(".approx-prefix"):"")+i.join(e(".separator"));return wu.ig.hg(),n},wu.ng=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),h=s-e.length;for(let t=0;t<h;++t)i+="0";return i+e},wu.rg=function(t){return t.toLowerCase().replace(/\b\w/g,(t=>t.toUpperCase()))},wu.og=function(t,s){let i=t.split(".").map((t=>t.trim())),e=s.split(".").map((t=>t.trim()));wu.br(i,4,"0"),wu.br(e,4,"0"),i=i.map((t=>parseInt(t,10))),e=e.map((t=>parseInt(t,10)));for(let t=0;t<4;++t){const s=i[t]-e[t];if(0!==s)return s<0?-1:1}return 0},wu.ag=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const s=Math.floor(16*Math.random());return("x"===t?s:3&s|8).toString(16)}))},wu.ug=function(t,s){if(t.length!==s.length)throw new Error("strings must be same length");let i=0;for(let e=0,h=t.length;e<h;++e)t.charAt(e)!==s.charAt(e)&&++i;return i},wu.lg=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,h,n,r,o;for(t.length>s.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(n=e,h=1;h<=t.length;h++)r=s[e-1]===t[h-1]?o[h-1]:Math.min(o[h-1]+1,Math.min(n+1,o[h]+1)),o[h-1]=n,n=r;o[t.length]=n}return o[t.length]}}{let Du=function(t,s,i){const e=Lu.get(i);if(!e)return"class"===i?s?"</span>":`<span class="bbclass${ju++}">`:t;if("string"==typeof e){if("a"===e&&0===Pu.length||"abbr"===e&&0===Fu.length)return t;if("a"!==e||s){if("abbr"!==e||s)return"<"+s+e+">";{const t=parseInt(i.substring(3),10)-1;if(t<0||t>=Fu.length)throw new Error("invalid bbcode tip substitution");const s=Fu[t];let e="";if("string"==typeof s?e=s:"function"==typeof s&&(e=s()),"string"!=typeof e)throw new TypeError("invalid bbcode tip");return`<abbr title="${Nu._m(e,'"',"&quot;")}">`}}{const t=parseInt(i.substring(1),10)-1;if(t<0||t>=Pu.length)throw new Error("invalid bbcode link substitution");const s=Pu[t];if("string"==typeof s)return`<a href="${Pu[t]}">`;if("function"==typeof s)return`<a class="bblink${t}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(e)){let t=e[0],i=e[1];return s?"</"+t+">":`<${t} class="${i}">`}};0;const Nu=self.Gs,Lu=(self.assert,new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]])),Ou=new Set(["icon"]),Ru=/\[(\/?)([a-zA-Z0-9]+)\]/g,ku=/\[(\/?)([^\[\n]*?)\]/g;let Pu=null,Fu=null,ju=0;const zu=/\n/g;Nu.dh=class{constructor(t,s){if(this.cg=s&&s.fg?t:Nu.Gm(t),this.dg="",this.pg=!1,this.mg=[],this.gg=[],s){if(this.pg=!!s.yg,s.links){if(s.links.length>9)throw new Error("too many links");this.mg=s.links}if(s.Mg){if(s.Mg.length>9)throw new Error("too many tips");this.gg=s.Mg}}this.wg=this.cg.includes("["),this.Sg=this.pg&&this.cg.includes("\n"),this.Tg=!this.wg&&!this.Sg&&!this.cg.includes("&"),this.bg=!1,this.xg=[]}toString(){return this.cg}valueOf(){return this.cg}Rm(){return this.Tg}vg(){return this.wg?this.cg.replace(Ru,""):this.cg}km(){if(this.Tg)return this.cg;if(!this.dg&&this.cg){let t=this.cg;this.wg&&(ju=0,Pu=this.mg,Fu=this.gg,t=t.replace(Ru,Du),Pu=null,Fu=null),this.Sg&&(t=t.replace(zu,"<br>")),this.dg=t}return this.dg}Pm(t){if(this.mg.length)for(let s=0,i=this.mg.length;s<i;++s){const i=this.mg[s];if("function"!=typeof i)continue;const e=t.querySelector(".bblink"+s);if(!e)throw new Error("unable to attach BBString link handler");e.onclick=i}}equals(t){return t instanceof Nu.fh?this.km()===t.km():t instanceof Nu.dh?this.cg===t.cg:this.cg===t}Cg(){if(this.bg)return this.xg;const t=[],s=this.cg,i=[];ku.lastIndex=0;let e=0,h=null;for(;null!==(h=ku.exec(s));){const n=h.index;if(n>0&&"\\"===s.charAt(n-1))continue;const r=h[0],o=h[1],a=h[2],u=s.substring(e,n);if(e=n+r.length,u&&t.push({text:u,Gg:i.slice(0)}),a)if(o){const t=a.toLowerCase();for(let s=i.length-1;s>=0;--s)if(i[s].tag===t){i.splice(s,1);break}}else{let s=a,e=null;const h=a.indexOf("=");if(-1!==h?(s=a.substring(0,h).toLowerCase(),e=a.substring(h+1)):s=s.toLowerCase(),Ou.has(s)){if("icon"!==s)throw new Error(`unknown self-closing tag ${s}`);t.push({icon:e,Gg:i.slice(0)})}else i.push({tag:s,Ig:e})}}e<s.length&&t.push({text:s.substring(e),Gg:i.slice(0)});for(const s of t)s.text&&(s.text=this._g(s.text));return this.xg=t.map((t=>t.icon?Nu.Yh(Nu.Eg,{icon:t.icon,Gg:t.Gg}):Nu.Yh(Nu.Ag,{Dg:Nu.Qm(t.text),Gg:t.Gg}))),this.bg=!0,this.xg}_g(t){return t=Nu._m(t,"\\[","["),Nu._m(t,"\\\\","\\")}static Ng(t){return Nu.Yh(Nu.dh,t,{fg:!0}).vg()}static Lg(t){return t.replace(ku,"")}}}{let Bu=function(t){return""!==t&&""!==t&&Vu.gm(t)},Uu=function(t){return Ju.has(t)},Wu=function(t){return Vu.bm(t)&&!Uu(t)},Qu=function(t){for(;t.length>0&&Bu(t.at(-1));)t.pop()},Yu=function(t){return"\n"===t||"\r\n"===t};0;const Vu=self.Gs,Ju=new Set("");Vu.Og=class{constructor(){this.Rg=[],this.kg=null}Pg(){return this.Rg}Fg(){return this.Rg.length}jg(t){this.kg=t}zg(t,s){let i=0,e=0,h=0,n=0,r=0;for(const o of t){if(-1===o.Bg()){const t=s(o);o.Ug(t.height),o.Wg(t.fontBoundingBoxAscent||0),o.Qg(t.fontBoundingBoxDescent||0),o.Yg(t.Vg||0),o.Jg()?o.Hg(t.width):o.qg()&&o.Xg(this.kg)}i+=o.Bg(),e=Math.max(e,o.Zg()),h=Math.max(h,o.Kg()),n=Math.max(n,o.$g()),r=Math.max(r,o.ty())}return{width:i,height:e,fontBoundingBoxAscent:h,fontBoundingBoxDescent:n,Vg:r}}sy(t,s,i,e,h,n){this.Rg.push(Vu.Yh(Vu.Og.iy,{ey:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:h,Vg:n}))}Og(t,s,i,e,h){if("string"==typeof t&&(t=[Vu.Yh(Vu.Ag,{Dg:Vu.Qm(t)})]),Vu.wr(this.Rg),!t.length||1===t.length&&t[0].Jg()&&t[0].El()||i<2)return;if(1===t.length){const e=t[0];if(e.Jg()&&e.hy()<=100&&!e.ny()){let{width:t,height:n,fontBoundingBoxAscent:r,fontBoundingBoxDescent:o,Vg:a}=s(e);if(t+=h,e.Hg(t),e.Ug(n),e.Wg(r||0),e.Qg(o||0),e.Yg(a||0),t<=i)return void this.sy([e],t,n,r,o,a)}}let n;n="word"===e?this.oy(t):"cjk"===e?this.uy(t):this.ly(t),this.py(n,s,i,h)}oy(t){const s=[];let i=[],e=!1;for(const h of t){const t=h.my();if(h.qg())i.length>0&&s.push(i),s.push([h]),i=[];else for(const n of h.gy())if(Yu(n))i.length>0&&s.push(i),s.push([Vu.Yh(Vu.Ag,{Dg:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(Vu.Yh(Vu.Ag,{Dg:[n],Gg:t})),e=Bu(n);else{const h=Bu(n);if(h===e){const s=i.at(-1);s.my()===t?s.yy(n):i.push(Vu.Yh(Vu.Ag,{Dg:[n],Gg:t}))}else s.push(i),i=[Vu.Yh(Vu.Ag,{Dg:[n],Gg:t})],e=h}}return i.length>0&&s.push(i),s}uy(t){const s=[];let i=[],e=!1;for(const h of t){const t=h.my();if(h.qg())i.length>0&&s.push(i),s.push([h]),i=[];else for(const n of h.gy())if(Yu(n))i.length>0&&s.push(i),s.push([Vu.Yh(Vu.Ag,{Dg:["\n"],Gg:t})]),i=[];else if(0===i.length)i.push(Vu.Yh(Vu.Ag,{Dg:[n],Gg:t})),e=Uu(n);else if(e||Wu(n)){const s=i.at(-1);s.my()===t?s.yy(n):i.push(Vu.Yh(Vu.Ag,{Dg:[n],Gg:t})),e=Uu(n)}else s.push(i),i=[Vu.Yh(Vu.Ag,{Dg:[n],Gg:t})],e=Uu(n)}return i.length>0&&s.push(i),s}ly(t){const s=[];for(const i of t)if(i.Jg()){const t=i.gy();Vu.Lh(s,t.map((t=>[Vu.Yh(Vu.Ag,{Dg:[t],Gg:i.my()})])))}else s.push([i]);return s}My(t){return t.map((t=>t.wy()))}Sy(t,s){const i=t.length?t.at(-1):null;let e=0;i&&i.Jg()&&s[0].Jg()&&s[0].my()===i.my()&&(i.Ty(s[0].gy()),e=1);for(let i=s.length;e<i;++e){const i=s[e];t.push(i.wy())}}py(t,s,i,e){let h=[],n=0,r=0,o=0,a=0,u=0;for(const e of t){if(1===e.length&&e[0].Jg()&&1===e[0].hy()&&Yu(e[0].gy()[0])){if(0===r){const t=s(Vu.Yh(Vu.Ag,{Dg:[" "],Gg:e[0].my()}));r=t.height,o=t.fontBoundingBoxAscent||0,a=t.fontBoundingBoxDescent||0,u=t.Vg||0}this.sy(h,n,r,o,a,u),h=[],n=0,r=0,o=0,a=0,u=0;continue}const t=this.My(h);this.Sy(t,e);const l=this.zg(t,s),c=l.width;if(c>=i)if(h.length>0&&this.sy(h,n,r,o,a,u),h=[],e[0].Jg()&&Vu.wm(e[0].gy()))n=0,r=0,o=0,a=0,u=0;else{this.Sy(h,e);const t=this.zg(h,s);n=t.width,r=t.height,o=t.fontBoundingBoxAscent,a=t.fontBoundingBoxDescent,u=t.Vg}else h=t,n=c,r=l.height,o=l.fontBoundingBoxAscent,a=l.fontBoundingBoxDescent,u=l.Vg}h.length>0&&this.sy(h,n,r,o,a,u),this.by(s,e)}by(t,s){for(const i of this.Rg){const e=i.xy();if(!e.length)continue;let h=e.at(-1);if(h.Jg()){const n=h.gy(),r=n.slice(0);if(Qu(r),0===r.length)i.vy(-h.Bg()),e.pop();else if(r.length<n.length){h.Cy(r);const s=t(h).width,e=h.Bg()-s;h.Hg(s),i.vy(-e)}0!==s&&e.length>0&&(h=e.at(-1),h.vy(s),i.vy(s))}}}_l(){Vu.wr(this.Rg)}Gy(){return this.Rg.reduce(((t,s)=>Math.max(t,s.Bg())),0)}Iy(){return this.Rg.reduce(((t,s)=>t+s.Zg()),0)}}}self.Gs.Og.iy=class{constructor(t){this.xg=t.ey||[],this._y=t.width||-1,this.Ey=t.height||-1,this.Ay=t.fontBoundingBoxAscent||-1,this.Dy=t.fontBoundingBoxDescent||-1,this.Ny=t.Vg||-1,this.Ly=0,this.Oy=0}ey(){return this.xg.values()}*Ry(){const t=this.xg;for(let s=t.length-1;s>=0;--s)yield t[s]}xy(){return this.xg}vy(t){this._y+=t}Bg(){return this._y}Zg(){return this.Ey}ky(){return this.Ay}$g(){return this.Dy}ty(){return this.Ny}Py(t){this.Ly=t}Fy(){return this.Ly}jy(t){this.Oy=t}zy(){return this.Oy}};self.Gs.By=class{constructor(t){this.Uy=t.Gg||[],this._y=t.width||-1,this.Ey=t.height||-1,this.Ay=t.fontBoundingBoxAscent||-1,this.Dy=t.fontBoundingBoxDescent||-1,this.Ny=t.Vg||-1,this.Ly=0,this.Oy=0}Jg(){return!1}qg(){return!1}my(){return this.Uy}Wy(t){const s=this.Uy;for(let i=s.length-1;i>=0;--i){const e=s[i];if(e.tag===t)return e}return null}Qy(t){return!!this.Wy(t)}Yy(){const t=new Map;for(const s of this.Uy)t.set(s.tag,s.Ig);return t}vy(t){this._y+=t}Hg(t){this._y=t}Bg(){return this._y}Ug(t){this.Ey=t}Zg(){return this.Ey}Wg(t){this.Ay=t}Kg(){return this.Ay}Qg(t){this.Dy=t}$g(){return this.Dy}Yg(t){this.Ny=t}ty(){return this.Ny}Py(t){this.Ly=t}Fy(){return this.Ly}jy(t){this.Oy=t}zy(){return this.Oy}};{const Hu=self.Gs;Hu.Ag=class extends Hu.By{constructor(t){super(t),this.Vy=t.Dg}Jg(){return!0}Ty(t){Hu.Lh(this.Vy,t),this._y=-1,this.Ey=-1,this.Ay=-1,this.Dy=-1,this.Ny=-1}yy(t){this.Vy.push(t)}wy(){return Hu.Yh(Hu.Ag,{Dg:this.Vy.slice(0),Gg:this.Uy,width:this._y,height:this.Ey,fontBoundingBoxAscent:this.Ay,fontBoundingBoxDescent:this.Dy,Vg:this.Ny})}gy(){return this.Vy}Cy(t){this.Vy=t}hy(){return this.Vy.length}El(){return 0===this.Vy.length}ny(){return this.Vy.includes("\n")}}}{const qu=self.Gs;qu.Eg=class extends qu.By{constructor(t){super(t),this.Jy=t.icon}qg(){return!0}Hy(){return this.Jy}wy(){return qu.Yh(qu.Eg,{icon:this.Jy,Gg:this.Uy,width:this._y,height:this.Ey,fontBoundingBoxAscent:this.Ay,fontBoundingBoxDescent:this.Dy,Vg:this.Ny})}qy(t){if(!t)return null;let s=Number(this.Jy);return String(s)===this.Jy?(s=Math.floor(s),t.Xy(s)):t.Zy(this.Jy)}Xg(t){const s=this.qy(t);this._y=s?this.Ey*s.Bg()/s.Zg():0}Ky(t){const s=this.qy(t);return s?s.Ky():null}hy(){return 1}}}{const Xu=self.Gs;Xu.$y=class{constructor(t){this.tM=new Map,this.sM=t.iM,this.eM=t.hM}Vh(){for(const t of this.tM.values())t.Vh();this.tM.clear()}nM(t){let s=this.tM.get(t);if(s)return s;const i=this.sM(t);return s=Xu.Yh(Xu.rM,this,{source:t,oM:i}),this.tM.set(t,s),s}aM(t){return this.tM.has(t)}uM(t){const s=this.tM.get(t);s&&s.Vh(),this.tM.delete(t)}async lM(t){return await this.eM(t)}}}{const Zu=self.Gs;Zu.rM=class{constructor(t,s){this.cM=t,this.fM=s.source,this.dM=[],this.pM=new Map,this.mM=!1,this.gM=!1,this.yM=null;const i=s.oM.MM;for(let t=0,s=i.length;t<s;++t){const s=i[t],e=Zu.Yh(Zu.wM,this,{index:t,tag:s.tag,source:s.source,width:s.width,height:s.height});this.dM.push(e),s.tag&&this.pM.set(s.tag.toLowerCase(),e)}}Vh(){for(const t of this.dM)t.Vh();Zu.wr(this.dM),this.pM.clear(),this.cM=null,this.fM=null}SM(){return this.mM}TM(){return this.gM}bM(){return this.yM||(this.yM=this.xM()),this.yM}async xM(){if(this.mM)return;this.mM=!0,this.gM=!0;const t=await this.cM.lM(this.fM);if(!this.cM)return;const s=t.MM;for(let t=0,i=Math.min(s.length,this.dM.length);t<i;++t){const i=s[t].vM;this.dM[t].CM(i)}this.gM=!1}Xy(t){return(t=Math.floor(t))<0||t>=this.dM.length?null:this.dM[t]}Zy(t){return this.pM.get(t.toLowerCase())||null}}}self.Gs.wM=class{constructor(t,s){this.GM=t,this.fM=s.source||null,this.IM=s.index,this._M=s.tag,this._y=s.width,this.Ey=s.height,this.EM=null}Vh(){this._y=0,this.Ey=0,this.GM=null}AM(){return this.fM}Bg(){return this._y}Zg(){return this.Ey}CM(t){this.EM=t}Ky(){return this.EM}};{let Ku=function(t,s,i,e){const h=al;el.N(rl,i,s),el.N(ol,t,s),el.Ct(h,rl,ol),el.normalize(h,h),e.set(h[0],h[1],h[2],el.vt(t,h))},$u=function(t,s,i,e,h,n,r){const o=r.x,a=r.y,u=r.z,l=r.w,c=r.DM,f=r.NM,d=r.LM,p=1-c,m=1-f,g=1-d;return o*t*c+o*e*p+a*s*f+a*h*m+u*i*d+u*n*g>=l||o*e*c+o*t*p+a*h*f+a*s*m+u*n*d+u*i*g>l},tl=function(t,s,i,e){return e.x*t+e.y*s+e.z*i>=e.w};0;const sl=self.Gs,il=self.rs,el=il.ys,hl=il.Ms,nl=il.fs,rl=el.create(),ol=el.create(),al=el.create(),ul=hl.create(),ll=nl.create(),cl=el.create(),fl=el.create(),dl=el.create(),pl=el.create(),ml=el.create(),gl=el.create(),yl=el.create(),Ml=el.create(),wl=hl.M(0,0,1,1);sl.OM={RM(t,s,i,e,h,n,r){const o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],u=e[2]*t+e[6]*s+e[10]*i+e[14],l=e[3]*t+e[7]*s+e[11]*i+e[15];let c=h[0]*o+h[4]*a+h[8]*u+h[12]*l,f=h[1]*o+h[5]*a+h[9]*u+h[13]*l,d=h[2]*o+h[6]*a+h[10]*u+h[14]*l,p=h[3]*o+h[7]*a+h[11]*u+h[15]*l;return 0!==p&&(p=1/p,c*=p,f*=p,d*=p,r[0]=(.5*c+.5)*n[2]+n[0],r[1]=(.5*f+.5)*n[3]+n[1],r[2]=.5*(1+d),!0)},kM(t,s,i,e,h,n,r){const o=ll,a=ul;return nl.multiply(o,h,e),null!==nl.T(o,o)&&(a[0]=(t-n[0])/n[2]*2-1,a[1]=(s-n[1])/n[3]*2-1,a[2]=2*i-1,a[3]=1,hl.At(a,a,o),0!==a[3]&&(a[3]=1/a[3],r[0]=a[0]*a[3],r[1]=a[1]*a[3],r[2]=a[2]*a[3],!0))},PM(t,s,i,e,h,n,r){const o=rl,a=ol;if(!sl.OM.kM(t,s,0,e,h,n,o))return!1;if(!sl.OM.kM(t,s,1,e,h,n,a))return!1;const u=ol;el.N(u,a,o);const l=al;el.set(l,0,0,1);const c=-i,f=el.vt(l,u);let d=0;if(0===f){if(0!==el.vt(l,o)+c)return!1}else if(d=-(el.vt(o,l)+c)/f,d<0)return!1;return el.wt(r,o,u,d),!0}};class Sl{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.DM=NaN,this.NM=NaN,this.LM=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.DM=t>0?1:0,this.NM=s>0?1:0,this.LM=i>0?1:0}}sl.OM.FM=class{constructor(){this.jM=new Sl,this.zM=new Sl,this.BM=new Sl,this.UM=new Sl,this.WM=new Sl,this.QM=new Sl}YM(t,s){const i=wl;sl.OM.kM(0,1,0,t,s,i,cl),sl.OM.kM(1,1,0,t,s,i,fl),sl.OM.kM(0,0,0,t,s,i,dl),sl.OM.kM(1,0,0,t,s,i,pl),sl.OM.kM(0,1,1,t,s,i,ml),sl.OM.kM(1,1,1,t,s,i,gl),sl.OM.kM(0,0,1,t,s,i,yl),sl.OM.kM(1,0,1,t,s,i,Ml),Ku(dl,cl,ml,this.jM),Ku(cl,fl,gl,this.zM),Ku(fl,pl,Ml,this.BM),Ku(pl,dl,yl,this.UM),Ku(yl,ml,gl,this.QM),Ku(pl,fl,cl,this.WM)}VM(t,s,i,e,h,n){return $u(t,s,i,e,h,n,this.jM)&&$u(t,s,i,e,h,n,this.zM)&&$u(t,s,i,e,h,n,this.BM)&&$u(t,s,i,e,h,n,this.UM)&&$u(t,s,i,e,h,n,this.WM)&&$u(t,s,i,e,h,n,this.QM)}JM(t,s,i){return!tl(t,s,i,this.WM)}}}{const Tl=self.Gs,bl=self.rs,xl=bl.ys,vl=bl.Ms,Cl=bl.fs,Gl=Cl.create(),Il=xl.M(0,0,0),_l=xl.M(0,0,0),El=xl.M(0,0,0),Al=xl.M(0,1,0),Dl=(vl.M(0,0,0,0),new Tl.Iu),Nl=new Tl.Rect,Ll=new Tl.Iu(0,0,1,0,1,1,0,1),Ol={HM:1,qM:1e4},Rl=Cl.M(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Tl.OM.XM=class{constructor(t){t=Object.assign({},Ol,t),this._y=0,this.Ey=0,this.ZM=Tl.$h(45),this.KM=Math.tan(this.ZM/2),this.$M=Cl.create(),this.tw=Cl.create(),this.sw=!1,this.iw=t.HM,this.ew=t.qM,this.hw=[],this.rw=new Map,this.ow=null,this.aw=null,this.uw=null,this.lw=null,this.cw=null,this.fw=null,this.dw=null,this.pw=null,this.mw=null,this.gw=null,this.yw=null,this.Mw=null,this.ww=new Map,this.Sw=null,this.Tw=[],this.bw=new Map,this.xw=0,this.Cw=0,this.Gw=1,this.Iw=[this.Gw],this._w=1,this.Ew=[this._w],this.Aw=.5,this.Dw=[this.Aw],this.Nw=0,this.Lw=!0,this.Ow=!1}Rw(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}kw(){this.xw=0,this.Cw=0,this.ow=null,this.aw=null,this.uw=null,this.lw=null,this.cw=null,this.fw=null,this.dw=null,this.pw=null,this.mw=null,this.gw=null,this.yw=null,this.Mw=null,this.Pw()}Fw(){this.kw(),this.Sw=null}jw(){for(const t of this.hw)t.Vh();this.kw()}Bg(){return this._y}Zg(){return this.Ey}zw(t){return this.Bw()?100:t/(2*this.Uw())}Ww(t){return this.Bw()?t/(2*this.Uw())/this.zw(t):1}Qw(t){this.iw=t}Yw(){return this.iw}Vw(t){this.ew=t}Jw(){return this.ew}Hw(t){this.ZM=t,this.KM=Math.tan(this.ZM/2)}qw(){return this.ZM}Uw(){return this.KM}Xw(){this.sw=!1}Zw(){this.sw=!0}Bw(){return!this.sw}Kw(){return this.sw}$w(t,s,i=.5,e=.5){const h=this.Yw(),n=this.Jw(),r=this.qw();if(.5===i&&.5===e)this.tS()?Cl.ut(t,r,s,h,n):Cl.perspective(t,r,s,h,n);else{const r=2*(i=1-i)-2,o=2*i,a=2*e-2,u=2*e,l=this.Uw()*h,c=l*s;Cl.rt(t,r*c,o*c,a*l,u*l,h,n),this.tS()&&Cl.mul(t,Rl,t)}}sS(t,s,i,e=1){const h=self.devicePixelRatio,n=2*this.zw(i)*h*this.Uw()/i,r=s*n/(2*h*e),o=i*n/(2*h*e),a=-r,u=r,l=-o,c=o;this.tS()?Cl.dt(t,a,u,l,c,this.Yw(),this.Jw()):Cl.ft(t,a,u,l,c,this.Yw(),this.Jw())}iS(t,s,i,e,h,n=1){let r=1;this.Bw()&&(r=200*this.Uw()/h);const o=El;xl.set(o,r,-r,1);const a=Il,u=_l;xl.multiply(a,s,o),xl.multiply(u,i,o),Cl.gt(t,a,u,e||Al),o[2]=n,Cl.scale(t,t,o)}eS(t,s,i,e,h,n,r,o){return xl.set(Il,t,s,i),xl.set(_l,e,h,n),this.iS(Gl,Il,_l,Al,r,o),Gl}hS(t){this.hw.push(t),this.rw.set(t._c(),t)}nS(t){const s=this.hw.indexOf(t);-1!==s&&this.hw.splice(s,1),this.rw.delete(t._c())}Pw(){Tl.wr(this.hw),this.rw.clear()}rS(t){return this.rw.get(t)||null}oS(){return this.ow}aS(){this.uS(this.ow)}lS(){return this.aw}cS(){this.uS(this.aw)}fS(){this.uS(this.uw)}dS(){this.uS(this.lw)}pS(){this.uS(this.cw)}mS(){this.uS(this.fw)}gS(){this.uS(this.dw)}yS(){this.uS(this.pw)}MS(){this.uS(this.mw)}wS(){this.uS(this.gw)}SS(){this.uS(this.yw)}TS(){this.uS(this.Mw)}bS(t){this.Sw=t}xS(){return this.Sw}vS(t,s,i,e){const h=Tl.OM.GS.CS(t,s,i,e);let n=this.ww.get(h);return n||(n=Tl.Yh(Tl.OM.GS,this,t,s,i,e),this.ww.set(h,n)),n.IS(),n}_S(t){t.ES(),0===t.AS()&&(this.Sw===t&&(this.Sw=null),this.ww.delete(t.DS()),t.Vh())}NS(t){Tl.wr(this.Tw),this.bw.clear();let s=0;for(const i of t){const t=i[0],e=i[1],h=i[2];this.Tw.push([e,h]),this.bw.set(t,{number:s,LS:e,OS:h}),s++}}RS(t){return this.Tw[t]}kS(t){return this.RS(t)[0]}PS(t){return this.RS(t)[1]}FS(t){const s=this.bw.get(t);if(void 0===s)throw new Error("invalid blend name");return s}jS(t){const s=this.bw.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}zS(t){this.xw=t}BS(){return this.xw}US(t){this.Cw=t,this.Sw=null}WS(){return this.Cw}iy(t,s,i,e){const h=Tl.rn(t,s,i,e),n=Math.sin(h),r=Math.cos(h),o=.5*this.Gw,a=n*o,u=r*o,l=this._w;2===l?this.QS(t,s,0,i,e,0,a,u):1===l?this.YS(t,s,0,i,e,0,a,u):this.VS(t,s,0,i,e,0,a,u)}JS(t,s,i,e,h,n){const r=Tl.rn(t,s,e,h),o=Math.sin(r),a=Math.cos(r),u=.5*this.Gw,l=o*u,c=a*u,f=this._w;2===f?this.QS(t,s,i,e,h,n,l,c):1===f?this.YS(t,s,i,e,h,n,l,c):this.VS(t,s,i,e,h,n,l,c)}QS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a-o,l=s+a-r,c=e+a+o,f=h+a+r,d=2*o,p=2*r,m=u+r,g=l-o,y=u-r+d,M=l+o+p,w=c+r,S=f-o,T=c-r-d,b=f+o-p;this.HS(m,g,i,w,S,n,T,b,n,y,M,i,Ll)}YS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a-o,l=s+a-r,c=e+a+o,f=h+a+r,d=u+r,p=l-o,m=u-r,g=l+o,y=c+r,M=f-o,w=c-r,S=f+o;this.HS(d,p,i,y,M,n,w,S,n,m,g,i,Ll)}VS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a,l=s+a,c=e+a,f=h+a,d=u+r,p=l-o,m=u-r,g=l+o,y=c+r,M=f-o,w=c-r,S=f+o;this.HS(d,p,i,y,M,n,w,S,n,m,g,i,Ll)}qS(t,s,i,e,h,n){const r=Tl.rn(t,s,i,e),o=Math.sin(r),a=Math.cos(r),u=.5*this.Gw,l=o*u,c=a*u,f=this._w;2===f?this.XS(t,s,i,e,l,c,h,n):1===f?this.ZS(t,s,i,e,l,c,h,n):this.KS(t,s,i,e,l,c,h,n)}XS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a-n,l=s+a-h,c=i+a+n,f=e+a+h,d=2*n,p=2*h,m=u+h,g=l-n,y=u-h+d,M=l+n+p,w=c+h,S=f-n,T=c-h-d,b=f+n-p;Dl.set(m,g,w,S,T,b,y,M),Nl.set(r,0,o,0),this.$S(Dl,Nl)}ZS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a-n,l=s+a-h,c=i+a+n,f=e+a+h,d=u+h,p=l-n,m=u-h,g=l+n,y=c+h,M=f-n,w=c-h,S=f+n;Dl.set(d,p,y,M,w,S,m,g),Nl.set(r,0,o,0),this.$S(Dl,Nl)}KS(t,s,i,e,h,n,r,o){const a=this.Aw,u=t+a,l=s+a,c=i+a,f=e+a,d=u+h,p=l-n,m=u-h,g=l+n,y=c+h,M=f-n,w=c-h,S=f+n;Dl.set(d,p,y,M,w,S,m,g),Nl.set(r,0,o,0),this.$S(Dl,Nl)}tT(t,s,i,e){const h=.5*this.Gw,n=this._w;2===n?this.sT(t,s,i,e,h):1===n?this.iT(t,s,i,e,h):this.eT(t,s,i,e,h)}sT(t,s,i,e,h){this.QS(t,s,0,i,s,0,0,h),this.QS(i,s,0,i,e,0,h,0),this.QS(i,e,0,t,e,0,0,-h),this.QS(t,e,0,t,s,0,-h,0)}iT(t,s,i,e,h){this.YS(t,s,0,i,s,0,0,h),this.YS(i,s,0,i,e,0,h,0),this.YS(i,e,0,t,e,0,0,-h),this.YS(t,e,0,t,s,0,-h,0)}eT(t,s,i,e,h){this.VS(t,s,0,i,s,0,0,h),this.VS(i,s,0,i,e,0,h,0),this.VS(i,e,0,t,e,0,0,-h),this.VS(t,e,0,t,s,0,-h,0)}hT(t){this.tT(t.Za(),t.Ka(),t.$a(),t.tu())}nT(t){const s=Tl.rn(t.Fn(),t.jn(),t.zn(),t.Bn()),i=Math.sin(s),e=Math.cos(s),h=.5*this.Gw,n=i*h,r=e*h,o=this._w;2===o?this.rT(t,n,r):1===o?this.oT(t,n,r):this.aT(t,n,r)}rT(t,s,i){this.QS(t.Fn(),t.jn(),0,t.zn(),t.Bn(),0,s,i),this.QS(t.zn(),t.Bn(),0,t.Un(),t.Wn(),0,i,-s),this.QS(t.Un(),t.Wn(),0,t.Qn(),t.Yn(),0,-s,-i),this.QS(t.Qn(),t.Yn(),0,t.Fn(),t.jn(),0,-i,s)}oT(t,s,i){this.YS(t.Fn(),t.jn(),0,t.zn(),t.Bn(),0,s,i),this.YS(t.zn(),t.Bn(),0,t.Un(),t.Wn(),0,i,-s),this.YS(t.Un(),t.Wn(),0,t.Qn(),t.Yn(),0,-s,-i),this.YS(t.Qn(),t.Yn(),0,t.Fn(),t.jn(),0,-i,s)}aT(t,s,i){this.VS(t.Fn(),t.jn(),0,t.zn(),t.Bn(),0,s,i),this.VS(t.zn(),t.Bn(),0,t.Un(),t.Wn(),0,i,-s),this.VS(t.Un(),t.Wn(),0,t.Qn(),t.Yn(),0,-s,-i),this.VS(t.Qn(),t.Yn(),0,t.Fn(),t.jn(),0,-i,s)}uT(t){this.Gw=t,this.Iw[this.Iw.length-1]=t}lT(){return this.Gw}cT(t){if(this.Iw.length>=100)throw new Error("pushed too many line widths - check push/pop pairs");this.Iw.push(t),this.Gw=t}fT(){if(this.Iw.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.Iw.pop(),this.Gw=this.Iw.at(-1)}dT(){this._w=0,this.Ew[this.Ew.length-1]=0}pT(){this._w=1,this.Ew[this.Ew.length-1]=0}mT(){this._w=2,this.Ew[this.Ew.length-1]=0}gT(t){if("butt"===t)this.yT();else if("square"===t)this.MT();else{if("zag"!==t)throw new Error("invalid line cap");this.wT()}}yT(){if(this.Ew.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Ew.push(0),this._w=0}MT(){if(this.Ew.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Ew.push(1),this._w=1}wT(){if(this.Ew.length>=100)throw new Error("pushed too many line caps - check push/pop pairs");this.Ew.push(2),this._w=2}ST(){if(this.Ew.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.Ew.pop(),this._w=this.Ew.at(-1)}TT(t){this.Aw=t,this.Dw[this.Dw.length-1]=t}bT(){return this.Aw}xT(t){if(this.Dw.length>=100)throw new Error("pushed too many line offsets - check push/pop pairs");this.Dw.push(t),this.Aw=t}vT(){if(this.Dw.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.Dw.pop(),this.Aw=this.Dw.at(-1)}CT(t){const s=t.length/2;if(s<3)throw new Error("need at least 3 points");const i=s-2,e=i-1,h=t[0],n=t[1];for(let s=0;s<i;s+=2){const i=2*s,r=t[i+2],o=t[i+3],a=t[i+4],u=t[i+5];if(s===e)this.GT(h,n,r,o,a,u,a,u);else{const s=t[i+6],e=t[i+7];this.GT(h,n,r,o,a,u,s,e)}}}IT(){return 3}_T(){this.ET(!0),this.Nw++}AT(){return this.Nw}DT(){this.Nw++}NT(t){this.Lw=!!t}LT(){return this.Lw}OT(t){this.Ow=!!t}RT(){return this.Ow}kT(){return!1}tS(){return!1}PT(){}FT(){}jT(){}zT(){return this.PT()+this.FT()+this.jT()}BT(){return Tl.Yh(Tl.OM.UT,this)}}}self.Gs.OM.WT=class{constructor(t,s){this.qh=s.name,this.QT=t,this.YT=s.VT||0,this.JT=s.HT||0,this.qT=!!s.XT,this.ZT=!!s.KT,this.$T=!!s.tb,this.sb=!!s.ib,this.eb=!!s.animated,this.hb=!!s.nb,this.rb=!!s.ob,this.ab=!1,this.ub=this.qT||this.hb||0!==this.YT||0!==this.JT}Vh(){this.QT=null}lb(){return this.QT}_c(){return this.qh}cb(){return 0!==this.YT||0!==this.JT}fb(){return this.YT}pb(){return this.JT}mb(){return this.qT}gb(){return this.ZT}yb(){return this.$T}Mb(){return this.sb}wb(){return this.eb}Sb(){return this.hb}Tb(){return this.rb}bb(){return this.ab}xb(){return this.ub}Cb(){return!1}};{const kl=self.Gs;kl.OM.GS=class{constructor(t,s,i,e,h){this.QT=t,this.Wp=0,this.Gb=null,this.Ib="",this._b=i,this.Eb=kl.Yh(kl.xo),this.Eb.set(e),this.Ab=h,"string"==typeof s?this.Ib=s:(this.Gb=s,this.Ib=this.Gb._c())}Vh(){if(this.Wp>0)throw new Error("releasing state group still in use");this.QT=null,this.Gb=null,this.Ib=""}Db(){const t=this.QT;t.uS(this.Gb),t.Nb(this._b),t.Lb(this.Eb),t.US(this.Ab),t.bS(this)}DS(){return kl.OM.GS.CS(this.Ib,this._b,this.Eb,this.Ab)}IS(){++this.Wp}ES(){--this.Wp}AS(){return this.Wp}Ob(){this.Gb=null}Rb(t){if(this.Gb=t.rS(this.Ib),!this.Gb)throw new Error("failed to restore shader program")}static CS(t,s,i,e){return("string"==typeof t?t:t._c())+","+s+","+i.Po()+","+i.Fo()+","+i.jo()+","+i.zo()+","+e}}}{let Pl=function(t,s,i){const e=i.Fn(),h=i.jn(),n=i.zn()-e,r=i.Bn()-h;return[e+n*t+(i.Qn()-e)*s,h+r*t+(i.Yn()-h)*s]};0;const Fl=self.Gs,jl=Fl.Yh(Fl.Iu);Fl.OM.kb=class{constructor(t,s,i){this.Pb=t,this.Fb=s,this.jb=i,this._a=NaN,this.Ea=NaN,this.Ab=NaN,this.zb=NaN,this.Bb=NaN,this._a=0,this.Ea=0,this.Ab=0,this.zb=0,this.Bb=0}Ub(t,s,i,e){this._a=t,this.Ea=s,this.zb=i,this.Bb=e}Wb(){return this._a}Qb(t){this._a!==t&&(this._a=t,this.Pb.Yb())}Vb(){return this.Ea}Jb(t){this.Ea!==t&&(this.Ea=t,this.Pb.Yb())}Hb(){return this.Ab}qb(t){this.Ab!==t&&(this.Ab=Math.max(t,0),this.Pb.Yb())}Xb(){return this.zb}Zb(t){this.zb=t}Kb(){return this.Bb}$b(t){this.Bb=t}tx(t,s,i){[this._a,this.Ea]=Pl(t._a,t.Ea,s),this.Ab=t.Ab,this.zb=Fl.Gt(i.Za(),i.$a(),t.zb),this.Bb=Fl.Gt(i.Ka(),i.tu(),t.Bb)}sx(t,s,i){[this._a,this.Ea]=Pl(t._a,t.Ea,s),this.Ab=t.Ab,[this.zb,this.Bb]=Pl(t.zb,t.Bb,i)}ix(){return{x:this.Wb(),y:this.Vb(),z:this.Hb(),u:this.Xb(),v:this.Kb()}}hx(t){this.Qb(t.x),this.Jb(t.y),t.hasOwnProperty("z")&&this.qb(t.z),this.Zb(t.u),this.$b(t.v)}nx(){return this.Pb}ox(){return this.Fb}ux(){return this.jb}},Fl.OM.lx=class{constructor(t,s,i){if(t<2||s<2)throw new Error("invalid mesh size");this.mx=t,this.gx=s,this.yx=i||null,this.Mx=[],this.wx=0,this.Sx=0,this.Tx=1,this.bx=1,this.xx=0,this.vx=!1;const e=t-1,h=s-1;for(let i=0;i<s;++i){const s=[];for(let n=0;n<t;++n){const t=Fl.Yh(Fl.OM.kb,this,n,i),r=n/e,o=i/h;t.Ub(r,o,r,o),s.push(t)}this.Mx.push(s)}}Vh(){Fl.wr(this.Mx)}Cx(){return this.mx}Gx(){return this.gx}Ix(){return this.yx}_x(){return this.Mx}Yb(){this.vx=!0}Ex(){if(!this.vx)return;let t=1/0,s=1/0,i=-1/0,e=-1/0,h=0;for(const n of this.Mx)for(const r of n){const n=r.Wb(),o=r.Vb();t=Math.min(t,n),s=Math.min(s,o),i=Math.max(i,n),e=Math.max(e,o),h=Math.max(h,r.Hb())}this.wx=t,this.Sx=s,this.Tx=i,this.bx=e,this.xx=h,this.vx=!1}Ax(){return this.Ex(),this.wx}Dx(){return this.Ex(),this.Sx}Nx(){return this.Ex(),this.Tx}Lx(){return this.Ex(),this.bx}Ox(){return this.Ex(),this.xx}Rx(){return this.Ox()>0}kx(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.mx||s<0||s>=this.gx?null:this.Mx[s][t]}Px(t,s,i){const e=i instanceof Fl.Rect;if(t.Cx()!==this.Cx()||t.Gx()!==this.Gx())throw new Error("source mesh wrong size");const h=t.Mx,n=this.Mx;for(let t=0,r=n.length;t<r;++t){const r=h[t],o=n[t];for(let t=0,h=o.length;t<h;++t){const h=r[t],n=o[t];e?n.tx(h,s,i):n.sx(h,s,i)}}}Fx(t){const s=this.Mx;let i=s[0];for(let e=1,h=s.length;e<h;++e){const h=s[e];let n=i[0],r=h[0];for(let s=1,e=h.length;s<e;++s){const e=i[s],o=h[s];jl.set(n.Xb(),n.Kb(),e.Xb(),e.Kb(),o.Xb(),o.Kb(),r.Xb(),r.Kb()),t.HS(n.Wb(),n.Vb(),n.Hb(),e.Wb(),e.Vb(),e.Hb(),o.Wb(),o.Vb(),o.Hb(),r.Wb(),r.Vb(),r.Hb(),jl),n=e,r=o}i=h}}jx(t,s){s||(s=(t,s,i)=>[t,s,i]);const i=this.Mx;let e=i[0];for(let h=1,n=i.length;h<n;++h){const r=i[h];let o=e[0],a=r[0];for(let i=1,u=r.length;i<u;++i){const l=e[i],c=r[i],[f,d,p]=s(o.Wb(),o.Vb(),o.Hb()),[m,g,y]=s(l.Wb(),l.Vb(),l.Hb()),[M,w,S]=s(c.Wb(),c.Vb(),c.Hb()),[T,b,x]=s(a.Wb(),a.Vb(),a.Hb());t.JS(f,d,p,m,g,y),t.JS(f,d,p,M,w,S),t.JS(f,d,p,T,b,x),i===u-1&&t.JS(m,g,y,M,w,S),h===n-1&&t.JS(T,b,x,M,w,S),o=l,a=c}e=r}}zx(t){const s=.001,i=.99999999,e=t.fl(),h=[],n=this.Cx()-1,r=this.Gx()-1,o=1/n,a=1/r,u=n-1,l=r-1;let c=e[0],f=e[1],d=Fl.Zh(Math.floor(c*n),0,u),p=Fl.Zh(Math.floor(f*r),0,l),m=!0,g=0,y=0,M=0,w=-1;const S=()=>{c=Fl.Zh(Fl.Gt(c,g,M),0,1),f=Fl.Zh(Fl.Gt(f,y,M),0,1),h.push(c,f)};for(let t=0,T=e.length;t<T;t+=2){c=e[t],f=e[t+1],h.push(c,f),d=Fl.Zh(Math.floor(c*n),0,u),p=Fl.Zh(Math.floor(f*r),0,l);const b=(t+2)%T;for(g=e[b],y=e[b+1],w=-1;;){if(h.length>1e6)throw new Error("Too many mesh poly points");const t=d*o,e=p*a,n=(d+1)*o,r=(p+1)*a;if(m=Fl.qn(c,f,t,e,n,e,n,r),0!==w&&(M=Fl.Hn(c,f,g,y,t,e,n,r,-.001),M>=0&&M<=i))S(),m=!m,w=0;else if(p>0&&2!==w&&(M=Fl.Hn(c,f,g,y,t,e,n,e,s),M>=0&&M<=i))S(),p--,m=!1,w=4;else if(d<u&&3!==w&&(M=Fl.Hn(c,f,g,y,n,e,n,r,s),M>=0&&M<=i))S(),d++,m=!1,w=1;else if(d>0&&1!==w&&(M=Fl.Hn(c,f,g,y,t,e,t,r,s),M>=0&&M<=i))S(),d--,m=!0,w=3;else{if(!(p<l&&4!==w&&(M=Fl.Hn(c,f,g,y,t,r,n,r,s),M>=0&&M<=i)))break;S(),p++,m=!0,w=2}}}return Fl.Yh(Fl.ol,h)}Bx(t,s){const i=this.Ux(t);this.Wx(i),s.pl(i)}Ux(t){const s=[],i=t.fl();for(let t=0,e=i.length;t<e;t+=2){const e=i[t],h=i[t+1],[n,r]=this.Qx(e,h);s.push(n,r)}return s}Qx(t,s){const i=this.Cx()-1,e=this.Gx()-1,h=1/i,n=1/e,r=Fl.Zh(Math.floor(t*i),0,i-1),o=Fl.Zh(Math.floor(s*e),0,e-1),a=r*h,u=o*n,l=(r+1)*h,c=(o+1)*n,f=this.kx(r,o),d=this.kx(r+1,o+1),p=Fl.qn(t,s,a,u,l,u,l,c),m=p?a+h:a,g=p?u:u+n,y=this.kx(r+(p?1:0),o+(p?0:1)),[M,w,S]=Fl.Xn(t,s,a,u,m,g,l,c);return Fl.Zn(M,w,S,f.Wb(),f.Vb(),f.Hb(),y.Wb(),y.Vb(),y.Hb(),d.Wb(),d.Vb(),d.Hb())}Wx(t){const s=[],i=1e-7;let e=t[0],h=t[1],n=e-t.at(-2),r=h-t.at(-1);for(let o=0,a=t.length;o<a;o+=2){const u=(o+2)%a,l=t[u],c=t[u+1],f=l-e,d=c-h,p=Math.abs(f)<i&&Math.abs(n)<i&&Math.sign(d)===Math.sign(r),m=Math.abs(d)<i&&Math.abs(r)<i&&Math.sign(f)===Math.sign(n);(!p&&!m&&Math.abs(f/n-d/r)>.001||0==f&&0===d)&&s.push(e,h),e=l,h=c,n=f,r=d}s.length>=6&&s.length<t.length&&Fl.vr(t,s)}ix(){return{cols:this.Cx(),rows:this.Gx(),points:this.Mx.map((t=>t.map((t=>t.ix()))))}}hx(t){const s=this.Cx(),i=this.Gx();if(t.cols!==s||t.rows!==i)throw new Error("mesh data wrong size");const e=t.points;for(let t=0;t<i;++t){const i=e[t];for(let e=0;e<s;++e)this.kx(e,t).hx(i[e])}}}}{let zl=function(t,s){let i,e,h,n;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,h=s.RGB,n=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,h=s.RGB,n=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{Yx:i,Vx:e,format:h,type:n}};0;const Bl=self.Gs,Ul=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),Wl=new Set(["nearest","bilinear","trilinear"]),Ql=new Set(["default","low","high"]),Yl=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Vl={Jx:"clamp-to-edge",Hx:"clamp-to-edge",qx:"trilinear",Xx:0,Zx:"rgba8",Kx:!0,$x:"default",tv:!0,sv:!1,width:-1,height:-1},Jl={tv:!0,flipY:!1},Hl=new Set;Bl.OM.ev=class{constructor(t){this.QT=t,this.hv=null,this._y=0,this.Ey=0,this.nv=!0,this.rv="clamp-to-edge",this.ov="clamp-to-edge",this.av="trilinear",this.uv=0,this.lv="rgba8",this.cv=!1,this.fv="default",this.Wp=0}dv(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData||t instanceof ArrayBuffer||null===t))throw new Error("invalid texture source");if(s=Object.assign({},Vl,s),this.hv)throw new Error("already created texture");if(this.rv=s.Jx,this.ov=s.Hx,this.av=s.qx,this.uv=s.Xx,this.lv=s.Zx,this.cv=!!s.Kx&&this.QT.LT(),this.fv=s.$x,!Yl.has(this.rv)||!Yl.has(this.ov))throw new Error("invalid wrap mode");if(!Wl.has(this.av))throw new Error("invalid sampling");if(!Ul.has(this.lv))throw new Error("invalid pixel format");if(!Ql.has(this.fv))throw new Error("invalid mipmap quality");if(this.nv=!0,t instanceof ArrayBuffer||null===t||s.sv){if(this._y=s.width,this.Ey=s.height,t instanceof ArrayBuffer&&t.byteLength!==this._y*this.Ey*4)throw new Error("ArrayBuffer wrong size")}else this._y=t.width,this.Ey=t.height;if(this._y<=0||this.Ey<=0)throw new Error("invalid texture data size");if(s.sv){const s=Bl.lo(this._y,this.Ey);s.getContext("2d").drawImage(t,0,0,this._y,this.Ey),t=s}const i=Bl.Sn(this._y)&&Bl.Sn(this.Ey),e=this.QT.pv();if(this._y>e||this.Ey>e)throw new Error("texture data exceeds maximum texture size");const h=this.QT.mv(),n=this.QT.gv();this.hv=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.hv),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.tv),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);const r=zl(this.lv,h);if(this.QT.yv()||i||!this.Mv())if(n>=2){let s;s=this.cv?Math.floor(Math.log2(Math.max(this._y,this.Ey))+1):1,h.texStorage2D(h.TEXTURE_2D,s,r.Yx,this._y,this.Ey),t instanceof ArrayBuffer?h.texSubImage2D(h.TEXTURE_2D,0,0,0,this._y,this.Ey,r.format,r.type,new Uint8Array(t)):null!==t&&h.texSubImage2D(h.TEXTURE_2D,0,0,0,r.format,r.type,t)}else t instanceof ArrayBuffer?h.texImage2D(h.TEXTURE_2D,0,r.Vx,this._y,this.Ey,0,r.format,r.type,new Uint8Array(t)):null===t?h.texImage2D(h.TEXTURE_2D,0,r.Vx,this._y,this.Ey,0,r.format,r.type,null):h.texImage2D(h.TEXTURE_2D,0,r.Vx,r.format,r.type,t);else{if(null===t)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if(t instanceof ArrayBuffer&&(t=new ImageData(new Uint8ClampedArray(t),this._y,this.Ey)),t instanceof ImageData){const s=Bl.lo(this._y,this.Ey);s.getContext("2d").putImageData(t,0,0),t=s}const s=Bl.lo(Bl.Tn(this._y),Bl.Tn(this.Ey)),i=s.getContext("2d");i.imageSmoothingEnabled="nearest"!==this.av,i.drawImage(t,0,0,this._y,this.Ey,0,0,s.width,s.height),h.texImage2D(h.TEXTURE_2D,0,r.Vx,r.format,r.type,s)}null!==t&&this.wv(h),h.bindTexture(h.TEXTURE_2D,null),this.QT.Sv(),this.Wp=1,Hl.add(this)}Tv(t,s,i){if(i=Object.assign({},Vl,i),this.hv)throw new Error("already created texture");if(this.rv=i.Jx,this.ov=i.Hx,this.av=i.qx,this.lv=i.Zx,this.cv=!!i.Kx&&this.QT.LT(),this.fv=i.$x,!Yl.has(this.rv)||!Yl.has(this.ov))throw new Error("invalid wrap mode");if(!Wl.has(this.av))throw new Error("invalid sampling");if(!Ul.has(this.lv))throw new Error("invalid pixel format");if(!Ql.has(this.fv))throw new Error("invalid mipmap quality");this.nv=!1,this._y=Math.floor(t),this.Ey=Math.floor(s);const e=Bl.Sn(this._y)&&Bl.Sn(this.Ey),h=this.QT.pv();if(this._y<=0||this.Ey<=0)throw new Error("invalid texture size");if(this._y>h||this.Ey>h)throw new Error("texture exceeds maximum texture size");if(!this.QT.yv()&&this.Mv()&&!e)throw new Error("non-power-of-two tiled textures not supported");const n=this.QT.mv(),r=this.QT.gv();this.hv=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.hv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.tv),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const o=zl(this.lv,n),a=r>=2?o.Yx:o.Vx;n.texImage2D(n.TEXTURE_2D,0,a,this._y,this.Ey,0,o.format,o.type,null),this.wv(n),n.bindTexture(n.TEXTURE_2D,null),this.QT.Sv(),this.Wp=1,Hl.add(this)}bv(t){if("default"===this.fv)return this.nv?t.NICEST:t.FASTEST;if("low"===this.fv)return t.FASTEST;if("high"===this.fv)return t.NICEST;throw new Error("invalid mipmap quality")}Mv(){return"clamp-to-edge"!==this.rv||"clamp-to-edge"!==this.ov}xv(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}wv(t){const s=Bl.Sn(this._y)&&Bl.Sn(this.Ey);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.xv(t,this.rv)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.xv(t,this.ov)),"nearest"===this.av)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.cv=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.QT.yv())&&this.cv){t.hint(t.GENERATE_MIPMAP_HINT,this.bv(t)),t.generateMipmap(t.TEXTURE_2D);const s="trilinear"===this.av&&!this.QT.RT();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.cv=!1;const i=this.QT.vv();i&&this.uv>0&&"nearest"!==this.av&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.uv,this.QT.Cv()))}Gv(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.hv||this.Wp<=0)throw new Error("texture not created");if(this.nv)throw new Error("cannot update static texture");s=Object.assign({},Jl,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,h=this.QT.gv(),n=this.QT.mv();n.bindTexture(n.TEXTURE_2D,this.hv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.tv),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!!s.flipY);const r=zl(this.lv,n),o=h>=2?r.Yx:r.Vx;try{if(this._y===i&&this.Ey===e){const s=Bl.Sn(this._y)&&Bl.Sn(this.Ey);n.texSubImage2D(n.TEXTURE_2D,0,0,0,r.format,r.type,t),(s||this.QT.yv())&&this.cv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.bv(n)),n.generateMipmap(n.TEXTURE_2D))}else{this._y=i,this.Ey=e;const s=Bl.Sn(this._y)&&Bl.Sn(this.Ey);if(!this.QT.yv()&&this.Mv()&&!s)throw new Error("non-power-of-two tiled textures not supported");n.texImage2D(n.TEXTURE_2D,0,o,r.format,r.type,t),(s||this.QT.yv())&&this.cv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.bv(n)),n.generateMipmap(n.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}n.bindTexture(n.TEXTURE_2D,null),this.QT.Sv()}Iv(){if(this.Wp>0)throw new Error("texture still has references");if(!this.hv)throw new Error("already deleted texture");Hl.delete(this),this.QT.mv().deleteTexture(this.hv),this.hv=null}_v(){return!!this.hv}Ev(){return this.hv}lb(){return this.QT}Av(){this.Wp++}Dv(){if(this.Wp<=0)throw new Error("no more references");this.Wp--}Nv(){return this.Wp}Bg(){return this._y}Zg(){return this.Ey}Lv(){return this.nv}Ov(){let t=this._y*this.Ey;switch(this.lv){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.cv&&(t+=Math.floor(t/3)),t}static Ob(){Hl.clear()}static Rv(){return Hl.values()}}}{const ql=self.Gs,Xl=(self.assert,self.rs),Zl=(Xl.ys,Xl.fs),Kl=new Set(["nearest","bilinear","trilinear"]),$l={qx:"trilinear",alpha:!0,depth:!1,kv:!0,Pv:!0,Fv:0},tc=new Set;ql.OM.jv=class{constructor(t){this.QT=t,this.zv=null,this.Bv=null,this.hv=null,this.Uv=null,this._y=0,this.Ey=0,this.Wv=!0,this.av="trilinear",this.Qv=!0,this.Yv=!1,this.Vv=!0,this.Jv=0,this.Hv=Zl.create(),this.qv=0,this.Xv=0,this.Zv=0}Kv(t,s,i){i=Object.assign({},$l,i);const e=this.QT.gv();if(this.hv||this.Uv)throw new Error("already created render target");if(this.av=i.qx,this.Qv=!!i.alpha,this.Yv=!!i.depth,this.Vv=!!i.kv,this.Wv=!!i.Pv,this.Jv=i.Fv,!Kl.has(this.av))throw new Error("invalid sampling");if(this.Jv>0&&(e<2||this.Vv))throw new Error("invalid use of multisampling");if(e<2&&(this.Vv=!0),this._y=t,this.Ey=s,this._y<=0||this.Ey<=0)throw new Error("invalid render target size");this.$v();const h=this.QT.mv();if(this.zv=h.createFramebuffer(),this.Yv&&(this.Bv=h.createFramebuffer()),this.Vv){this.hv=this.QT.tC(this._y,this.Ey,{qx:this.av,Zx:this.Qv?"rgba8":"rgb8",Kx:!1});const t=this.hv.Ev();h.bindFramebuffer(h.FRAMEBUFFER,this.zv),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t,0),this.Yv&&(h.bindFramebuffer(h.FRAMEBUFFER,this.Bv),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t,0))}else{this.Uv=h.createRenderbuffer(),h.bindRenderbuffer(h.RENDERBUFFER,this.Uv);const t=this.Qv?h.RGBA8:h.RGB8;if(this.Jv>0){const s=h.getInternalformatParameter(h.RENDERBUFFER,t,h.SAMPLES);if(s&&s[0]){const t=s[0];this.Jv>t&&(this.Jv=t)}else this.Jv=0}0===this.Jv?h.renderbufferStorage(h.RENDERBUFFER,t,this._y,this.Ey):h.renderbufferStorageMultisample(h.RENDERBUFFER,this.Jv,t,this._y,this.Ey),h.bindFramebuffer(h.FRAMEBUFFER,this.zv),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.Uv),this.Yv&&(h.bindFramebuffer(h.FRAMEBUFFER,this.Bv),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.Uv)),h.bindRenderbuffer(h.RENDERBUFFER,null)}const n=this.QT.sC();this.Yv&&n&&(h.bindFramebuffer(h.FRAMEBUFFER,this.zv),this.QT.iC()?h.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.TEXTURE_2D,n,0):h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,n)),h.bindFramebuffer(h.FRAMEBUFFER,null),tc.add(this)}eC(t,s){if(this._y===t&&this.Ey===s)return;this._y=t,this.Ey=s,this.$v();const i=this.QT.mv();i.bindFramebuffer(i.FRAMEBUFFER,this.zv),this.hv?this.hv.Gv(new ImageData(this._y,this.Ey)):(i.bindRenderbuffer(i.RENDERBUFFER,this.Uv),i.renderbufferStorage(i.RENDERBUFFER,this.Qv?i.RGBA8:i.RGB8,this._y,this.Ey),i.bindRenderbuffer(i.RENDERBUFFER,null));const e=this.QT.sC();this.Yv&&e&&(this.QT.iC()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}Iv(){if(!this.hv&&!this.Uv)throw new Error("already deleted render target");tc.delete(this);const t=this.QT.mv();this.hv?(t.bindFramebuffer(t.FRAMEBUFFER,this.zv),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.Yv&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Bv),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.QT.hC(this.hv),this.hv=null):this.Uv&&(t.bindFramebuffer(t.FRAMEBUFFER,this.zv),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.Yv&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Bv),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Uv),this.Uv=null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.QT.gv()>=2&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.zv),this.Yv&&t.deleteFramebuffer(this.Bv);const s=this.QT.nC();s.rC=null,s.oC=null,this.zv=null}$v(){this.QT.$w(this.Hv,this._y/this.Ey),this.qv=this.QT.qw(),this.Xv=this.QT.Yw(),this.Zv=this.QT.Jw()}aC(){return this.zv}uC(){return this.Bv}lb(){return this.QT}lC(){return this.hv}cC(){return this.QT.qw()===this.qv&&this.QT.Yw()===this.Xv&&this.QT.Jw()===this.Zv||this.$v(),this.Hv}fC(){return"nearest"!==this.av}dC(){return this.Qv}pC(){return this.Vv}mC(){return this.Yv}Bg(){return this._y}Zg(){return this.Ey}gC(){return this.Wv}yC(){return this.Jv}MC(){const t={qx:this.av,alpha:this.Qv,kv:this.Vv};return this.Wv||(t.width=this._y,t.height=this.Ey),t}wC(t){return"nearest"!==(t=Object.assign({},$l,t)).qx===this.fC()&&!!t.alpha===this.dC()&&!!t.depth===this.mC()&&!(this.QT.gv()>=2&&!!t.kv!==this.pC())&&("number"==typeof t.width||"number"==typeof t.height?!this.gC()&&this.Bg()===Math.floor(t.width)&&this.Zg()===Math.floor(t.height):this.gC())}SC(){return this.hv?this.hv.Ev():null}Ov(){return this.hv?this.hv.Ov():this._y*this.Ey*(this.Qv?4:3)}static async TC(t,s){const i=await t.bC(s,!0);return await ql.do(i)}static Ob(){tc.clear()}static xC(){return tc.values()}static vC(t,s){for(const i of tc)i.gC()&&i.eC(t,s)}}}{const sc=self.Gs,ic=self.rs,ec=(ic.ys,ic.fs,new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]));sc.OM.CC=class extends sc.OM.WT{static async GC(t,s){const i=t.mv(),e=s.src,h=s.IC,n=s.name,r=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(r,e),i.compileShader(r);const o=i.createShader(i.VERTEX_SHADER);i.shaderSource(o,h),i.compileShader(o);const a=i.createProgram();i.attachShader(a,r),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a);const u=t._C();if(u?await t.EC((()=>i.getProgramParameter(a,u.COMPLETION_STATUS_KHR))):await sc.dr(5),!i.getShaderParameter(r,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(r);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+t)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const t=i.getShaderInfoLog(o);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+t)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const t=i.getProgramInfoLog(a);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+t)}const l=sc.Tm(i.getProgramInfoLog(a)||"").trim();return l&&!sc.Mm(l)&&console.info(`[WebGL] Shader program '${n}' compilation log: `,l),i.deleteShader(r),i.deleteShader(o),a}static async AC(t,s){const i=await sc.OM.CC.GC(t,s);return new sc.OM.CC(t,i,s)}constructor(t,s,i){super(t,i);const e=t.mv(),h=t.nC();t.ET(),e.useProgram(s),this.DC=e,this.Gb=s,this.NC="<default-device-transform>"===i.name;const n=e.getAttribLocation(s,"aPos"),r=e.getAttribLocation(s,"aTex");this.LC=e.getAttribLocation(s,"aPoints"),-1!==n&&(e.bindBuffer(e.ARRAY_BUFFER,t.OC),e.vertexAttribPointer(n,t.IT(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(n)),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.RC),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==this.LC&&(e.bindBuffer(e.ARRAY_BUFFER,t.kC),e.vertexAttribPointer(this.LC,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.LC)),e.bindBuffer(e.ARRAY_BUFFER,null),this.PC=new sc.OM.FC(this,"matP","mat4"),this.jC=new sc.OM.FC(this,"matMV","mat4"),this.zC=new sc.OM.FC(this,"color","vec4"),this.BC=new sc.OM.FC(this,"samplerFront","sampler"),this.UC=new sc.OM.FC(this,"pointTexStart","vec2"),this.WC=new sc.OM.FC(this,"pointTexEnd","vec2"),this.QC=new sc.OM.FC(this,"zElevation","float"),this.YC=new sc.OM.FC(this,"tileSize","vec2"),this.VC=new sc.OM.FC(this,"tileSpacing","vec2"),this.JC=new sc.OM.FC(this,"color2_","vec4"),this.HC=new sc.OM.FC(this,"outlineThickness","float"),this.qC=new sc.OM.FC(this,"samplerBack","sampler"),this.XC=new sc.OM.FC(this,"samplerDepth","sampler"),this.ZC=new sc.OM.FC(this,"destStart","vec2"),this.KC=new sc.OM.FC(this,"destEnd","vec2"),this.$C=new sc.OM.FC(this,"srcStart","vec2"),this.tG=new sc.OM.FC(this,"srcEnd","vec2"),this.sG=new sc.OM.FC(this,"srcOriginStart","vec2"),this.iG=new sc.OM.FC(this,"srcOriginEnd","vec2"),this.eG=new sc.OM.FC(this,"pixelSize","vec2"),this.hG=new sc.OM.FC(this,"seconds","float"),this.nG=new sc.OM.FC(this,"devicePixelRatio","float"),this.rG=new sc.OM.FC(this,"layerScale","float"),this.oG=new sc.OM.FC(this,"layerAngle","float"),this.aG=new sc.OM.FC(this,"layoutStart","vec2"),this.uG=new sc.OM.FC(this,"layoutEnd","vec2"),this.lG=new sc.OM.FC(this,"zNear","float"),this.cG=new sc.OM.FC(this,"zFar","float"),this.fG=!!(this.eG.dG()||this.hG.dG()||this.qC.dG()||this.ZC.dG()||this.KC.dG()||this.$C.dG()||this.tG.dG()||this.sG.dG()||this.iG.dG()||this.nG.dG()||this.rG.dG()||this.oG.dG()||this.aG.dG()||this.uG.dG());const o=i.parameters||[];this.pG=[],this.ab=this.eG.dG()||this.$C.dG()||this.tG.dG()||this.sG.dG()||this.iG.dG(),this.mG=!1,this.gG=!1,this.zC.yG(1,1,1,1),this.JC.yG(1,1,1,1),this.BC.MG(0),this.qC.MG(1),this.XC.MG(2),this.UC.wG(0,0),this.WC.wG(1,1),this.QC.SG(0),this.YC.wG(0,0),this.VC.wG(0,0),this.ZC.wG(0,0),this.KC.wG(1,1),this.$C.wG(0,0),this.tG.wG(0,0),this.sG.wG(0,0),this.iG.wG(0,0),this.eG.wG(0,0),this.nG.SG(1),this.lG.SG(t.Yw()),this.cG.SG(t.Jw()),this.rG.SG(1),this.oG.SG(0),this.hG.SG(0),this.aG.wG(0,0),this.uG.wG(0,0),this.HC.SG(1);for(const t of o){const s=t[0],i=t[2],e=new sc.OM.FC(this,s,i);"color"===i?e.TG(0,0,0):e.SG(0),this.pG.push(e)}this.NC?this.bG(h.xG):(this.vG(h.xG,!0),this.CG(h.GG,!0));const a=h.IG;e.useProgram(a?a.Gb:null)}Vh(){this.DC.deleteProgram(this.Gb),this.Gb=null,this.QT.nS(this),this.DC=null,super.Vh()}_G(){return this.DC}EG(){return this.Gb}AG(){return this.pG.length}DG(t){return t<0||t>=this.pG.length?null:this.pG[t].NG()}LG(t){for(let s=0,i=t.length;s<i;++s)if(!this.pG[s].OG(t[s]))return!1;return!0}kG(t){for(let s=0,i=t.length;s<i;++s)this.pG[s].PG(t[s])}FG(t,s,i,e,h,n,r,o,a,u){return!(this.qC.dG()||this.eG.dG()&&!this.eG.jG(h,n)||this.ZC.dG()&&!this.ZC.jG(t.Za(),t.Ka())||this.KC.dG()&&!this.KC.jG(t.$a(),t.tu())||this.nG.dG()&&!this.nG.zG(r)||this.rG.dG()&&!this.rG.zG(o)||this.oG.dG()&&!this.oG.zG(a)||this.$C.dG()&&!this.$C.jG(s.Za(),s.Ka())||this.tG.dG()&&!this.tG.jG(s.$a(),s.tu())||this.sG.dG()&&!this.sG.jG(i.Za(),i.Ka())||this.iG.dG()&&!this.iG.jG(i.$a(),i.tu())||this.aG.dG()&&!this.aG.jG(e.Za(),e.Ka())||this.uG.dG()&&!this.uG.jG(e.Ka(),e.tu())||this.hG.dG()&&!this.hG.zG(u))}BG(t,s,i,e,h,n,r,o,a,u){this.qC.dG()||(this.eG.dG()&&this.eG.UG(h,n),this.ZC.dG()&&this.ZC.UG(t.Za(),t.Ka()),this.KC.dG()&&this.KC.UG(t.$a(),t.tu()),this.nG.dG()&&this.nG.WG(r),this.rG.dG()&&this.rG.WG(o),this.oG.dG()&&this.oG.WG(a),this.$C.dG()&&this.$C.UG(s.Za(),s.Ka()),this.tG.dG()&&this.tG.UG(s.$a(),s.tu()),this.sG.dG()&&this.sG.UG(i.Za(),i.Ka()),this.iG.dG()&&this.iG.UG(i.$a(),i.tu()),this.aG.dG()&&this.aG.UG(e.Za(),e.Ka()),this.uG.dG()&&this.uG.UG(e.Ka(),e.tu()),this.hG.dG()&&this.hG.WG(u))}vG(t,s){this.mG&&!s||this.NC||(this.PC.dG()&&this.PC.QG(t),this.mG=!0)}YG(){this.mG=!1}CG(t,s){this.gG&&!s||this.NC||(this.jC.dG()&&this.jC.QG(t),this.gG=!0)}VG(){this.gG=!1}bG(t){if(!this.NC)throw new Error("not device transform shader");this.PC.QG(t);const s=this.QT,i=s.Bg()/2,e=s.Zg()/2,h=s.eS(i,e,s.zw(s.Zg()),i,e,0,s.Zg());this.jC.QG(h)}JG(t){this.zC.dG()&&this.zC.HG(t[0],t[1],t[2],t[3])}static qG(){return ec}static XG(t){return t?"\n#extension GL_EXT_conservative_depth : enable\nlayout (depth_greater) out highp float gl_FragDepth;\n\t":""}static ZG(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static KG(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPos, 1.0);","\tvTex = aTex;","}"].join("\n")}static $G(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static tI(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static sI(t){return["#version 300 es",sc.OM.CC.XG(t),"in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static iI(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static eI(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static hI(t){return["#version 300 es",sc.OM.CC.XG(t),"in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static nI(t,s,i,e){let h="";return t>=2?h="#version 300 es\n"+sc.OM.CC.XG(e):(s&&(h="#extension GL_EXT_frag_depth : enable\n"),i&&(h+="#extension GL_EXT_shader_texture_lod : enable\n",h+="#extension GL_OES_standard_derivatives : enable\n")),h+`\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision highmedp float;\n${t>=2?"in":"varying"} vec2 vTex;\n${t>=2?"out lowp vec4 outColor;":""}\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform vec2 pixelSize;\n\nuniform vec2 tileSize;\nuniform vec2 tileSpacing;\nuniform float outlineThickness;\n\nconst float PI = 3.1415926;\n\nlowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)\n{\n\treturn (a + b + (a - b) * cos(x * PI)) / 2.0;\n}\n\nvec3 randVec3(vec2 seed)\n{\n\treturn vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),\n\t\t\t\tfract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));\n}\n\nlowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)\n{\n\tvec2 posRandom = tileSize;\n\tfloat angleRandom = outlineThickness;\n\t\n\tvec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;\n\t\n\tfloat angle = angleRandom * rand.z * PI;\n\tfloat sin_a = sin(angle);\n\tfloat cos_a = cos(angle);\n\tfloat aspect = pixelSize.x / pixelSize.y;\n\n\tvec2 mid = tile + vec2(0.5, 0.5);\n\tvec2 dp = uv - mid;\n\tdp.x /= aspect;\n\tvec2 r = vec2(dp.x * cos_a - dp.y * sin_a,\n\t\t\t\t  dp.y * cos_a + dp.x * sin_a);\n\tr.x *= aspect;\n\n\tvec2 p = mid + r + (posRandom * rand.xy / 2.0);\n\t\n\t${t>=2?"return textureGrad(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}\n\t${t<2&&!i?"return texture2D(samplerFront, p);":""}\n}\n\nvoid main(void) {\n\t\n\t${t<2?"lowp vec4 outColor;":""}\n\t\n\tfloat blendMarginX = tileSpacing.x;\n\tfloat blendMarginY = tileSpacing.y;\n\t\n\tvec2 tile = floor(vTex);\n\tvec2 tex = fract(vTex);\n\tvec2 ddx = ${t>=2||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};\n\tvec2 ddy = ${t>=2||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};\n\t\n\tvec4 curTile = sampleTile(tile, vTex, ddx, ddy);\n\t\n\tbool inLeftMargin = (tex.x < blendMarginX);\n\tbool inRightMargin = (tex.x > 1.0 - blendMarginX);\n\tbool inTopMargin = (tex.y < blendMarginY);\n\tbool inBottomMargin = (tex.y > 1.0 - blendMarginY);\n\t\n\tif (inLeftMargin)\n\t{\n\t\tlowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;\n\t\tlowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);\n\t\t\t\n\t\t\toutColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = leftMixedTile;\n\t\t}\n\t}\n\telse if (inRightMargin)\n\t{\n\t\tlowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);\n\t\tfloat rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);\n\t\tlowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);\n\t\t\n\t\tif (inTopMargin)\n\t\t{\n\t\t\tlowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t\t}\n\t\telse if (inBottomMargin)\n\t\t{\n\t\t\tlowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);\n\t\t\tlowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);\n\t\t\t\n\t\t\toutColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutColor = rightMixedTile;\n\t\t}\n\t}\n\telse if (inTopMargin)\n\t{\n\t\tlowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);\n\t}\n\telse if (inBottomMargin)\n\t{\n\t\tlowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);\n\t\toutColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));\n\t}\n\telse\n\t{\n\t\toutColor = curTile;\n\t}\n\t\n\toutColor *= color;\n\t${t<2?"gl_FragColor = outColor;":""}\n\t${t>=2?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n\t${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}\n}\n`}static rI(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static oI(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static aI(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static uI(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static lI(t){return["#version 300 es",sc.OM.CC.XG(t),"uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static cI(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static fI(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static dI(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {","\thighmedp float grad = vTex.x / (1.0 - vTex.y);","\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);","}"].join("\n")}static pI(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static mI(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static gI(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static yI(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static MI(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const hc=self.Gs,nc=self.rs.fs,rc=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);hc.OM.FC=class{constructor(t,s,i){if(!rc.has(i))throw new Error("invalid uniform type");this.yx=t,this.DC=this.yx._G(),this.qh=s,this.Yc=i,this.wI="color"===this.Yc,this.SI=this.DC.getUniformLocation(this.yx.EG(),s),this.TI=!!this.SI;const e=rc.get(i);this.bI=new Float32Array(e),this.xI=new Float32Array(e)}Vh(){this.yx=null,this.DC=null,this.SI=null}dG(){return this.TI}NG(){return this.Yc}vI(){return this.wI}SG(t){this.dG()&&(this.bI[0]=t,this.xI.set(this.bI),this.DC.uniform1f(this.SI,t))}MG(t){this.dG()&&(this.bI[0]=t,this.xI.set(this.bI),this.DC.uniform1i(this.SI,t))}wG(t,s){this.dG()&&(this.bI[0]=t,this.bI[1]=s,this.xI.set(this.bI),this.DC.uniform2f(this.SI,t,s))}TG(t,s,i){this.dG()&&(this.bI[0]=t,this.bI[1]=s,this.bI[2]=i,this.xI.set(this.bI),this.DC.uniform3f(this.SI,t,s,i))}yG(t,s,i,e){this.dG()&&(this.bI[0]=t,this.bI[1]=s,this.bI[2]=i,this.bI[3]=e,this.xI.set(this.bI),this.DC.uniform4f(this.SI,t,s,i,e))}CI(t){t=Math.fround(t);const s=this.bI;s[0]!==t&&(s[0]=t,this.DC.uniform1f(this.SI,t))}GI(t){const s=this.bI;s[0]!==t&&(s[0]=t,this.DC.uniform1i(this.SI,t))}II(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.bI;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.DC.uniform2f(this.SI,t,s))}_I(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.bI;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.DC.uniform3f(this.SI,t,s,i))}HG(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const h=this.bI;h[0]===t&&h[1]===s&&h[2]===i&&h[3]===e||(h[0]=t,h[1]=s,h[2]=i,h[3]=e,this.DC.uniform4f(this.SI,t,s,i,e))}QG(t){const s=this.bI;nc.L(s,t)||(hc.yr(s,t,0),this.DC.uniformMatrix4fv(this.SI,!1,t))}OG(t){const s=this.xI;return this.vI()?s[0]===Math.fround(t.Po())&&s[1]===Math.fround(t.Fo())&&s[2]===Math.fround(t.jo()):s[0]===Math.fround(t)}PG(t){const s=this.xI;this.vI()?(s[0]=t.Po(),s[1]=t.Fo(),s[2]=t.jo()):s[0]=t}zG(t){return this.xI[0]===Math.fround(t)}jG(t,s){const i=this.xI;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}WG(t){this.xI[0]=t}UG(t,s){const i=this.xI;i[0]=t,i[1]=s}}}{const oc=self.Gs,ac=self.rs,uc=ac.Ms,lc=ac.fs;oc.OM.EI=class{constructor(t){this.AI=t,this.GG=lc.create(),this.xG=lc.create(),this.rC=null,this.oC=null,this.DI=!1,this.NI=uc.M(1,1,1,1),this.IG=null,this.LI=new oc.Rect,this.clearColor=oc.Yh(oc.xo,0,0,0,0)}},oc.OM.OI=class{constructor(t){const s=new ArrayBuffer(96);this.Yc=0,this.RI=t,this.DC=t.AI.mv(),this.kI=0,this.FI=0,this.jI=null,this.zI=new Float32Array(s,0,16),this.BI=new Float32Array(s,64,4),this.UI=new Float32Array(s,80,4),this.WI=[]}QI(t,s){this.Yc=1,this.kI=t,this.FI=s}YI(){const t=this.DC;t.drawElements(t.TRIANGLES,this.FI,t.UNSIGNED_SHORT,this.kI)}VI(t){this.Yc=2,this.jI=t}JI(){const t=this.DC,s=this.jI;t.bindTexture(t.TEXTURE_2D,s?s.Ev():null)}HI(t){this.Yc=3,t.Uo(this.BI,0)}qI(){const t=this.BI,s=this.RI;uc.m(s.NI,t),s.IG.JG(t)}XI(t){this.Yc=21,t.Uo(this.BI,0)}ZI(){const t=this.BI,s=this.RI.IG;s.JC.dG()&&s.JC.HG(t[0],t[1],t[2],t[3])}KI(t,s){this.Yc=4,this.kI=t,this.FI=s}$I(){this.DC.blendFunc(this.kI,this.FI)}t_(t,s,i,e){this.Yc=5;const h=this.BI;h[0]=t,h[1]=s,h[2]=i,h[3]=e}s_(){const t=this.BI;this.DC.viewport(t[0],t[1],t[2],t[3])}i_(t){this.Yc=6,lc.m(this.zI,t)}e_(){const t=this.RI,s=t.AI.hw,i=t.IG,e=this.zI;for(let t=0,h=s.length;t<h;++t){const h=s[t];h===i?h.vG(e,!0):h.YG()}lc.m(t.xG,e)}h_(t){this.Yc=7,lc.m(this.zI,t)}n_(){const t=this.RI,s=t.AI.hw,i=t.IG,e=this.zI;for(let t=0,h=s.length;t<h;++t){const h=s[t];h===i?h.CG(e,!0):h.VG()}lc.m(t.GG,e)}r_(t){this.Yc=8,this.jI=t}o_(){const t=this.DC,s=this.jI,i=this.RI;s?(i.rC=s.aC(),i.oC=s.uC(),i.DI&&i.oC?t.bindFramebuffer(t.FRAMEBUFFER,i.oC):t.bindFramebuffer(t.FRAMEBUFFER,i.rC)):(i.rC=null,i.oC=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}a_(t){this.Yc=9,t.Uo(this.zI,0)}u_(t,s,i,e){this.Yc=9;const h=this.zI;h[0]=t,h[1]=s,h[2]=i,h[3]=e}l_(){const t=this.DC,s=this.zI,i=this.RI.clearColor,e=s[0],h=s[1],n=s[2],r=s[3];i.Vo(e,h,n,r)||(t.clearColor(e,h,n,r),i._o(e,h,n,r)),t.clear(t.COLOR_BUFFER_BIT)}c_(t){this.Yc=15,t.Uo(this.zI,0)}f_(){const t=this.zI;this.RI.LI.set(t[0],t[1],t[2],t[3])}d_(t,s){this.Yc=10,this.kI=t,this.FI=1,this.zI[0]=s}p_(){const t=this.DC,s=this.RI,i=s.AI.aw;t.useProgram(i.Gb),i.vG(s.xG,!1),i.CG(s.GG,!1);const e=s.LI;i.UC.dG()&&i.UC.II(e.Za(),e.Ka()),i.WC.dG()&&i.WC.II(e.$a(),e.tu());const h=this.zI[0];if(i.QC.dG()&&i.QC.CI(h),i.zC.dG()){const t=s.NI;i.zC.HG(t[0],t[1],t[2],t[3])}t.drawArrays(t.POINTS,this.kI/4,this.FI),t.useProgram(s.IG.Gb)}m_(t){this.Yc=11,this.jI=t}g_(){const t=this.DC,s=this.RI,i=this.jI;if(s.IG=i,t.useProgram(i.Gb),i.vG(s.xG,!1),i.CG(s.GG,!1),i.zC.dG()){const t=s.NI;i.zC.HG(t[0],t[1],t[2],t[3])}}y_(){this.Yc=12}M_(){const t=this.RI.IG,s=this.DC,i=this.zI,e=this.BI,h=this.UI;if(t.qC.dG()){const t=this.RI.AI,i=this.jI;t.w_!==i&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,i?i.Ev():null),t.w_=i,s.activeTexture(s.TEXTURE0))}t.eG.dG()&&t.eG.II(i[0],i[1]),t.ZC.dG()&&t.ZC.II(i[2],i[3]),t.KC.dG()&&t.KC.II(i[4],i[5]),t.nG.dG()&&t.nG.CI(this.FI),t.rG.dG()&&t.rG.CI(i[6]),t.oG.dG()&&t.oG.CI(i[7]),t.$C.dG()&&t.$C.II(i[12],i[13]),t.tG.dG()&&t.tG.II(i[14],i[15]),t.sG.dG()&&t.sG.II(h[0],h[1]),t.iG.dG()&&t.iG.II(h[2],h[3]),t.aG.dG()&&t.aG.II(e[0],e[1]),t.uG.dG()&&t.uG.II(e[2],e[3]),t.hG.dG()&&t.hG.CI(this.kI)}S_(){this.Yc=13}T_(){const t=this.RI.IG.pG,s=this.WI;for(let i=0,e=t.length;i<e;++i){const e=t[i],h=s[i];e.vI()?e._I(h.Po(),h.Fo(),h.jo()):e.CI(h)}}b_(t){this.Yc=14,this.jI=t}x_(){const t=this.DC,s=this.jI,i=this.RI.rC;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}v_(t,s,i){this.Yc=17;const e=this.zI,h=this.RI.AI;e[0]=t.Bg(),e[1]=t.Zg(),e[2]=s?s.Bg():h.Bg(),e[3]=s?s.Zg():h.Zg(),e[4]=t.fC()?1:0,e[5]="stretch"===i;const n=this.WI;oc.wr(n),n.push(t.aC()),n.push(s?s.aC():null)}C_(){const t=this.zI,s=this.WI,i=this.DC,e=t[0],h=t[1],n=t[2],r=t[3],o=0!==t[4],a=0!==t[5],u=s[0],l=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,u),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,l),a)i.blitFramebuffer(0,0,e,h,0,0,n,r,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const t=Math.min(e,n),s=Math.min(h,r),o=Math.max(h-r,0),a=Math.max(r-h,0);i.blitFramebuffer(0,o,t,s+o,0,a,t,s+a,i.COLOR_BUFFER_BIT,i.NEAREST)}}G_(t){this.Yc=18,this.jI=t}I_(){this.jI.__(),this.jI=null}E_(t){this.Yc=19,this.jI=t}A_(){this.jI.D_(),this.jI=null}N_(t,s,i){this.Yc=20;const e=this.zI;e[0]=t,e[1]=s,e[2]=i}L_(){const t=this.RI.IG,s=this.zI;t.eG.dG()&&t.eG.II(s[0],s[1]),t.HC.dG()&&t.HC.CI(s[2])}O_(t,s,i,e,h,n,r){this.Yc=16;const o=this.zI;t.Uo(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=h/i,o[8]=n/s,o[9]=r/i}R_(){const t=this.RI.IG,s=this.zI;t.$C.dG()&&t.$C.II(s[0],s[1]),t.eG.dG()&&t.eG.II(s[4],s[5]),t.YC.dG()&&t.YC.II(s[6],s[7]),t.VC.dG()&&t.VC.II(s[8],s[9])}k_(t,s,i,e,h,n,r){this.Yc=29;const o=this.zI;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=h,o[5]=n,o[6]=r}P_(){const t=this.RI.IG,s=this.zI;t.eG.dG()&&t.eG.II(s[0],s[1]),t.YC.dG()&&t.YC.II(s[2],s[3]),t.HC.dG()&&t.HC.CI(s[4]),t.VC.dG()&&t.VC.II(s[5],s[6])}F_(t){this.Yc=22,this.kI=t?1:0}j_(){const t=this.DC,s=0!==this.kI;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}z_(t){this.Yc=23,this.kI=t?1:0}B_(){const t=this.DC;0===this.kI?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}U_(t){this.Yc=24,this.kI=t?1:0}W_(){const t=this.DC,s=this.RI,i=s.AI,e=0!==this.kI;s.DI=e,t.activeTexture(t.TEXTURE2),e?(s.oC&&t.bindFramebuffer(t.FRAMEBUFFER,s.oC),t.bindTexture(t.TEXTURE_2D,i.sC())):(t.bindTexture(t.TEXTURE_2D,null),s.oC&&t.bindFramebuffer(t.FRAMEBUFFER,s.rC)),t.activeTexture(t.TEXTURE0)}Q_(){this.Yc=25}Y_(){const t=this.DC;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}V_(){this.Yc=26}J_(){const t=this.DC;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}H_(){this.Yc=27}q_(){const t=this.DC;t.disable(t.STENCIL_TEST)}X_(t,s,i,e,h){this.Yc=28,this.kI=t?1:0;const n=this.zI;n[0]=s,n[1]=i,n[2]=e,n[3]=h}Z_(){const t=this.DC,s=this.zI;1===this.kI?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}K_(){switch(this.Yc){case 1:return void this.YI();case 2:return void this.JI();case 3:return void this.qI();case 4:return void this.$I();case 5:return void this.s_();case 6:return void this.e_();case 7:return void this.n_();case 8:return void this.o_();case 9:return void this.l_();case 10:return void this.p_();case 11:return void this.g_();case 12:return void this.M_();case 13:return void this.T_();case 14:return void this.x_();case 15:return void this.f_();case 16:return void this.R_();case 17:return void this.C_();case 18:return void this.I_();case 19:return void this.A_();case 20:return void this.L_();case 21:return void this.ZI();case 22:return void this.j_();case 23:return void this.B_();case 24:return void this.W_();case 25:return void this.Y_();case 26:return void this.J_();case 27:return void this.q_();case 28:return void this.Z_();case 29:return void this.P_()}}}}{let cc=function(t,s,i,e,h,n){s?t.strokeRect(i,e,h,n):t.fillRect(i,e,h,n)},fc=function(t){return t*(4/3)},dc=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};0;const pc=self.Gs,mc=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),gc={timeout:60},yc=new pc.xo(0,0,0,1),Mc=new Set(["left","center","right"]),wc=new Set(["top","center","bottom"]),Sc=new Set(["word","cjk","character"]),Tc=new Set(["ltr","rtl"]),bc=new Set;pc.tE&&pc.tE.addEventListener("fontload",(t=>{const s=t.font._c();for(const t of bc)(t.sE()||pc.Ze(t.iE(),s))&&t.eE()}));let xc=!1,vc=!1;pc.OM.UT=class{constructor(t,s){s=Object.assign({},gc,s),this.QT=t,this.hE="Arial",this.nE=16,this.rE=1,this.oE=0,this.aE=!1,this.uE=!1,this.lE="black",this.cE=!1,this.kg=null,this.fE=!0,this.dE=null,this.pE=new Set,this.mE="left",this.gE="top",this.Fc="",this.yE=null,this.ME=pc.Yh(pc.Og),this.wE="word",this.SE="ltr",this.TE=!1,this.bE=!1,this.xE=!1,this.vE=-1,this.CE=0,this.GE=0,this.IE=0,this._y=0,this.Ey=0,this._E=1,this.EE=null,this.AE=null,this.DE=null,this.NE=null,this.LE=-1,this.OE=-1,this.RE="",this.kE="",this.PE="",this.FE=1,this.jE=1,this.zE=t=>this.BE(t),this.hv=null,this.UE=new pc.Rect,this.WE=1,this.QE=new pc.Lf((()=>{this.YE(),this.VE(8,8)}),s.timeout),this.JE=null,this.HE=!1,bc.add(this)}Vh(){this.dE=null,this.pE.clear(),this.kg=null,this.yE=null,this.EE=null,this.AE=null,this.DE=null,this.NE=null,this.zE=null,this.QE.Vh(),this.JE=null,this.YE(),this.ME._l(),this.ME=null,this.QT=null,this.HE=!0,bc.delete(this)}qE(){this.xE=!0}XE(){this.qE(),this.bE=!0}eE(){this.XE(),this.TE=!0}ZE(t){if(t=!!t,this.cE===t)return;this.cE=t;const s=this.cE?"alphabetic":"top";this.AE&&(this.AE.textBaseline=s),this.DE&&(this.DE.textBaseline=s),this.eE()}sE(){return this.cE}jg(t){this.kg!==t&&(this.kg=t,this.ME.jg(t),this.kg&&this.kg.TM()&&this.kg.bM().then((()=>this.qE())),this.eE())}KE(t){t=!!t,this.fE!==t&&(this.fE=t,this.qE())}$E(t){t||(t="serif"),this.hE!==t&&(this.hE=t,this.eE())}iE(){return this.hE}tA(t){t<.1&&(t=.1),this.nE!==t&&(this.nE=t,this.eE())}sA(){return this.nE}iA(t){this.rE!==t&&(this.rE=t,this.eE())}eA(t){this.oE!==t&&(this.oE=t,this.XE())}hA(){return this.oE}nA(t){t=!!t,this.aE!==t&&(this.aE=t,this.eE())}rA(){return this.aE}oA(t){t=!!t,this.uE!==t&&(this.uE=t,this.eE())}aA(){return this.uE}uA(t){t=Math.floor(t),this.vE!==t&&(this.vE=t,this.qE())}lA(){return this.vE}cA(t,s){let i=[];(this.aE||s.Qy("b"))&&i.push("bold"),(this.uE||s.Qy("i"))&&i.push("italic");const e=s.Wy("size"),h=(e?parseFloat(e.Ig):this.nE)*this.rE;t?i.push(h+"pt"):i.push(h*this.fA()+"pt");let n=this.hE;const r=s.Wy("font");return r&&r.Ig&&(n=r.Ig,this.dE&&!this.pE.has(n)&&(this.dE(n),this.pE.add(n))),n&&(mc.has(n)?i.push(n):i.push('"'+n+'"')),i.join(" ")}Lb(t){t instanceof pc.xo&&(t=t.$o()),this.lE!==t&&(this.lE=t,this.qE())}dA(t,s,i){yc.Eo(t,s,i),this.Lb(yc)}pA(t){if(!Mc.has(t))throw new Error("invalid horizontal alignment");this.mE!==t&&(this.mE=t,this.XE())}mA(){return this.mE}gA(t){if(!wc.has(t))throw new Error("invalid vertical alignment");this.gE!==t&&(this.gE=t,this.XE())}yA(){return this.gE}MA(t){if(!Sc.has(t))throw new Error("invalid word wrap mode");this.wE!==t&&(this.wE=t,this.eE())}wA(){return this.wE}SA(t){if(!Tc.has(t))throw new Error("invalid text direction");this.SE!==t&&(this.SE=t,this.AE&&(this.AE.direction=this.SE),this.DE&&(this.DE.direction=this.SE),this.eE())}TA(){return this.SE}Bc(t){this.Fc!==t&&(this.Fc=t,this.eE())}bA(){return this.Fc}fA(){return this.WE*this._E*self.devicePixelRatio}xA(t,s,i){if(void 0===i&&(i=1),t<=0||t<=0)return;if(this.GE===t&&this.IE===s&&this._E===i)return;const e=this.GE;this.GE=t,this.IE=s,this._E=i;const h=self.devicePixelRatio;this._y=this.GE*this._E*h,this.Ey=this.IE*this._E*h;const n=Math.max(this._y,this.Ey),r=Math.min(this.QT.pv(),4096);let o=1;n>r&&(o=r/n,this._y=Math.min(this._y*o,r),this.Ey=Math.min(this.Ey*o,r)),this.WE=o,this.GE!==e?this.eE():this.XE()}Bg(){return this._y}Zg(){return this.Ey}vA(){return this._E}CA(){return this.GA(),this.ME.Gy()}IA(){return this.GA(),this.ME.Iy()+this.ME.Fg()*(this.oE+4)-this.oE}_A(){this.GA();let t=0;for(const s of this.ME.Pg())for(const i of s.ey())t+=i.hy();return t}lC(){return this.QE.Ff(),this.EA(),this.hv}AA(t,s){this.GA();const i=this.fA(),e=this.ME.Pg();for(const h of e){const e=h.$g()*i;if(s>=h.zy()-h.Zg()*i+e&&s<h.zy()+e)for(const s of h.ey())if(t>=s.Fy()&&t<s.Fy()+s.Bg()*i)return s}return null}*DA(t){this.GA();const s=this.ME.Pg();for(const i of s)for(const s of i.ey()){const i=s.Wy("tag");i&&pc.Ze(i.Ig,t)&&(yield s)}}NA(t,s){for(const i of this.DA(t)){if(0===s)return i;--s}return null}LA(t){let s=0;for(const i of this.DA(t))++s;return s}EA(){(!this.hv||this.xE||this.bE||this.TE)&&(this.HE||this._y<=0||this.Ey<=0||(this.xE=!1,this.OA()))}OA(){this.HE||(this.GA(),this.VE(Math.max(pc.Tn(Math.ceil(this._y)),128),Math.max(pc.Tn(Math.ceil(this.Ey)),64)),this.RA(),this.kA(),this.QE.Ff())}VE(t,s){this.EE||(this.EE=pc.lo(16,16));let i=!1;this.LE===t&&this.OE===s||(this.LE=t,this.OE=s,this.EE.width=t,this.EE.height=s,i=!0),this.AE||(this.AE=this.EE.getContext("2d"),i=!0),i?(this.AE.textBaseline=this.cE?"alphabetic":"top",this.AE.direction=this.SE,this.AE.font=this.RE,this.AE.fillStyle=this.PE,this.AE.strokeStyle=this.PE,this.AE.globalAlpha=this.FE,this.AE.lineWidth=this.jE):this.AE.clearRect(0,0,t,s)}PA(){this.DE||(this.DE=pc.lo(16,16).getContext("2d"),this.NE=pc.lo(16,16).getContext("2d"),this.DE.textBaseline=this.cE?"alphabetic":"top",this.NE.textBaseline="top",this.DE.direction=this.SE,this.NE.direction=this.SE)}FA(t){this.kE!==t&&(this.kE=t,this.DE.font=t,this.NE.font=t)}jA(){if(!xc){xc=!0,this.PA();const t=this.DE.measureText("test");vc="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return vc}GA(){this.zA(),this.BA()}zA(){this.TE&&(this.PA(),!this.cE||this.yE&&this.yE.toString()===this.Fc||(this.yE=new pc.dh(this.Fc,{fg:!0})),this.ME.Og(this.cE?this.yE.Cg():this.Fc,this.zE,this.GE,this.wE,0),this.TE=!1)}BA(){this.bE&&(this.UA(),this.bE=!1)}BE(t){const s=t.Jg()?t.gy().join(""):" ";this.FA(this.cA(!0,t));const i=t.Wy("size"),e=(i?parseFloat(i.Ig):this.nE)*this.rE,h=this.DE.measureText(s);let n=0;if(this.cE&&this.jA()){const t=this.NE.measureText(s);n=h.fontBoundingBoxAscent-t.fontBoundingBoxAscent}return{width:h.width,height:fc(e),fontBoundingBoxAscent:h.fontBoundingBoxAscent||0,fontBoundingBoxDescent:h.fontBoundingBoxDescent||0,Vg:n}}WA(t){this.RE!==t&&(this.RE=t,this.AE.font=t)}QA(t){this.PE!==t&&(this.PE=t,this.AE.fillStyle=t,this.AE.strokeStyle=t)}YA(t){this.FE!==t&&(this.FE=t,this.AE.globalAlpha=t)}VA(t){this.jE!==t&&(this.jE=t,this.AE.lineWidth=t)}UA(){const t=this.fA(),s=(4+this.oE)*t;let i=0;const e=this.ME.Pg();if(0===e.length)return;for(const t of e){t.Py(NaN),t.jy(NaN);for(const s of t.ey())s.Py(NaN),s.jy(NaN)}const h=this.cE&&this.jA();let n=e[0].Zg()*t;if("center"===this.gE){const r=e.reduce(((i,e)=>i+e.Zg()*t+s),0)-s;i=Math.max(this.Ey/2-r/2,0),h&&(n=e[0].ty()*t)}else if("bottom"===this.gE){const n=e.reduce(((i,e)=>i+e.Zg()*t+s),0)-this.oE*t,r=h?e.at(-1).$g()*t:0;i=this.Ey-n-r-2}for(let h=0,r=e.length;h<r;++h){const r=e[h],o=r.Zg()*t,a=i;if(this.cE){if(i+=0===h?n:o,h>0&&i>this.Ey-4*t)break}else if(h>0&&i>=this.Ey-o)break;a>=0&&this.JA(r,i,t),this.cE||(i+=o),i+=s}}JA(t,s,i){let e=0;"center"===this.mE?e=Math.floor((this._y-t.Bg()*i)/2):"right"===this.mE&&(e=this._y-t.Bg()*i),t.Py(e),t.jy(s);for(const h of"ltr"===this.SE?t.ey():t.Ry())this.HA(h,e,s,i),e+=h.Bg()*i}HA(t,s,i,e){const h=t.Wy("offsetx");s+=h?dc(h.Ig,t.Zg())*e:0;const n=t.Wy("offsety");if(i+=n?dc(n.Ig,t.Zg())*e:0,t.qg()){const s=t.Wy("iconoffsety");i+=s?dc(s.Ig,t.Zg())*e:.2*t.Zg()*e}t.Py(s),t.jy(i)}RA(){this.AE.imageSmoothingEnabled=this.fE,this.AE.imageSmoothingQuality="high",this.CE=0;const t=this.fA(),s=this.ME.Pg();for(const i of s)this.qA(i,t)}qA(t,s){const i=t.Fy(),e=t.zy();if(Number.isFinite(i)&&Number.isFinite(e))for(const i of"ltr"===this.SE?t.ey():t.Ry())this.XA(i,s,t.Zg())}XA(t,s,i){const e=this.AE,h=t.Fy(),n=t.zy();if(!Number.isFinite(h)||!Number.isFinite(n))return;const r=i/16;let o=t.Bg()*s;const a=t.Zg()*s,u=t.Zg()/16,l=(4+this.oE)*s;let c=t.Jg()?t.gy():null;if(-1!==this.vE){if(this.CE>=this.vE)return;t.Jg()&&this.CE+c.length>this.vE&&(c=c.slice(0,this.vE-this.CE),o=this.BE(t).width*s),this.CE+=t.hy()}const f=t.Wy("background"),d=t.Qy("u"),p=t.Qy("s");if(t.Jg()&&pc.wm(c)&&!f&&!d&&!p||t.Qy("hide"))return;const m=t.Wy("color"),g=t.Wy("opacity");this.YA(g?parseFloat(g.Ig)/100:1),f&&(this.QA(f.Ig),e.fillRect(h,n-a,o,a+l));const y=t.Wy("linethickness"),M=y?parseFloat(y.Ig):1,w=t.Qy("stroke");if(w&&this.VA(.5*u*M*this.fA()),t.Jg()){const s=c.join("");if(this.WA(this.cA(!1,t)),!w){this.VA(.5*u*M*this.fA());const i=t.Wy("outlineback");i&&(this.QA(i.Ig),this.ZA(!0,s,h,n,o))}if(this.QA(m?m.Ig:this.lE),this.ZA(w,s,h,n,o),!w){this.VA(.5*u*M*this.fA());const i=t.Wy("outline");i&&(this.QA(i.Ig),this.ZA(!0,s,h,n,o))}}else if(t.qg()&&t.Bg()>0){const s=t.Ky(this.kg);s&&e.drawImage(s,h,n-a,o,a)}if(this.QA(m?m.Ig:this.lE),d&&cc(e,w,h,n+s*r,o,s*r*M),p){const t=s*u,i=n-a/4+t/2;e.fillRect(h,i-t*M/2,o,t*M)}}ZA(t,s,i,e,h){"rtl"===this.SE&&(i+=h),t?"Gecko"===pc.Zs.ei?this.AE.strokeText(s,i,e,h):this.AE.strokeText(s,i,e):"Gecko"===pc.Zs.ei?this.AE.fillText(s,i,e,h):this.AE.fillText(s,i,e)}kA(){this.QT.KA()||(this.hv||(this.hv=this.QT.tC(this.EE.width,this.EE.height,{Kx:!0,$x:"high"})),this.QT.$A(this.EE,this.hv),this.UE.set(0,0,this._y/this.hv.Bg(),this.Ey/this.hv.Zg()),this.JE&&this.JE())}tD(){return this.UE}YE(){this.hv&&(this.QT.KA()||this.QT.hC(this.hv),this.hv=null)}static Ob(){for(const t of bc)t.YE()}static sD(){return bc.values()}}}{const Cc=self.Gs;class Gc{constructor(t){this.DC=t.mv(),this.iD=t.gv(),this.eD=t.hD(),this.nD=null,this.Pf=!1,this.rD=!1,this.oD=0,1===this.iD?this.nD=this.eD.createQueryEXT():this.nD=this.DC.createQuery()}Vh(){this.aD(),this.DC=null,this.eD=null,this.rD=!1}aD(){this.nD&&(1===this.iD?this.eD.deleteQueryEXT(this.nD):this.DC.deleteQuery(this.nD),this.nD=null)}__(){if(this.Pf)throw new Error("query already active");1===this.iD?this.eD.beginQueryEXT(this.eD.TIME_ELAPSED_EXT,this.nD):this.DC.beginQuery(this.eD.TIME_ELAPSED_EXT,this.nD),this.Pf=!0}D_(){if(!this.Pf)throw new Error("query not active");1===this.iD?this.eD.endQueryEXT(this.eD.TIME_ELAPSED_EXT):this.DC.endQuery(this.eD.TIME_ELAPSED_EXT),this.Pf=!1}uD(){if(!this.nD||this.rD||this.Pf)return;let t=!1;t=1===this.iD?this.eD.getQueryObjectEXT(this.nD,this.eD.QUERY_RESULT_AVAILABLE_EXT):this.DC.getQueryParameter(this.nD,this.DC.QUERY_RESULT_AVAILABLE);const s=this.DC.getParameter(this.eD.GPU_DISJOINT_EXT);t&&!s&&(1===this.iD?this.oD=this.eD.getQueryObjectEXT(this.nD,this.eD.QUERY_RESULT_EXT):this.oD=this.DC.getQueryParameter(this.nD,this.DC.QUERY_RESULT),this.oD/=1e9,this.rD=!0),(t||s)&&this.aD()}lD(){return this.rD}cD(){if(!this.rD)throw new Error("no result available");return this.oD}}Cc.OM.fD=class{constructor(t){this.QT=t,this.Nw=t.AT(),this.Pf=!1,this.dD=null,this.pD=!1,this.mD=null,this.gD=[]}Vh(){for(const t of this.gD)t instanceof Gc&&t.Vh();Cc.wr(this.gD),this.dD=null,this.mD=null,this.QT=null}__(){if(this.Pf)throw new Error("query already active");const t=this.QT.yD();t.length>0?(this.pD=!0,this.dD=t.at(-1),this.dD.MD(),this.dD.gD.push(this)):(this.pD=!1,this.dD=null),this.Pf=!0,t.push(this),this.wD()}D_(){if(!this.Pf)throw new Error("query not active");if(this.QT.yD().pop()!==this)throw new Error("can only end most nested query");this.Pf=!1,this.MD(),this.dD&&(this.dD.wD(),this.dD=null)}wD(){this.mD=Cc.Yh(Gc,this.QT),this.gD.push(this.mD),this.mD.__()}MD(){this.mD.D_(),this.mD=null}uD(){for(const t of this.gD)t.uD()}SD(){return this.pD}lD(){return this.gD.every((t=>t.lD()))}cD(){return this.gD.reduce(((t,s)=>t+s.cD()),0)}AT(){return this.Nw}}}{const Ic=self.Gs;Ic.OM.TD=class{constructor(t,s=1e3){this.QT=t,this.bD=s,this.xD=[],this.QT.vD(this)}Vh(){this._l(),this.QT.CD(this),this.QT=null}_l(){for(const t of this.xD)t.Vh();Ic.wr(this.xD)}GD(){const t=new Ic.OM.fD(this.QT);return this.xD.push(t),this.xD.length>this.bD&&this.xD.shift().Vh(),t}ID(t){for(const s of this.xD){if(s.AT()>=t)return;if(s.SD())return;s.uD()}}_D(t,s){if(s<=t)return NaN;let i=0;for(const e of this.xD){if(e.AT()>=s)break;if(!(e.AT()<t)){if(!e.lD())return NaN;i+=e.cD()}}return i}ED(t){for(let s=0,i=this.xD.length;s<i;++s){const i=this.xD[s];if(!(i.AT()<t))return void(s>0&&this.xD.splice(0,s));i.Vh()}}}}{let _c=function(){Uc=-1;for(const t of Bc)t.AD()&&(t.resolve(),Bc.delete(t));Bc.size>0&&(Uc=self.requestAnimationFrame(_c))};0;const Ec=self.Gs,Ac=(self.assert,self.rs),Dc=(Ac.ys,Ac.Ms),Nc=Ac.fs,Lc={powerPreference:"default",DD:!0,alpha:!1,depth:!1,ND:!1,LD:2,failIfMajorPerformanceCaveat:!1},Oc=new Set(["default","low-power","high-performance"]),Rc=new Ec.Iu(0,0,1,0,1,1,0,1),kc=Nc.create(),Pc=Nc.create(),Fc=new Ec.Iu,jc=new Ec.Rect;let zc=null;Ec.Rs&&(self.OD=function(){zc?zc.loseContext():console.warn("WEBGL_lose_context not supported")},self.RD=function(){zc?zc.restoreContext():console.warn("WEBGL_lose_context not supported")});const Bc=new Set;let Uc=-1;Ec.OM.kD=class extends Ec.OM.XM{constructor(t,s){if(super(s),s=Object.assign({},Lc,s),!Oc.has(s.powerPreference))throw new Error("invalid power preference");const i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat};let e=null,h=0;if(s.LD>=2&&(e=t.getContext("webgl2",i),h=2),e||(e=t.getContext("webgl",i),h=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.DC=e,this.PD=e.getContextAttributes(),this.FD=e.getParameter(e.VERSION),this.iD=h,this.jD=Dc.create(),this.zD=!1,this.BD=Nc.create(),this.UD=!!s.depth,this.WD=!(!s.depth||!s.ND),this.QD=this.UD,this.YD=!1,this.VD=null,this.JD=!0,this.HD=0,this.qD=0,this.OC=null,this.RC=null,this.XD=null,this.kC=null,this.ZD=new Float32Array(8e3*this.IT()),this.KD=new Uint16Array(12e3),this.$D=new Float32Array(16e3),this.tN=new Float32Array(32e3),this.sN=0,this.iN=0,this.eN=0,this.hN=0,this.nN=null,this.rN=null,this.oN=[],this.aN=0,this.uN=0,this.lN=null,this.cN=0,this.RI=Ec.Yh(Ec.OM.EI,this),this.fN=Ec.Yh(Ec.xo,1,1,1,1),this.dN=null,this.w_=null,this.pN=0,this.mN=0,this.gN=new Ec.Rect,this.yN=Ec.Yh(Ec.Rect,0,0,-1,-1),this.MN=0,this.wN=-1,this.SN=0,this.TN=0,this.bN=0,this.xN="(unavailable)",this.vN="(unavailable)",this.CN=[],this.GN=!1,this.IN=null,this._N=null,this.EN=null,this.AN=null,this.DN=null,this.NN=null,this.LN=null,this.ON=0,this.RN=!!s.DD,this.eD=null,this.kN=new Set,this.PN=[],this.Rw(this.KD)}kT(){return!0}async Fw(){super.Fw();const t=this.DC,s=this.IT();this.fN._o(1,1,1,1),this.dN=null,this.w_=null,this.sN=0,this.eN=0,this.hN=8e3*s-4*s,Ec.wr(this.oN),this.aN=0,this.uN=0,this.nN=null,this.lN=null,this.gN.set(0,0,1,1),this.cN=0;const i=this.RI;i.IG=null,i.rC=null,i.oC=null,Dc.set(i.NI,1,1,1,1),i.clearColor._o(0,0,0,0),i.LI.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.pN=t.ONE,this.mN=t.ONE_MINUS_SRC_ALPHA,this.FN(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.UD?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.QD=this.UD,this.YD=!1,this.kC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.kC),t.bufferData(t.ARRAY_BUFFER,this.tN.byteLength,t.DYNAMIC_DRAW),this.OC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.OC),t.bufferData(t.ARRAY_BUFFER,this.ZD.byteLength,t.DYNAMIC_DRAW),this.RC=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.RC),t.bufferData(t.ARRAY_BUFFER,this.$D.byteLength,t.DYNAMIC_DRAW),this.XD=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.XD),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.KD,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.wN=t.getParameter(t.MAX_TEXTURE_SIZE);const e=t.getParameter(t.ALIASED_POINT_SIZE_RANGE);this.SN=e[0],this.TN=e[1];const h=t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT),n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);this.bN=h&&n?Math.min(h.precision,n.precision):0,this.TN>2048&&(this.TN=2048),this.CN=t.getSupportedExtensions();const r=t.getExtension("WEBGL_debug_renderer_info");if(r&&(this.xN=t.getParameter(r.UNMASKED_VENDOR_WEBGL),this.vN=t.getParameter(r.UNMASKED_RENDERER_WEBGL)),this.IN=t.getExtension("KHR_parallel_shader_compile"),Ec.Rs&&(zc=t.getExtension("WEBGL_lose_context")),this.RN&&(1===this.gv()?this.eD=t.getExtension("EXT_disjoint_timer_query"):this.eD=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this._N=t.getExtension("EXT_texture_filter_anisotropic"),this._N?this.ON=t.getParameter(this._N.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.ON=0,this.gv()<2&&this.UD&&this.WD&&(this.AN=t.getExtension("WEBGL_depth_texture"),!this.AN))throw new Error("no depth texture support");this.gv()<2&&(this.DN=t.getExtension("EXT_frag_depth"),this.NN=t.getExtension("OES_standard_derivatives"),this.LN=t.getExtension("EXT_shader_texture_lod"));const o=Ec.OM.CC,a=o.ZG(!1);let u=o.$G(),l=a,c=o.aI(),f=o.rI(),d=o.iI(),p=o.ZG(!0),m=!1;this.UD&&(this.gv()<2?this.DN&&(u=o.tI(),c=o.uI(),d=o.eI(),m=!0):(l=o.KG(),u=o.sI(this.jN()),c=o.lI(this.jN()),f=o.oI(),d=o.hI(this.jN()),p=o.KG(!0)));const g=o.nI(this.gv(),m,this.NN&&this.LN,this.jN()),y=this.gv()>=2?o.KG():a,M=[[u,l,"<default>"],[u,l,"<default-device-transform>"],[c,f,"<point>"],[o.cI(),a,"<fill>"],[o.fI(),a,"<lineargradient>"],[o.dI(),a,"<penumbra>"],[o.mI(),a,"<hardellipse>"],[o.gI(),a,"<hardellipseoutline>"],[o.yI(),a,"<smoothellipse>"],[o.MI(),a,"<smoothellipseoutline>"],[o.pI(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(M.map((t=>this.zN({src:t[0],IC:t[1],name:t[2]}))));this.ow=w[0],this.rN=w[1],this.aw=w[2],this.cw=w[3],this.fw=w[4],this.dw=w[5],this.pw=w[6],this.mw=w[7],this.gw=w[8],this.yw=w[9],this.Mw=w[10],this.uw=w[11],this.lw=w[12],this.aS()}async zN(t){const s=await Ec.OM.CC.AC(this,t);return this.hS(s),s}BN(){this.nN=null}xA(t,s,i){if(this._y===t&&this.Ey===s&&!i)return;this.ET();const e=this.DC,h=this.RI;this._y=t,this.Ey=s,this.UN(0,0,t,s),this.$w(this.BD,t/s),this.WN(this.BD),this.rN&&(e.useProgram(this.rN.EG()),this.rN.bG(this.$M),this.nN=this.rN,this.RI.IG=this.rN),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.dN=null,this.w_=null,this.UD&&this.JD&&this.QN(this._y,this.Ey),this.lN&&this.lN.eC(this._y,this.Ey),e.bindFramebuffer(e.FRAMEBUFFER,null),this.lN=null,h.rC=null,h.oC=null}QN(t,s){const i=this.DC;this.VD&&this.HD===t&&this.qD===s||(this.WD?(this.VD&&i.deleteTexture(this.VD),this.VD=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.VD),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.gv()>=2?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this.AN&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this.AN.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.VD&&i.deleteRenderbuffer(this.VD),this.VD=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.VD),i.renderbufferStorage(i.RENDERBUFFER,this.iD>=2?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.HD=t,this.qD=s)}YN(t,s){this.UD&&(this.JD=!1,this.QN(t,s))}VN(){this.UD&&(this.JD=!0,this.QN(this._y,this.Ey))}UN(t,s,i,e){const h=this.jD;h[0]===t&&h[1]===s&&h[2]===i&&h[3]===e||(this.JN().t_(t,s,i,e),Dc.set(h,t,s,i,e),this.uN=0)}Hw(t){super.Hw(t),this.$w(this.BD,this._y/this.Ey)}Qw(t){super.Qw(t),this.$w(this.BD,this._y/this.Ey)}Vw(t){super.Vw(t),this.$w(this.BD,this._y/this.Ey)}WN(t){Nc.L(this.$M,t)||(this.JN().i_(t),Nc.m(this.$M,t),this.uN=0,this.zD=!0)}HN(){let t,s,i;const e=this.lN;null===e?(t=this.BD,s=this.Bg(),i=this.Zg()):(t=e.cC(),s=e.Bg(),i=e.Zg()),this.WN(t),this.UN(0,0,s,i)}qN(t){Nc.L(this.tw,t)||(this.JN().h_(t),Nc.m(this.tw,t),this.uN=0,this.zD=!0)}XN(){this.zD=!1}ZN(){return this.zD}nC(){return this.RI}JN(){const t=this.oN;return this.aN===t.length&&t.push(new Ec.OM.OI(this.RI)),t[this.aN++]}ET(){0!==this.aN&&(this.KA()||(this.KN(),this.$N(),this.aN=0,this.sN=0,this.iN=0,this.eN=0,this.uN=0))}KN(){const t=this.DC;this.eN>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.kC),t.bufferSubData(t.ARRAY_BUFFER,0,this.tN.subarray(0,this.eN))),this.sN>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.OC),t.bufferSubData(t.ARRAY_BUFFER,0,this.ZD.subarray(0,this.sN)),t.bindBuffer(t.ARRAY_BUFFER,this.RC),t.bufferSubData(t.ARRAY_BUFFER,0,this.$D.subarray(0,this.iN)))}$N(){const t=this.oN;for(let s=0,i=this.aN;s<i;++s)t[s].K_()}tL(){return this.fN.zo()}sL(t,s,i,e){const h=this.fN;h.Vo(t,s,i,e)||(h._o(t,s,i,e),this.JN().HI(h),this.uN=0,this.Sw=null)}iL(t){const s=this.fN;s.zo()!==t&&(s.Ro(t),this.JN().HI(s),this.uN=0,this.Sw=null)}Lb(t){const s=this.fN;s.equals(t)||(s.set(t),this.JN().HI(s),this.uN=0,this.Sw=null)}eL(){this.sL(1,1,1,1)}hL(){return this.fN}nL(t){t!==this.dN&&(this.JN().VI(t),this.dN=t,this.uN=0)}Sv(){this.dN=null}Nb(t){const s=this.RS(t);this.rL(s[0],s[1])}oL(t){const s=this.FS(t);this.rL(s.LS,s.OS)}rL(t,s){t===this.pN&&s===this.mN||(this.JN().KI(t,s),this.pN=t,this.mN=s,this.uN=0,this.Sw=null)}aL(){return this.pN===this.DC.ONE&&this.mN===this.DC.ONE_MINUS_SRC_ALPHA}uL(){this.rL(this.DC.ONE,this.DC.ONE_MINUS_SRC_ALPHA)}lL(){this.rL(this.DC.SRC_ALPHA,this.DC.ONE_MINUS_SRC_ALPHA)}cL(){this.rL(this.DC.ONE,this.DC.ZERO)}Rect(t){this.fL(t.Za(),t.Ka(),t.$a(),t.tu())}fL(t,s,i,e){this.GT(t,s,i,s,i,e,t,e)}dL(){let t=this.sN;t>=this.hN&&(this.ET(),t=0),1===this.uN?this.oN[this.aN-1].FI+=6:(this.JN().QI(t,6),this.uN=1)}pL(t){t.Ju(this.ZD,this.sN,this.xw+this.Cw),this.sN+=12}Iu(t){this.dL(),this.pL(t),Rc.Uo(this.$D,this.iN),this.iN+=8}GT(t,s,i,e,h,n,r,o){this.dL();const a=this.ZD;let u=this.sN;const l=this.xw+this.Cw;a[u++]=t,a[u++]=s,a[u++]=l,a[u++]=i,a[u++]=e,a[u++]=l,a[u++]=h,a[u++]=n,a[u++]=l,a[u++]=r,a[u++]=o,a[u++]=l,this.sN=u,Rc.Uo(this.$D,this.iN),this.iN+=8}$S(t,s){this.dL(),this.pL(t),s.eu(this.$D,this.iN),this.iN+=8}mL(t,s){this.dL(),this.pL(t),s.Uo(this.$D,this.iN),this.iN+=8}gL(t,s,i,e,h,n,r,o,a,u,l,c,f){this.dL();const d=this.ZD;let p=this.sN;const m=this.xw+this.Cw;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+n,d[p++]=r,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.sN=p,f.eu(this.$D,this.iN),this.iN+=8}HS(t,s,i,e,h,n,r,o,a,u,l,c,f){this.dL();const d=this.ZD;let p=this.sN;const m=this.xw+this.Cw;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+n,d[p++]=r,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.sN=p,f.Uo(this.$D,this.iN),this.iN+=8}yL(t,s,i){const e=this.ZD,h=this.$D;if(i.length%3!=0)throw new Error("invalid index buffer length");for(let n=0,r=i.length;n<r;){const r=i[n++],o=i[n++],a=i[n++],u=3*r,l=3*o,c=3*a,f=2*r,d=2*o,p=2*a;this.dL();let m=this.sN,g=this.iN;e[m++]=t[u+0],e[m++]=t[u+1],e[m++]=t[u+2],e[m++]=t[l+0],e[m++]=t[l+1],e[m++]=t[l+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],e[m++]=t[c+0],e[m++]=t[c+1],e[m++]=t[c+2],h[g++]=s[f+0],h[g++]=s[f+1],h[g++]=s[d+0],h[g++]=s[d+1],h[g++]=s[p+0],h[g++]=s[p+1],h[g++]=s[p+0],h[g++]=s[p+1],this.sN=m,this.iN=g}}ML(t,s){this.US(0),Nc.m(kc,this.$M),Nc.m(Pc,this.tw),this.HN();const[i,e]=this.wL(this.lN),h=this.eS(0,0,this.zw(e),0,0,0,e);if(this.qN(h),"crop"===t&&this.lN&&s){const t=this._y/2,i=this.Ey/2,e=s.Bg(),h=s.Zg(),n=this.lN.Bg(),r=this.lN.Zg(),o=Math.min(n,e),a=Math.min(r,h),u=Math.max(h-r,0),l=Math.max(r-h,0);jc.set(-t,i-l,-t+o,i-a-l),Fc.Hu(jc),jc.set(0,u,o,a+u),jc.Mt(e,h),this.$S(Fc,jc)}else{const t=i/2,s=e/2;this.fL(-t,s,t,-s)}this.WN(kc),this.qN(Pc)}SL(t){this.gN.equals(t)||(this.gN.m(t),this.JN().c_(t),this.uN=0)}TL(){}bL(t,s,i,e){this.eN>=7996&&this.ET();let h=this.eN;const n=this.xw+this.Cw;2===this.uN&&this.cN===n?this.oN[this.aN-1].FI++:(this.JN().d_(h,n),this.uN=2,this.cN=n);const r=this.tN;r[h++]=t,r[h++]=s,r[h++]=i,r[h++]=e,this.eN=h}uS(t){this.nN!==t&&(this.JN().m_(t),this.nN=t,this.uN=0,this.Sw=null)}xL(){return this.nN}vL(){this.uS(this.rN)}CL(t){this.JN().XI(t),this.uN=0}GL(t,s,i=1){this.JN().N_(t,s,i),this.uN=0}IL(t,s,i,e,h,n,r){if(this.nN!==this.uw)throw new Error("must set tilemap fill mode first");this.JN().O_(t,s,i,e,h,n,r),this.uN=0}_L(t,s,i,e,h,n,r){if(this.nN!==this.lw)throw new Error("must set tile randomization mode first");this.JN().k_(t,s,i,e,h,n,r),this.uN=0}EL(t,s,i,e,h,n,r,o,a,u,l){const c=this.nN;if(l%=10800,!c.fG||c.FG(s,i,e,h,n,r,o,a,u,l))return;const f=this.JN();f.y_(),c.BG(s,i,e,h,n,r,o,a,u,l);const d=f.zI;d[0]=n,d[1]=r,s.Uo(d,2),d[6]=a,d[7]=u,i.Uo(d,12);const p=f.BI;h.Uo(p,0);const m=p[1];p[1]=p[3],p[3]=m,e.Uo(f.UI,0),f.kI=l,f.FI=o,c.qC.dG()?f.jI=t?t.lC():null:f.jI=null,this.uN=0}AL(t){const s=this.nN;if(0===t.length||s.LG(t))return;const i=this.JN();i.S_(),s.kG(t),Ec.vr(i.WI,t),this.uN=0}DL(t,s,i,e){this.JN().u_(t,s,i,e),this.uN=0}_l(t){this.JN().a_(t),this.uN=0}NL(){}_T(){super._T(),this.DC.flush()}LL(){this.UD&&this.lN&&this.lN.mC()&&(this.JN().F_(this.QD),this.uN=0)}OL(t){t=!!t,this.QD!==t&&this.UD&&(this.QD=t,this.JN().z_(t),this.uN=0)}RL(){return this.QD}sC(){return this.VD}iC(){return this.WD}kL(t){if(t=!!t,this.WD&&this.YD!==t){if(t&&this.RL())throw new Error("depth still enabled");this.YD=t,this.JN().U_(t),this.uN=0}}PL(t,s,i,e,h=0){t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),this.yN.Xa(t,s,i,e)||(this.yN.Wa(t,s,i,e),s=(h||this.wL(this.FL())[1])-s-e,this.JN().X_(!0,t,s,i,e),this.uN=0)}jL(){-1!==this.yN.$a()&&(this.yN.set(0,0,-1,-1),this.JN().X_(!1,0,0,0,0),this.uN=0)}zL(){for(const t of this.kN)t.ID(this.Nw)}KA(){return!this.DC||this.DC.isContextLost()||this.GN}Ob(){super.jw(),Ec.OM.ev.Ob(),Ec.OM.jv.Ob(),Ec.OM.UT.Ob();for(const t of this.kN)t._l();this.CN=[],this.eD=null,this.IN=null,this.EN=null,this._N=null,this.AN=null,this.DN=null,this.NN=null,this.LN=null,this.ON=0,this.xN="(unavailable)",this.vN="(unavailable)",this.nN=null,this.rN=null,this.VD=null;for(const t of this.ww.values())t.Ob()}async Rb(){this.GN=!0,await this.Fw(),this.GN=!1;for(const t of this.ww.values())t.Rb(this);this.xA(this._y,this.Ey,!0)}BL(t,s){if(this.KA())throw new Error("context lost");this.ET();const i=Ec.Yh(Ec.OM.ev,this);return i.dv(t,s),i}async UL(t,s){if(this.KA())throw new Error("context lost");if(s=Object.assign({},s),Ec.Ai.ImageBitmapOptions){let i=await createImageBitmap(t,{premultiplyAlpha:"premultiply"});const e=s.Jx&&"clamp-to-edge"!==s.Jx||s.Hx&&"clamp-to-edge"!==s.Hx,h=Ec.Sn(i.width)&&Ec.Sn(i.height);return this.yv()||h||!e?s.tv=!1:Ec.Ai.Oi?(i=await createImageBitmap(t,{premultiplyAlpha:"premultiply",resizeWidth:Ec.Tn(i.width),resizeHeight:Ec.Tn(i.height)}),s.tv=!1):i=await createImageBitmap(t,{premultiplyAlpha:"none"}),await Ec.ff((()=>this.BL(i,s)))}if(t instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const s=await Ec.uo(t);t=s}return await Ec.ff((()=>this.BL(t,s)))}tC(t,s,i){this.ET();const e=Ec.Yh(Ec.OM.ev,this);return e.Tv(t,s,i),e}$A(t,s,i){this.ET(),s.Gv(t,i)}hC(t){t&&(t.Dv(),t.Nv()>0||(this.ET(),t===this.dN&&(this.DC.bindTexture(this.DC.TEXTURE_2D,null),this.dN=null),t===this.w_&&(this.DC.activeTexture(this.DC.TEXTURE1),this.DC.bindTexture(this.DC.TEXTURE_2D,null),this.DC.activeTexture(this.DC.TEXTURE0),this.w_=null),t.Iv()))}WL(t){let s=this._y,i=this.Ey,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height&&(i=Math.floor(t.height),e=!1)),s<=0||i<=0)throw new Error("invalid size");this.ET();const h=Ec.Yh(Ec.OM.jv,this);return h.Kv(s,i,Object.assign({Pv:e},t)),this.lN=null,this.RI.rC=null,this.RI.oC=null,h}QL(t,s=!0){t!==this.lN&&(t&&t.gC()&&t.eC(this._y,this.Ey),this.JN().r_(t),this.lN=t,this.uN=0,s&&this.HN())}FL(){return this.lN}wL(t){return t?[t.Bg(),t.Zg()]:[this._y,this.Ey]}YL(t,s="stretch"){this.iD<2||this.lN&&this.lN.yC()>0?(this.cL(),this.eL(),this.VL(t,s)):(this.JN().v_(t,this.lN,s),this.uN=0)}VL(t,s="stretch"){const i=t.lC();if(!i)throw new Error("not a texture-backed render target");this.nL(i),this.ML(s,i)}JL(t){this.iD<2||(this.JN().b_(t.aC()),this.uN=0)}HL(t){this.QL(null),this.ET();const s=t.lC();s===this.dN&&(this.DC.bindTexture(this.DC.TEXTURE_2D,null),this.dN=null),s===this.w_&&(this.DC.activeTexture(this.DC.TEXTURE1),this.DC.bindTexture(this.DC.TEXTURE_2D,null),this.DC.activeTexture(this.DC.TEXTURE0),this.w_=null),t.Iv()}async bC(t,s,i){this.ET();const e=this.lN;let h,n,r;t?(h=t.Bg(),n=t.Zg(),r=t.aC()):(h=this.Bg(),n=this.Zg(),r=null);let o=0,a=0,u=h,l=n;if(i){o=Ec.Zh(Math.floor(i.Za()),0,h-1),a=Ec.Zh(Math.floor(i.Ka()),0,n-1);let t=i.width();t=0===t?h-o:Ec.Zh(Math.floor(t),0,h-o);let s=i.height();s=0===s?n-a:Ec.Zh(Math.floor(s),0,n-a),u=t,l=s,a=n-(a+l)}const c=this.DC;c.bindFramebuffer(c.FRAMEBUFFER,r);const f=()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.lN=null,this.RI.rC=null,this.RI.oC=null,this.QL(e)};let d;if(!s&&this.gv()>=2){c.bindFramebuffer(c.READ_FRAMEBUFFER,r);const t=c.createBuffer(),s=u*l*4,i=c.PIXEL_PACK_BUFFER;c.bindBuffer(i,t),c.bufferData(i,s,c.STREAM_READ),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(i,null),f();const e=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);await this.EC((()=>c.getSyncParameter(e,c.SYNC_STATUS)===c.SIGNALED)),c.deleteSync(e),d=new ImageData(u,l),c.bindBuffer(i,t),c.getBufferSubData(i,0,new Uint8Array(d.data.buffer),0,s),c.bindBuffer(i,null),c.deleteBuffer(t)}else d=new ImageData(u,l),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}qL(){this.OL(!0),this.JN().Q_(),this.uN=0,this.MN=1}XL(){this.OL(!1),this.JN().V_(),this.uN=0,this.MN=2}ZL(){return 2===this.MN}KL(){this.OL(!0),this.JN().H_(),this.uN=0,this.MN=0}$L(t){this.tO()&&(this.JN().G_(t),this.uN=0)}sO(t){this.tO()&&(this.JN().E_(t),this.uN=0)}EC(t){const s=new Promise((s=>Bc.add({resolve:s,AD:t})));return-1===Uc&&(Uc=self.requestAnimationFrame(_c)),s}PT(){return this._y*this.Ey*(this.PD.alpha?4:3)}FT(){let t=0;for(const s of Ec.OM.jv.xC())s.lC()||(t+=s.Ov());return t}jT(){let t=0;for(const s of Ec.OM.ev.Rv())t+=s.Ov();return t}iO(){return this.FD}gv(){return this.iD}eO(){return"webgl"+this.gv()}yv(){return this.gv()>=2}pv(){return this.wN}hO(){return this.SN}nO(){return this.TN}rO(){return 0!==this.bN}oO(){return this.bN}aO(){return this.xN}uO(){return this.vN}lO(){if(this.gv()>=2)return"webgl2";{const t=[];return this.DN&&t.push("EXT_frag_depth"),this.NN&&t.push("OES_standard_derivatives"),this.LN&&t.push("EXT_shader_texture_lod"),t.length>0?"webgl1:"+t.join(","):"webgl1:none"}}cO(){return this.CN}tO(){return!!this.eD}hD(){return this.eD}_C(){return this.IN}jN(){return!!this.EN}vv(){return this._N}Cv(){return this.ON}vD(t){this.kN.add(t)}CD(t){this.kN.delete(t)}yD(){return this.PN}mv(){return this.DC}FN(t){this.NS([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}fO(){return this.BT()}}}{const Wc=self.Gs,Qc={dO:null,pO:null,mO:null,getTime:null,gO:null};Wc.OM.yO=class{constructor(t){t=Object.assign({},Qc,t),this.MO=t.dO,this.wO=t.pO,this.SO=t.mO,this.TO=t.getTime,this.bO=t.gO,this.xO=null,this.vO=new Set}CO(t){this.vO.add(t)}GO(t){this.vO.delete(t)}Ob(){this.xO=null;for(const t of this.vO)t.Ob()}IO(t){return this.MO?this.MO(t):[t.Bg(),t.Zg()]}FL(t){return this.wO(t)}_O(t,s){this.SO(t,s)}EO(){return this.TO()}Np(t){this.bO(t)}AO(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.xO||this.xO.Bg()===s&&this.xO.Zg()===i||(t.hC(this.xO),this.xO=null),null===this.xO&&(this.xO=t.BL(null,{width:s,height:i,qx:"nearest",Kx:!1})),this.xO}}}{const Yc=self.Gs,Vc=(self.assert,self.rs.fs),Jc=Yc.Yh(Yc.Rect),Hc=Yc.Yh(Yc.Rect),qc=Yc.Yh(Yc.Rect),Xc=Yc.Yh(Yc.Rect),Zc=Vc.create(),Kc=Vc.create(),$c={DO:null,NO:null,LO:null,OO:!1},tf={RO:null,kO:!1,PO:!1,FO:!1,jO:!1,zO:!1,BO:!1};Yc.OM.UO=class{constructor(t,s){s=Object.assign({},$c,s),this.Bp=t,this.WO=s.DO,this.QO=s.NO,this.YO=s.LO,this.VO=null,this.JO=[],this.HO=[],this.qO=[],this.XO=!1,this._b=0,this.ZO=!1,this.KO=!1,this.$O=!1,this.tR=!1,this.sR=!1,this.iR=!1,this.zD=!1,this.eR=!1,this.hR=!1,this.nR=!1,this.rR=!1,this.oR=!1,this.aR=0,this.uR=[null,null,null],this.lR=!!s.OO,this.cR=0,this.fR=0,this.dR=0,this.pR=0,this.mR=null,this.gR=null,this.yR=Yc.Yh(Yc.Rect),this.MR=Yc.Yh(Yc.Rect),this.wR=Yc.Yh(Yc.Rect),this.SR=Yc.Yh(Yc.Rect),this.TR=Yc.Yh(Yc.Rect),this.bR=1,this.xR=1,this.vR=0,this.CR=0,this.GR=null,this.IR=null,this._R=0,this.ER=0,this.AR=0,this.DR=0,this.NR=!1,this.Hv=Vc.create(),this.LR=Vc.create(),this.Bp.CO(this)}Vh(){this.Bp.GO(this),Yc.wr(this.qO),Yc.wr(this.JO),Yc.wr(this.HO),this.mR=null,this.gR=null,this.WO=null,this.QO=null,this.YO=null}Ob(){this.XO=!0,Yc.wr(this.qO),Yc.wr(this.JO),Yc.wr(this.HO)}OR(){return this.XO}RR(t,s){if(s=Object.assign({},tf,s),Yc.wr(this.qO),this.cR=0,this.fR=0,this.ZO=!1,this.KO=!1,this.$O=!1,this.tR=!1,this.sR=!1,this.iR=!1,this.aR=0,this.oR=!!s.jO,this.rR=!!s.BO,this.XO=!1,Yc.vr(this.JO,t),0===t.length)return;if(s.RO){if(s.RO.length!==t.length)throw new Error("incorrect indexMap length");Yc.vr(this.HO,s.RO)}else{Yc.wr(this.HO);for(let s=0,i=t.length;s<i;++s)this.HO.push(s)}for(const s of t)this.cR+=s.fb(),this.fR+=s.pb(),s.wb()&&(this.ZO=!0),s.Tb()&&(this.KO=!0),s.Sb()&&(this.$O=!0),s.mb()&&(this.tR=!0),s.Cb()&&(this.sR=!0);this.iR=this.kR(t[0].lb());const i=this.PR(t[0],s),e=this.FR(t.at(-1),s);if(1===t.length&&!i&&!e)return void(this.nR=!0);this.nR=!1;let h=0;i&&(this.aR=1,this.qO.push(Yc.Yh(Yc.OM.UO.zR.jR,this,-1,1)),h=1);for(let s=0,n=t.length;s<n;++s)if(0!==s||i){let t=1===h?2:1;s!==n-1||e||(t=0),this.aR=Math.max(this.aR,t),this.qO.push(Yc.Yh(Yc.OM.UO.zR.BR,this,h,t,s)),h=t}else this.aR=1,this.qO.push(Yc.Yh(Yc.OM.UO.zR.UR,this,-1,1,s)),h=1;e&&this.qO.push(Yc.Yh(Yc.OM.UO.zR.WR,this,h,0))}PR(t,s){return!!(s.kO||t.gb()||s.FO&&!t.Mb()||t.Tb()&&!this.rR||0!==this.cR||0!==this.fR)||(t.lb().kT()?t.Sb()&&(s.zO||s.jO)||t.bb()&&s.jO:t.Sb()&&!this.iR&&s.zO)}FR(t,s){return!!s.PO||(t.lb().kT()?t.Sb()||t.mb():(t.Sb()||t.mb())&&this.QR())}kR(t){return t.tS()&&this.$O&&!this.tR}YR(t,s,i){t.tS()&&null===s&&(s=t.VR()),this.GR=s,this.mR=i.JR||null,this.gR=i.HR||null,this._b=i.qR||0,this.bR=i.devicePixelRatio||1,this.xR=i.XR||1,this.vR=i.ZR||0,this.CR="number"==typeof i.time?i.time:this.Bp.EO(),this.zD=!1,t.XN(),this.ZO&&this.KR();let e=!1;if(this.$R()&&(this.tk(t,i),e=!0,this.IR=this.Bp.AO(t,this.dR,this.pR),Jc.m(this.MR),Jc.wu(),t.tS()&&t.sk(this.GR),t.ik(this.GR.lC(),this.IR,Jc.Za(),Jc.Ka(),Jc.width(),Jc.height())),this.nR)this.ek(t,i);else if(e||this.tk(t,i),0!==this.wR.width()||0!==this.wR.height()){t.uL(),t.eL(),t.zS(0),t.US(0),this.VO=i.hk||null,this._R=i.nk||0,this.ER=i.rk||0,this.AR=i.ak||0,this.DR=i.uk||0,this.NR=!!i.lk,this.ck(t),this.uR[0]=s,this.uR[1]=this.aR>=1?this.fk():null,this.uR[2]=2===this.aR?this.fk():null;for(const s of this.qO){const i=this.dk(s.pk()),e=this.dk(s.mk());t.tS()?s.gk(t,i,e):s.yk(t,i,e)}t.nL(null),this.uR[1]&&this.Mk(this.uR[1]),this.uR[2]&&this.Mk(this.uR[2]),this.uR.fill(null),this.wk(t),this.GR=null,this.IR=null,this.mR=null,this.gR=null,this.VO=null}}tk(t,s){const[i,e]=this.Bp.IO(t);this.Sk(t,i,e),this.Tk(s)}Sk(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.dR===s&&this.pR===i||this.bk(t,s,i,0,0,this.Hv,this.LR),this.dR=s,this.pR=i}bk(t,s,i,e,h,n,r){const o=s/2+e,a=i/2+h;t.$w(n,s/i);const u=t.eS(o,a,t.zw(i),o,a,0,i);Vc.m(r,u)}Tk(t){this.yR.m(t.xk),t.vk?this.MR.m(t.vk):this.MR.set(0,0,this.dR,this.pR),this.wR.m(this.MR),this.wR.Mt(this.dR,this.pR);const s=this.xR*this.bR;this.MR.lu(this.cR*s,this.fR*s),this.TR.m(this.MR),this.TR.Mt(this.dR,this.pR),this.MR.Su(0,0,this.dR,this.pR),this.SR.m(this.MR),this.SR.Mt(this.dR,this.pR)}ck(t){if(this.eR=t.RL(),this.hR=t.ZL(),this.rR)t.OL(!1),this.KO&&t.kL(!0);else{if(Jc.m(this.MR),t.kT()){const t=this.xR*this.bR;Jc.lu(Math.max(this.cR,1)*t,Math.max(this.fR,1)*t),Jc.wu(),Jc.Zh(0,0,this.dR,this.pR)}else Jc.wu();t.PL(Jc.Za(),Jc.Ka(),Jc.width(),Jc.height(),this.pR)}}Ck(t){t.eL(),this.rR||(this.hR&&t.KL(),t.OL(!1),this.KO&&t.kL(!0)),t.tS()&&t.Gk(!0)}wk(t){t.kL(!1),this.hR&&t.XL(),t.OL(this.eR),this.rR||t.jL(),t.tS()&&t.Gk(!1),this.zD=t.ZN()}Ik(){this.TR.Zh(0,0,1,1)}dk(t){return t<0?null:this.uR[t]}fk(){return this.Bp.FL(this)}_k(){return this.GR}Mk(t){this.Bp._O(t,this)}Ek(t){return this.JO[t]}Ak(t){this.VO?this.VO(this,t,(()=>this.WO(t,this))):this.WO(t,this),this.nR||this.Ck(t)}Dk(t){if(this.rR)return!0;if(0!==this._R||0!==this.ER||0!==this.AR||0!==this.DR)return!1;const[s,i]=t.wL(t.FL());return s===this.dR&&i===this.pR}Nk(t,s){let i=this.Hv,e=this.LR;if(s&&!this.Dk(t)){let s,h;i=Zc,e=Kc,0!==this.AR&&0!==this.DR?[s,h]=[this.AR,this.DR]:[s,h]=t.wL(t.FL()),this.bk(t,s,h,this._R,this.ER,i,e),this.rR||t.jL()}t.WN(i),t.qN(e)}KR(){this.Bp.Np(this)}Lk(t,s){return this.YO(this.HO[t],s)}Ok(t,s){let i=this.TR,e=this.SR,h=this.wR;t.kT()&&(Hc.m(i),Hc.du(1),i=Hc,qc.m(e),qc.du(1),e=qc,Xc.m(h),Xc.du(1),h=Xc),this.Rk(t,s,e,h,i,1/this.dR,1/this.pR)}kk(t,s){let i=this.SR,e=this.wR,h=1/this.dR,n=1/this.pR;if(this.QO){let{Pk:t,Fk:s,jk:r}=this.QO(this.mR);t||(Jc.set(0,0,0,0),t=Jc),s||(s=this.dR),r||(r=this.pR),i=t,e=t,h=1/s,n=1/r}else t.kT()&&(qc.m(i),qc.du(1),i=qc,Xc.m(e),Xc.du(1),e=Xc);let r=this.TR;t.kT()&&(r=Hc,r.m(this.TR),r.du(1)),this.Rk(t,s,i,e,r,h,n),t.tS()&&this.sR&&t.zk(this.oR)}Bk(t){return this.$O?t.tS()?this.$R()?this.IR:this.GR.lC():this.GR:null}Rk(t,s,i,e,h,n,r){t.EL(this.Bk(t),h,i,e,this.yR,n,r,this.bR,this.xR,this.vR,this.CR),t.AL(this.Lk(s,t))}ek(t,s){const i=this.JO[0],e=t.RL(),h=i.Tb();h&&(t.OL(!1),t.kL(!0),this.TR.set(0,0,1,1),this.wR.set(0,0,1,1)),t.uS(i),t.Nb(this._b),t.QL(this.GR);let n=0,r=1;if(this.wR.set(0,0,1,1),i.bb()&&this.QO){const{Pk:t,Fk:s,jk:i}=this.QO(this.mR);t&&this.wR.m(t),n=Number.isFinite(s)?1/s:0,r=Number.isFinite(i)?1/i:0}else{const[s,i]=this.Bp.IO(t);n=1/s,r=1/i}s.xk?this.yR.m(s.xk):this.yR.set(0,0,0,0),t.EL(this.Bk(t),this.TR,this.wR,this.wR,this.yR,n,r,this.bR,this.xR,this.vR,this.CR),t.AL(this.Lk(0,t)),t.tS()&&this.sR&&t.zk(this.oR),t.zS(0),this.Ak(t),h&&(t.kL(!1),t.OL(e))}$R(){return this.iR}QR(){return!this.iR}Uk(){return this.$O}Wk(){return!!this.nR&&!this.$R()}Qk(){return this.rR}Yk(){return this.mR}Vk(){return this.gR}Jk(){return this._b}Hk(){return this.NR}ZN(){return this.zD}qk(){return this.MR}Xk(){return this.SR}Zk(){return this.lR}async Kk(t,s,i){}}}self.Gs.OM.UO.zR=class{constructor(t,s,i,e=-1){this.$k=t,this.tP=s,this.sP=i,this.IM=e}iP(){return this.$k}pk(){return this.tP}mk(){return this.sP}eP(){return this.IM}EG(){return this.iP().Ek(this.eP())}yk(t,s,i){}gk(t,s,i){}};{const sf=self.Gs;sf.OM.UO.zR.jR=class extends sf.OM.UO.zR{constructor(t,s,i,e){super(t,s,i,e)}yk(t,s,i){const e=this.iP();t.uL(),t.aS(),t.QL(i,e.Hk()),t.DL(0,0,0,0),e.Ak(t),e.Ik()}gk(t,s,i){const e=this.iP();t.uL(),t.aS(),t.QL(i,!1),t.DL(0,0,0,0),e.Ak(t),e.Ik()}}}{const ef=self.Gs,hf=ef.Yh(ef.Rect),nf=ef.Yh(ef.Iu);ef.OM.UO.zR.WR=class extends ef.OM.UO.zR{constructor(t,s,i,e){super(t,s,i,e)}yk(t,s,i){const e=this.iP();t.aS(),t.QL(i),e.Nk(t,!0),t.Nb(e.Jk()),t.nL(s.lC()),nf.Hu(e.qk()),hf.m(e.Xk()),hf.du(1),t.$S(nf,hf),e.Zk()&&t.JL(s)}gk(t,s,i){const e=this.iP();t.aS(),t.QL(i,!1),e.Dk(t)?nf.Hu(e.Xk()):(t.Gk(!1),e.Nk(t,!0),nf.Hu(e.qk())),t.hP(null),t.Nb(e.Jk()),t.nL(s.lC()),e.Qk()?t.ML():t.$S(nf,e.Xk())}}}{const rf=self.Gs;rf.OM.UO.zR.UR=class extends rf.OM.UO.zR{constructor(t,s,i,e){super(t,s,i,e)}yk(t,s,i){const e=this.iP();t.QL(i,e.Hk()),t.DL(0,0,0,0),t.cL(),t.uS(this.EG()),e.kk(t,this.eP()),e.Ak(t),e.Ik()}gk(t,s,i){const e=this.iP();t.QL(i,!1),t.DL(0,0,0,0),t.cL(),t.uS(this.EG()),e.kk(t,this.eP()),e.Ak(t),e.Ik()}}}{const of=self.Gs,af=of.Yh(of.Rect),uf=of.Yh(of.Iu);of.OM.UO.zR.BR=class extends of.OM.UO.zR{constructor(t,s,i,e){super(t,s,i,e)}yk(t,s,i){const e=this.iP();t.QL(i);const h=0===this.mk();h?t.Nb(e.Jk()):(t.DL(0,0,0,0),t.cL()),t.uS(this.EG()),e.Ok(t,this.eP()),t.nL(s.lC()),e.Nk(t,h),uf.Hu(e.qk()),af.m(e.Xk()),af.du(1),t.$S(uf,af),e.Zk()&&t.JL(s)}gk(t,s,i){const e=this.iP();t.QL(i,!1),0===this.mk()?(t.Nb(e.Jk()),t.hP(null),e.Dk(t)?uf.Hu(e.Xk()):(t.Gk(!1),e.Nk(t,!0),uf.Hu(e.qk()))):(t.DL(0,0,0,0),t.cL(),uf.Hu(e.Xk())),t.uS(this.EG()),e.Ok(t,this.eP()),t.nL(s.lC()),e.Qk()?t.ML():t.$S(uf,e.Xk())}}}{let lf=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]};0;const cf=self.Gs,ff=self.Ps;let df=null;const pf=new Set,mf=[],gf=[];let yf=!1,Mf=!1,wf=!1;const Sf=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.nP=class{constructor(t){df=t,Object.defineProperties(this,{rP:{value:df.aP().oP(),writable:!1},uP:{value:df.cP().lP(),writable:!1},fP:{value:{},writable:!1},dP:{value:{},writable:!1},pP:{value:df.mP(),writable:!1},gP:{value:df.yP(),writable:!1},MP:{value:new Date(df.wP()),writable:!1},storage:{value:new self.SP(df),writable:!1},TP:{value:df.bP(),writable:!1},xP:{value:df.vP(),writable:!1},CP:{value:df.GP(),writable:!1},qx:{value:df.IP(),writable:!1},_P:{value:df.EP(),writable:!1},AP:{value:new self.DP(t),writable:!1},NP:{value:new self.LP(t),writable:!1}}),df.OP().addEventListener("keydown",(t=>{pf.has(t.key)?t.stopPropagation():pf.add(t.key)})),df.OP().addEventListener("keyup",(t=>pf.delete(t.key))),df.yf().addEventListener("window-blur",(()=>pf.clear())),df.bP()&&(self.alert=t=>(yf||(yf=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}RP(t){Object.defineProperties(this.fP,t)}kP(t){Object.defineProperties(this.dP,t)}addEventListener(t,s){df.OP().addEventListener(t,s)}removeEventListener(t,s){df.OP().removeEventListener(t,s)}PP(t,...s){ff.ue(t);const i=df.FP(),e=i.jP(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Cl())return e.zP();if(s.length<e.BP())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.BP()} expected)`);const h=e.UP();let n=h.WP();const r=i.QP();if(r){n=n.slice(0);const t=new Set(n);for(const s of r.WP())t.has(s)||(n.push(s),t.add(s));for(const s of i.YP())t.has(s)||(n.push(s),t.add(s))}return h.VP(n,e.JP(),e.HP(),e.zP(),...s)}qP(t){const s=df.ZP().XP();if(!s)throw new Error("not in a function which returns a value");switch(s.KP()){case 1:"number"==typeof t&&s.$P(t);break;case 2:"string"==typeof t&&s.$P(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.$P(t)}}signal(t){ff.ue(t),df.FP().tF(t)}sF(t){return ff.ue(t),df.FP().iF(t)}eF(){return[df.vP(),df.GP()]}get hF(){return df.nF()}get rF(){return df.oF()}get aF(){return df.uF()}get lF(){return df.cF()}get fF(){return df.dF()}get pF(){return df.mF()}set pF(t){ff.ne(t),df.gF(t)}get yF(){return Mf||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Mf=!0),df.MF()}get framesPerSecond(){return df.MF()}get wF(){return df.SF()}get TF(){return df.bF()}get xF(){return df.vF()}get CF(){return df.GF()}set CF(t){if(!Sf.has(t))throw new Error("invalid framerate mode");df.IF(t)}get _F(){return df.EF()}set _F(t){ff.ne(t),df.AF(t)}get DF(){return df.NF()}set DF(t){df.LF(t)}get OF(){return df.aP().RF()}get kF(){return df.aP().PF()}random(){return df.FF()}get layout(){const t=df.jF();if(!t)throw new Error("no layout is running - make sure a layout is loaded before accessing");return t.zF()}BF(t){const s=df.UF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.WF(t),!i)throw new Error("invalid layout");return i.zF()}QF(){return df.UF().YF().map((t=>t.zF()))}VF(t){const s=df.UF();let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.WF(t),!i)throw new Error("invalid layout");s.JF()||s.HF(i)}get keyboard(){const t=df.qF().keyboard;if(!t)throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return t}get XF(){const t=df.qF().XF;if(!t)throw new Error("runtime.mouse used but Mouse object missing - add it to your project first");return t}get ZF(){const t=df.qF().ZF;if(!t)throw new Error("runtime.touch used but Touch object missing - add it to your project first");return t}get KF(){const t=df.qF().KF;if(!t)throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");return t}$F(t,s){ff.ue(t),ff.ue(s),df.tj(t,s)}sj(t){ff.ne(t);const s=df.ij(t);return s?s.ej():null}hj(t,s){ff.De(s);const i=df.nj();for(const s of t){const t=df.rj(s),i=t.oj();mf.push([i.aj().eP(),i.uj()]),gf.push(t)}if(0===mf.length)return;mf.sort(lf),gf.sort(((t,i)=>s(t.ej(),i.ej())));let e=!1;for(let t=0,s=mf.length;t<s;++t){const s=gf[t],h=i.lj(mf[t][0]),n=mf[t][1],r=h.cj();r[n]!==s&&(r[n]=s,s.oj().fj(h,!0),h.dj(s),e=!0)}e&&df.pj(),cf.wr(mf),cf.wr(gf)}async mj(t,s){wf||(console.warn("IRuntime.createWorker() is deprecated. All modern browsers now support nested workers so this method is no longer needed."),wf=!0);const i=new MessageChannel,e=i.port1,h=i.port2;return await df.gj("runtime","script-create-worker",{url:t,opts:s,port2:h},[h]),e}alert(t){return df.gj("runtime","alert",{message:t+(df.bP()?" [via Web Worker]":"")})}yj(t){return ff.ne(t),df.Mj(t)}wj(t){df.Sj(t)}async Tj(t,s,i){ff.le(t),ff.se(s),ff.je(i,DOMRect),i||(i=new DOMRect(0,0,0,0));const e=df.bj();if(!e)return;df.pj();const h=await e.xj(t||"image/png",s,i.x,i.y,i.width,i.height);return await df.vj(cf._j.Ij.Gj.Cj,null),h}}}{const Tf=self.Gs;self.Ps;let bf=null;self.Ej=class{constructor(t){bf=t,Object.defineProperties(this,{Aj:{value:!0,writable:!1}})}Dj(t){const s=self.Lj.Nj(t);if(!s)throw new Error("invalid IImageInfo");s.Oj(bf.Rj())}kj(t){return bf.so(t)}Pj(t){return bf.io(t)}Fj(t){return bf.eo(t)}jj(t){return bf.ho(t)}zj(t){return bf.Bj(t)}Uj(t){return"flat"===bf.Wj()&&Tf.Zr(t)&&(t=t.toLowerCase()),bf.Qj(t)}get Yj(){return bf.Vj()}async Jj(t,s){throw new Error("decodeWebMOpus() is no longer supported - use Web Audio's decodeAudioData() directly as all supported platforms now support WebM Opus")}Hj(...t){return bf.qj(...t)}Xj(t){return bf.Zj(t)}Kj(t){return bf.$j(t)}}}{const xf=self.Gs,vf=self.Ps;let Cf=null;self.tz=class{constructor(t){Cf=t,Object.defineProperties(this,{runtime:{value:Cf.Rj(),writable:!1}})}sz(t,s){const i=Cf.Rj(),e=i.rj(t),h=i.rj(s);return Cf.iz(e,h)}ez(t,s){const i=Cf.Rj(),e=i.rj(t);for(const t of s){const s=i.rj(t);if(Cf.iz(e,s))return t}return null}hz(t){const s=Cf.Rj().rj(t),i=Cf.nz(s);return i?i.ej():null}rz(t,s){if(vf.ne(t),vf.ne(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");Cf.oz(t,s)}az(){return Cf.uz()}lz(t,s){const i=Cf.Rj();let e;e=Array.isArray(t)?t.map((t=>i.cz(t))):[i.cz(t)];const h=xf.Rect.qa(s),n=[];return Cf.fz(null,e,h,n),n.map((t=>t.ej()))}}}{const Gf=self.Gs;self.Ps;let If=null;const _f=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),Ef=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),Af=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.DP=class{constructor(t){If=t,Object.defineProperties(this,{dz:{value:Gf.Zs.ri,writable:!1},os:{value:_f.get(Gf.Zs.Ks)||"unknown",writable:!1},pz:{value:Gf.Zs.$s,writable:!1},browser:{value:Ef.get(Gf.Zs.ti)||"unknown",writable:!1},mz:{value:Gf.Zs.si,writable:!1},gz:{value:Af.get(Gf.Zs.ei)||"unknown",writable:!1}})}get yz(){let t=If.Mz();return If.wz()?t="nwjs":If.Sz()?t="windows-webview2":"cordova"===t?t="Android"===Gf.Zs.Ks?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get AI(){return If.bj().Tz()}get bz(){return If.bj().xz()}get vz(){return If.bj().Cz()}get Gz(){return If.bj().Iz()}get _z(){return If.bj().Ez()}get Az(){return If.bj().Dz()}get Nz(){return If.bj().Lz()}get Oz(){return If.bj().Rz()}get devicePixelRatio(){return If.kz()}}}{self.Gs;const Df=self.Ps;self.SP=class{constructor(t){this.Pz=t.Fz()}getItem(t){return Df.ue(t),this.Pz.getItem(t)}setItem(t,s){return Df.ue(t),this.Pz.setItem(t,s)}removeItem(t){return Df.ue(t),this.Pz.removeItem(t)}clear(){return this.Pz.clear()}keys(){return this.Pz.keys()}}}{const Nf=self.Gs,Lf=(self.Ps,Nf.Is());self.jz=class{#t;constructor(){const t=Nf.Bz.zz(Lf);this.#t=t,Object.defineProperties(this,{runtime:{value:t.Rj().Uz(),writable:!1},id:{value:t.Wz(),writable:!1},Qz:{value:t.Yz(),writable:!1},Vz:{value:t.Jz(),writable:!1},qz:{value:t.Xz(),writable:!1},Zz:{value:t.Kz(),writable:!1},$z:{value:t.tB(),writable:!1},sB:{value:t.iB(),writable:!1},eB:{value:t.hB(),writable:!1},nB:{value:t.rB(),writable:!1}}),t.Rj().oB(this,t)}static aB(t){if(!t)return null;const s=Nf.Bz.uB(t);return s?s.lB():null}cB(){return this.#t.dB().fB()}pB(){return this.#t.mB().ej()}}}{const Of=self.Gs,Rf=self.Ps,kf=Of.Is();self.gB=class{#t;constructor(){const t=Of.Bz.zz(kf);this.#t=t,Object.defineProperties(this,{name:{value:t._c(),writable:!1},runtime:{value:t.Rj().Uz(),writable:!1},yB:{value:t.MB().lB(),writable:!1}}),t.Rj().oB(this,t)}addEventListener(t,s){Rf.ue(t),Rf.De(s),this.#t.OP().addEventListener(t,s)}removeEventListener(t,s){Rf.ue(t),Rf.De(s),this.#t.OP().removeEventListener(t,s)}wB(){return[...this.SB()]}TB(){return Of.jr(this.SB())}bB(){return[...this.xB()]}vB(){return Of.jr(this.xB())}CB(t){const s=this.#t,i=s.Rj().GB(t),e=s.IB(i);return e?e.ej():null}*SB(){for(const t of this.#t._B())yield t.ej()}*xB(){for(const t of this.#t.AB().EB())yield t.ej()}DB(t){Rf.De(t);const s=this.#t;if(s.NB()>0)throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.LB(t)}Ci(t,s,i,e,h){if(Rf.te(s),Rf.te(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const n=this.#t,r=n.Rj(),o=r.jF().aj(t);if(!o)throw new Error("invalid layer");const a=r.OB(n,o,s,i,e,h);e&&o.RB(a);const u=r.FP();return u.kB(!0),a.PB(),u.kB(!1),u.jB()||r.UF().zB()||r.BB(),a.ej()}}}{self.Gs;const Pf=self.Ps,Ff=new WeakMap,jf=["above","below","top-sublayer","bottom-sublayer"];self.UB=class{constructor(t){Ff.set(this,t);const s=[],i=t.WB(),e=i.QB().length;for(let t=0;t<e;++t)s.push(new self.YB(i,t));Object.defineProperties(this,{name:{value:t._c(),writable:!1},index:{value:t.eP(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){Pf.ue(t),Pf.De(s),Ff.get(this).OP().addEventListener(t,s)}removeEventListener(t,s){Pf.ue(t),Pf.De(s),Ff.get(this).OP().removeEventListener(t,s)}get width(){return Ff.get(this).Bg()}set width(t){Pf.ne(t),Ff.get(this).Hg(t)}get height(){return Ff.get(this).Zg()}set height(t){Pf.ne(t),Ff.get(this).Ug(t)}VB(t,s){Pf.ne(t),Pf.ne(s);const i=Ff.get(this);i.Hg(t),i.Ug(s)}getSize(){const t=Ff.get(this);return[t.Bg(),t.Zg()]}set scale(t){Pf.ne(t),Ff.get(this).JB(t)}get scale(){return Ff.get(this).HB()}set angle(t){Pf.ne(t),Ff.get(this).qB(t)}get angle(){return Ff.get(this).XB()}set scrollX(t){Pf.te(t),Ff.get(this).ZB(t)}get scrollX(){return Ff.get(this).KB()}set scrollY(t){Pf.te(t),Ff.get(this).$B(t)}get scrollY(){return Ff.get(this).tU()}scrollTo(t,s){Pf.te(t),Pf.te(s);const i=Ff.get(this);i.ZB(t),i.$B(s)}sU(){const t=Ff.get(this);return[t.KB(),t.tU()]}iU(t){const s=Ff.get(this);let i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return i=s.aj(t),i?i.eU():null}hU(){return Ff.get(this).nU().map((t=>t.eU()))}*rU(){for(const t of Ff.get(this).rU())yield t.eU()}oU(t,s,i){const e=Ff.get(this),h=self.aU;Pf.ue(t),Pf.je(s,h);const n=s?e.Rj().uU(s):null,r=jf.indexOf(i);if(r<0)throw new Error("invalid location");e.lU(t,n,r)}cU(t,s,i){const e=Ff.get(this),h=e.Rj(),n=self.aU;Pf.Fe(t,n);const r=h.uU(t);if(!r)throw new Error("invalid layer");Pf.je(s,n);const o=s?h.uU(s):null,a=jf.indexOf(i);if(a<0)throw new Error("invalid location");e.fU(r,o,a)}dU(t){const s=Ff.get(this),i=self.aU;Pf.Fe(t,i);const e=s.Rj().uU(t);if(!e)throw new Error("invalid layer");const h=e.Rj();s.pU(e),h.FP().jB()||h.BB()}mU(){const t=Ff.get(this),s=t.Rj();t.gU(),s.FP().jB()||s.BB()}yU(t,s){Pf.ne(t),Pf.ne(s),Ff.get(this).MU(t,s)}wU(){return Ff.get(this).SU()}set W(t){Pf.ue(t);const s=Ff.get(this);if("perspective"===t)s.TU();else{if("orthographic"!==t)throw new Error("invalid projection");s.bU()}}get W(){return Ff.get(this).xU()?"orthographic":"perspective"}}}{const zf=self.Gs,Bf=self.Ps,Uf=new WeakMap,Wf=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Qf=new Map([...Wf.entries()].map((t=>[t[1],t[0]]))),Yf=new Set(["2d","3d"]),Vf=zf.Yh(zf.xo);self.aU=class{constructor(t){Uf.set(this,t);const s=[],i=t.WB(),e=i.QB().length;for(let t=0;t<e;++t)s.push(new self.YB(i,t));Object.defineProperties(this,{name:{value:t._c(),writable:!1},layout:{value:t.WF().zF(),writable:!1},effects:{value:s,writable:!1}}),t.Rj().oB(this,t)}get vU(){const t=Uf.get(this).CU();return t?t.eU():null}*GU(){for(const t of Uf.get(this).GU())yield t.eU()}*IU(){for(const t of Uf.get(this)._U())yield t.eU()}*EU(){for(const t of Uf.get(this)._U())for(const s of t.AU())yield s.eU()}get index(){return Uf.get(this).eP()}get isVisible(){return Uf.get(this).DU()}set isVisible(t){Uf.get(this).NU(t)}get LU(){return Uf.get(this).OU()}get RU(){return Uf.get(this).kU()}set RU(t){Uf.get(this).PU(t)}get FU(){return Uf.get(this).jU()}set FU(t){Uf.get(this).zU(!!t)}get BU(){return Uf.get(this).UU()}get opacity(){return Uf.get(this).tL()}set opacity(t){t=zf.Zh(+t,0,1),isNaN(t)||Uf.get(this).iL(t)}set scale(t){Bf.ne(t),Uf.get(this).WU(t)}get scale(){return Uf.get(this).QU()}set YU(t){Bf.ne(t),Uf.get(this).VU(t)}get YU(){return Uf.get(this).JU()}set angle(t){Bf.ne(t),Uf.get(this).qB(t)}get angle(){return Uf.get(this).HU()}set qU(t){Bf.ne(t),Uf.get(this).XU(t)}get qU(){return Uf.get(this).ZU()}set KU(t){Bf.ne(t),Uf.get(this).$U(t)}get KU(){return Uf.get(this).tW()}set sW(t){Bf.ne(t),Uf.get(this).qb(t)}get sW(){return Uf.get(this).Hb()}set renderingMode(t){if(!Yf.has(t))throw TypeError("invalid rendering mode");Uf.get(this).iW("3d"===t)}get renderingMode(){return Uf.get(this).eW()?"3d":"2d"}set hW(t){Uf.get(this).nW(t)}get hW(){return Uf.get(this).rW()}set oW(t){Uf.get(this).aW(t)}get oW(){return Uf.get(this).uW()}set qR(t){Bf.ue(t);const s=Wf.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");Uf.get(this).Nb(s)}get qR(){return Qf.get(Uf.get(this).lW())}set backgroundColor(t){if(Bf.ve(t),t.length<3)throw new Error("expected 3 elements");Vf.Eo(t[0],t[1],t[2]);const s=Uf.get(this),i=s.cW();i.Qo(Vf)||(i.ko(Vf),s.Rj().pj())}get backgroundColor(){const t=Uf.get(this).cW();return[t.Po(),t.Fo(),t.jo()]}set scrollX(t){Bf.te(t);const s=Uf.get(this);s.fW(!0),s.ZB(t)}get scrollX(){return Uf.get(this).KB()}set scrollY(t){Bf.te(t);const s=Uf.get(this);s.fW(!0),s.$B(t)}get scrollY(){return Uf.get(this).tU()}scrollTo(t,s){Bf.te(t),Bf.te(s);const i=Uf.get(this);i.fW(!0),i.ZB(t),i.$B(s)}sU(){const t=Uf.get(this);return[t.KB(),t.tU()]}dW(){Uf.get(this).fW(!1)}getViewport(){return Uf.get(this).pW().su()}mW(t,s,i=0){Bf.te(t),Bf.te(s),Bf.te(i);const e=Uf.get(this),h=e.Rj();return e.gW(t-h.Cz(),s-h.Iz(),i)}yW(t,s,i=0){Bf.te(t),Bf.te(s),Bf.te(i);const e=Uf.get(this),h=e.Rj(),[n,r]=e.MW(t,s,i);return[n+h.Cz(),r+h.Iz()]}wW(t,s,i=0){return Bf.te(t),Bf.te(s),Bf.te(i),Uf.get(this).SW(t,s,i)}TW(t,s,i=0){return Bf.te(t),Bf.te(s),Bf.te(i),Uf.get(this).bW(t,s,i)}get xW(){return Uf.get(this).vW()}}}{let Jf=function(t){let s=Xf.get(t);return s||(s=Hf.Yh(Hf.Event.yf),Xf.set(t,s),s)};0;const Hf=self.Gs,qf=self.Ps,Xf=new WeakMap,Zf=Hf.Is();self.GW=class{#t;constructor(){const t=Hf.Bz.zz(Zf);this.#t=t;const s={runtime:{value:t.Rj().Uz(),writable:!1},objectType:{value:t.IW().fB(),writable:!1},yB:{value:t.MB().lB(),writable:!1}};t._W(s),t.EW(s),Object.defineProperties(this,s),t.Rj().oB(this,t)}static AW(){return Hf.Bz.DW()}NW(){const t=Xf.get(this);t&&(t.Vh(),Xf.delete(this))}addEventListener(t,s,i){qf.ue(t),qf.De(s),Jf(this).addEventListener(t,s,i)}removeEventListener(t,s,i){qf.ue(t),qf.De(s),Jf(this).removeEventListener(t,s,i)}dispatchEvent(t){Jf(this).dispatchEvent(t)}destroy(){const t=this.#t,s=t.Rj();s.LW(t),s.FP().jB()||s.UF().zB()||s.FP().OW()||s.BB()}RW(){const t=this.#t.kW();return t?t.map((t=>t.ej())):[]}*PW(){const t=this.#t;if(t.FW())for(const s of t.jW())yield s.ej()}get uid(){return this.#t.zW()}get BW(){return this.#t.UW()}get WW(){return this.#t.QW()}set pF(t){qf.ne(t),this.#t.gF(t)}get pF(){return this.#t.YW()}VW(){this.#t.JW()}get rF(){const t=this.#t;return t.Rj().oF(t)}HW(...t){qf.ve(t);const s=new Set(t),i=this.#t.qW();return s.isSubsetOf(i)}XW(t){qf.Fe(t,Set),this.#t.ZW(t)}KW(){return new Set(this.#t.qW())}signal(t){qf.ue(t);const s=this.#t;s.Rj().FP().$W(s,t)}sF(t){qf.ue(t);const s=this.#t;return s.Rj().FP().tQ(s,t)}}}{const Kf=self.Gs,$f=self.Ps,td=Kf.Is();self.sQ=class extends self.GW{#t;#s=!1;#i=null;#e=!1;#h=null;#n;#r;constructor(t){super(),this.#t=Kf.Bz.zz(td),this.#s=!1,this.#i=null,this.#e=!1,this.#h=null,this.#n=t?.iQ,this.#r=t?.eQ}NW(){this.hQ(!1),this.nQ(!1),super.NW()}rQ(){return Kf.Bz.oQ()}aQ(t){const s=this.#t;s.Rj().uQ(t,s)}lQ(t){const s=this.#t;return s.Rj().vj(t,s)}cQ(t,s){if($f.ue(t),$f.De(s),!this.#n)throw new Error("no DOM component id set");this.#t.Rj().fQ(this.#n,t,s)}dQ(t){$f.ve(t);for(const[s,i]of t)this.cQ(s,i)}pQ(t,s){if($f.ue(t),!this.#n)throw new Error("no DOM component id set");this.#t.Rj().zc(this.#n,t,s)}mQ(t,s){if($f.ue(t),!this.#n)throw new Error("no DOM component id set");return this.#t.Rj().gj(this.#n,t,s)}gQ(t,s){if(!this.#t.Rj().bP())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#n,handler:t,data:s,responseId:null});this.pQ(t,s)}hQ(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=this.#t.Rj();if(t){if(!this.#i)if(this.#t.Rj().yQ()){const t=globalThis.MQ,s=this.yB;this.#i=()=>{const i=performance.now();this.wQ(),t.SQ(s,performance.now()-i)}}else this.#i=()=>this.wQ();s.yf().addEventListener("tick",this.#i)}else s.yf().removeEventListener("tick",this.#i)}TQ(){return this.#s}wQ(){}nQ(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=this.#t.Rj();if(t){if(!this.#h)if(this.#t.Rj().yQ()){const t=globalThis.MQ,s=this.yB;this.#h=()=>{const i=performance.now();this.bQ(),t.SQ(s,performance.now()-i)}}else this.#h=()=>this.bQ();s.yf().addEventListener("tick2",this.#h)}else s.yf().removeEventListener("tick2",this.#h)}xQ(){return this.#e}bQ(){}vQ(){return[]}CQ(){return null}GQ(t){}IQ(){if(!this.#r)throw new Error("no wrapper component id set");return this.#t.Rj()._Q(this.#r)}EQ(t,s){if($f.ue(t),$f.De(s),!this.#r)throw new Error("no wrapper component id set");this.#t.Rj().AQ(this.#r,t,s)}DQ(t){$f.ve(t);for(const[s,i]of t)this.EQ(s,i)}NQ(t,s){if(!this.#r)throw new Error("no wrapper component id set");this.runtime.NP.LQ(this.#r,t,s)}OQ(t,s){if(!this.#r)throw new Error("no wrapper component id set");return this.runtime.NP.RQ(this.#r,t,s)}}}{let sd=function(t){return class s extends t{#t;#s;constructor(t){super(t);const s=id.Bz.zz(ad),i=s.oj();this.#t=s,this.#s=i,od.set(this,s);const e=[],h=i.kQ();if(h){const t=i.IW().WB().QB().length;for(let s=0;s<t;++s)e.push(new self.YB(h,s))}const n={effects:{value:e,writable:!1}};Object.defineProperties(this,n)}get layout(){return this.#s.WF().zF()}get PQ(){return this.#s.aj().eU()}get x(){return this.#s.Wb()}set x(t){t=+t;const s=this.#s;isNaN(t)||s.Wb()===t||(s.Qb(t),s.FQ())}get y(){return this.#s.Vb()}set y(t){t=+t;const s=this.#s;isNaN(t)||s.Vb()===t||(s.Jb(t),s.FQ())}setPosition(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.Wb()===t&&i.Vb()===s||(i.jQ(t,s),i.FQ())}zQ(){const t=this.#s;return[t.Wb(),t.Vb()]}offsetPosition(t,s){if(t=+t,s=+s,isNaN(t)||isNaN(s)||0===t&&0===s)return;const i=this.#s;i.BQ(t,s),i.FQ()}set UQ(t){t=+t;const s=this.#s;isNaN(t)||s.WQ()===t||(s.QQ(t),s.FQ())}get UQ(){return this.#s.WQ()}set YQ(t){t=+t;const s=this.#s;isNaN(t)||s.VQ()===t||(s.JQ(t),s.FQ())}get YQ(){return this.#s.VQ()}HQ(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.WQ()===t&&i.VQ()===s||(i.QQ(t),i.JQ(s),i.FQ())}qQ(){const t=this.#s;return[t.WQ(),t.VQ()]}get sW(){return this.#s.Hb()}set sW(t){t=+t;const s=this.#t,i=this.#s;isNaN(t)||i.Hb()===t||(i.qb(t),s.Rj().pj())}get XQ(){return this.#s.ZQ()}get width(){return this.#s.Bg()}set width(t){t=+t;const s=this.#s;isNaN(t)||s.Bg()===t||(s.Hg(t),s.FQ())}get height(){return this.#s.Zg()}set height(t){t=+t;const s=this.#s;isNaN(t)||s.Zg()===t||(s.Ug(t),s.FQ())}VB(t,s){t=+t,s=+s;const i=this.#s;isNaN(t)||isNaN(s)||i.Bg()===t&&i.Zg()===s||(i.xA(t,s),i.FQ())}getSize(){const t=this.#s;return[t.Bg(),t.Zg()]}get angle(){return this.#s.XB()}set angle(t){t=id.Kh(+t);const s=this.#s;isNaN(t)||s.XB()===t||(s.qB(t),s.FQ())}get KQ(){return id.tn(this.angle)}set KQ(t){this.angle=id.$h(t)}Zu(t){return t?(this.#s.$Q(nd,rd,!1),nd.su()):this.#s.tY().su()}sY(t){return t?(this.#s.$Q(nd,rd,!1),rd.Yu()):this.#s.iY().Yu()}eY(){return this.#s.hY()}get isVisible(){return this.#s.OU()}set isVisible(t){t=!!t;const s=this.#t,i=this.#s;i.OU()!==t&&(i.NU(t),s.Rj().pj())}get opacity(){return this.#s.tL()}set opacity(t){t=id.Zh(+t,0,1);const s=this.#t,i=this.#s;isNaN(t)||i.tL()===t||(i.iL(t),s.Rj().pj())}set nY(t){if(ed.ve(t),t.length<3)throw new Error("expected 3 elements");cd.Eo(t[0],t[1],t[2]);const s=this.#t,i=this.#s;i.rY().Qo(cd)||(i.oY(cd),s.Rj().pj())}get nY(){const t=this.#s.rY();return[t.Po(),t.Fo(),t.jo()]}set qR(t){ed.ue(t);const s=ud.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=this.#t;this.#s.Nb(s),i.Rj().pj()}get qR(){return ld.get(this.#s.lW())}aY(){this.#s.uY()}lY(){this.#s.cY()}fY(t){ed.Fe(t,hd);const s=this.#t,i=s.Rj().uU(t);if(!i)throw new Error("invalid layer");s.oj().dY(i)}pY(t,i){ed.Fe(t,s),this.#s.mY(od.get(t),i)}get zIndex(){return this.#s.uj()}get gY(){return this.#s.yY()}set gY(t){this.#s.MY(!!t)}xu(t,s){return ed.te(t),ed.te(s),this.#s.wY(+t,+s)}sz(t){ed.Fe(t,s);const i=this.#t,e=od.get(t);return i.Rj().cP().iz(i,e)}hz(){const t=this.#t,s=t.Rj().cP().nz(t);return s?s.ej():null}getParent(){const t=this.#t.SY();return t?t.ej():null}TY(){const t=this.#t.bY();return t?t.ej():null}*xY(){for(const t of this.#t.xY())yield t.ej()}vY(){return this.#t.CY()}GY(t){const s=this.#t.IY(t);return s?s.ej():null}*children(){for(const t of this.#t.children())yield t.ej()}*_Y(){for(const t of this.#t._Y())yield t.ej()}EY(t,i){ed.Fe(t,s),ed.ye(i),i||(i={});const e=this.#t,h=od.get(t);e.AY(h,i)}removeChild(t){ed.Fe(t,s);const i=this.#t,e=od.get(t);i.DY(e)}NY(){const t=this.#t;t.LY()&&t.SY().DY(t)}OY(){const t=this.#s;return{RY:t.kY(),PY:t.FY(),jY:t.zY(),BY:t.UY(),WY:t.QY(),YY:t.VY(),JY:t.HY(),qY:t.XY(),ZY:t.KY()}}$Y(t,s){ed.ne(t),ed.ne(s),this.#s.tV(t,s)}sV(){const t=this.#s;t.iV(),t.FQ()}eV(t,s,i){ed.ne(t),ed.ne(s),ed.ge(i);const e=this.#s;e.hV(t,s,i)&&e.FQ()}nV(t,s){let i=NaN,e=NaN,h=NaN,n=NaN,r=NaN;const o=this.#s;if(o.rV()){const a=o.oV().kx(t,s);null!==a&&(i=a.Wb(),e=a.Vb(),h=a.Hb(),n=a.Xb(),r=a.Kb())}return{x:i,y:e,sW:h,aV:n,uV:r}}lV(){const t=this.#s;if(!t.rV())return[0,0];const s=t.oV();return[s.Cx(),s.Gx()]}}};0;const id=self.Gs,ed=self.Ps,hd=(self.GW,self.aU),nd=id.Yh(id.Rect),rd=id.Yh(id.Iu),od=new WeakMap,ad=id.Is(),ud=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),ld=new Map([...ud.entries()].map((t=>[t[1],t[0]]))),cd=id.Yh(id.xo);self.cV=sd(self.GW),self.fV=sd(self.sQ)}{self.Gs;const fd=self.Ps;self.dV=class extends self.cV{#t;constructor(){super(),this.#t=self.GW.AW()}pV(){return this.#t.gV().mV()}focus(){this.#t.gV().yV()}blur(){this.#t.gV().MV()}wV(t,s){fd.ue(t),this.#t.gV().SV(t,s)}}}{let dd=function(t){let s=gd.get(t);return s||(s=pd.Yh(pd.Event.yf),gd.set(t,s),s)};0;const pd=self.Gs,md=self.Ps,gd=new WeakMap,yd=pd.Is();self.TV=class{#t;constructor(){const t=pd.Bz.zz(yd);this.#t=t;const s={runtime:{value:t.Rj().Uz(),writable:!1},behavior:{value:t.xV().bV(),writable:!1},vV:{value:t.GV().CV(),writable:!1}};Object.defineProperties(this,s),t.Rj().oB(this,t)}static AW(){return pd.Bz.DW()}get IV(){return this.#t._V().ej()}NW(){const t=gd.get(this);t&&(t.Vh(),gd.delete(this))}addEventListener(t,s,i){md.ue(t),md.De(s),dd(this).addEventListener(t,s,i)}removeEventListener(t,s,i){md.ue(t),md.De(s),dd(this).removeEventListener(t,s,i)}dispatchEvent(t){dd(this).dispatchEvent(t)}}}{const Md=self.Gs,wd=(self.Ps,Md.Is());self.EV=class{constructor(){const t=Md.Bz.zz(wd),s={runtime:{value:t.Rj().Uz(),writable:!1},behavior:{value:t.xV().bV(),writable:!1},name:{value:t._c(),writable:!1}};Object.defineProperties(this,s)}}}{const Sd=self.Gs,Td=(self.Ps,Sd.Is());self.AV=class{#s;constructor(){const t=Sd.Bz.zz(Td);this.#s=t;const s={runtime:{value:t.Rj().Uz(),writable:!1},id:{value:t.Wz(),writable:!1}};Object.defineProperties(this,s),t.Rj().oB(this,t)}wB(){return this.#s.EB().map((t=>t.ej()))}static aB(t){if(!t)return null;const s=Sd.Bz.DV(t);return s?s.bV():null}}}{const bd=self.Gs,xd=self.Ps,vd=bd.Yh(bd.xo);self.YB=class{#t;constructor(t,s){this.#t=t;const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){return this.#t.QB()[this.index]._c()}get isActive(){return this.#t.NV(this.index)}set isActive(t){t=!!t;const s=this.#t;s.NV(this.index)!==t&&(s.LV(this.index,t),s.OV(),s.Rj().pj())}setParameter(t,s){xd.ne(t),t=Math.floor(+t);const i=this.#t,e=i.RV(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof bd.xo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");vd.Eo(s[0],s[1],s[2]),s=vd}else if("number"!=typeof s)throw new TypeError("expected number");i.kV(this.index,t,s)&&i.NV(this.index)&&i.Rj().pj()}getParameter(t){xd.ne(t),t=Math.floor(+t);const s=this.#t.RV(this.index,t);if(null===s)throw new RangeError("invalid index");return s instanceof bd.xo?[s.Po(),s.Fo(),s.jo()]:s}}}self.Gs,self.Ps;self.PV=class{#t;constructor(t){this.#t=t,Object.defineProperties(this,{name:{value:t._c(),writable:!1}})}get speed(){return this.#t.FV()}get jV(){return this.#t.zV()}get BV(){return this.#t.UV()}get WV(){return this.#t.QV()}get YV(){return this.#t.VV()}get frameCount(){return this.#t.JV()}HV(){return this.#t.qV().map((t=>t.XV()))}*frames(){for(const t of this.#t.qV())yield t.XV()}};self.Gs,self.Ps;self.Lj=class{#s;constructor(t){this.#s=t}static Nj(t){return t.#s}get width(){return this.#s.Bg()}get height(){return this.#s.Zg()}getSize(){const t=this.#s;return[t.Bg(),t.Zg()]}ZV(t){return t.KV(this)}$V(){return this.#s.tD().su()}};{self.Gs;const Cd=self.Ps;self.tJ=class extends self.Lj{#s;constructor(t){super(t.sJ()),this.#s=t,Object.defineProperties(this,{duration:{value:t.iJ(),writable:!1},UQ:{value:t.WQ(),writable:!1},YQ:{value:t.VQ(),writable:!1}})}qQ(){const t=this.#s;return[t.WQ(),t.VQ()]}eJ(){return this.#s.hJ()}nJ(t){return this.rJ(t)[0]}oJ(t){return this.rJ(t)[1]}rJ(t){const s=this.#s;let i=null;if("number"==typeof t)i=s.aJ(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.uJ(t)}return i?[i.Wb(),i.Vb()]:this.qQ()}lJ(){const t=this.#s.cJ();return t?t.dl():0}fJ(t){return this.dJ(t)[0]}pJ(t){return this.dJ(t)[1]}dJ(t){Cd.ne(t),t=Math.floor(t);const s=this.#s.cJ();if(!s||t<0||t>=s.dl())return[0,0];const i=s.fl();return[i[2*t],i[2*t+1]]}get tag(){return this.#s.mJ()}}}{let Gd=function(t){const s=_d.get(t);if(s.gJ())throw new Error("timeline/tween was released and is no longer valid");return s};0;self.Gs;const Id=self.Ps,_d=new WeakMap;self.yJ=class{constructor(t){_d.set(this,t),t.Rj().oB(this,t)}pause(){Gd(this).MJ()}resume(){Gd(this).wJ()}stop(){Gd(this).Ff()}HW(t){return Gd(this).SJ(t)}set time(t){Id.ne(t),Gd(this).TJ(t)}get time(){return Gd(this).EO()}set totalTime(t){Id.ne(t),Gd(this).bJ(t)}get totalTime(){return Gd(this).xJ()}set jV(t){Gd(this).vJ(!!t)}get jV(){return Gd(this).CJ()}set YV(t){Gd(this).GJ(!!t)}get YV(){return Gd(this).IJ()}set playbackRate(t){Id.ne(t),Gd(this)._J(t)}get playbackRate(){return Gd(this).EJ()}get progress(){const t=Gd(this);return t.EO()/t.xJ()}get tags(){return Gd(this).AJ()}get finished(){return Gd(this).DJ()}get NJ(){return Gd(this).IsPlaying()}get LJ(){return Gd(this).OJ()}get RJ(){return _d.get(this).gJ()}}}{let Ed=function(t){const s=Ad.get(t);if(s.gJ())throw new Error("timeline was released and is no longer valid");return s};0;self.Gs,self.Ps;const Ad=new WeakMap;self.kJ=class extends self.yJ{constructor(t){super(t),Ad.set(this,t);const s={name:{value:t._c(),writable:!1}};Object.defineProperties(this,s)}}}{let Dd=function(t){const s=Ld.get(t);if(s.gJ())throw new Error("tween was released and is no longer valid");return s};0;self.Gs;const Nd=self.Ps,Ld=new WeakMap,Od=new WeakMap;let Rd=null;self.PJ=class extends self.yJ{constructor(t,s,i){super(t),Rd||(Rd=i.FJ),Ld.set(this,t),s&&Od.set(this,s)}stop(){const t=Dd(this);Od.get(this).jJ(t)}zJ(t){Nd.ue(t);const s=self.Bl.rc(Rd(t));Dd(this).BJ(s)}get IV(){const t=Dd(this).UJ();return t?t.ej():null}get WJ(){return Dd(this).QJ()}set WJ(t){Dd(this).YJ(!!t)}get value(){const t=Dd(this);if("value"!==t.VJ())throw new Error("not a value tween");return t.HJ("value").JJ()}}}self.Gs,self.Ps;self.qJ=class extends self.jz{constructor(){super()}};{const kd=self.Gs,Pd=self.Ps,Fd=kd.Is();self.XJ=class extends self.qJ{#t;#i;#s=0;#n=new Map;constructor(t){if(super(),this.#t=kd.Bz.zz(Fd),!t?.iQ)throw new Error("no DOM component ID specified");this.#i=t.iQ,this.ZJ("elem-focused",(t=>t.KJ())),this.ZJ("elem-blurred",(t=>{t&&t.$J()}))}tH(t){const s=this.#s++;return this.#n.set(s,t),s}sH(t){this.#n.delete(t)}ZJ(t,s){this.#t.Rj().fQ(this.#i,t,(t=>{const i=this.#n.get(t.elementId);s(i,t)}))}iH(t){Pd.ve(t);for(const[s,i]of t)this.iH(s,i)}}}{const jd=self.Gs,zd=(self.Ps,jd.Is());self.eH=class extends self.gB{#t;constructor(){super(),this.#t=jd.Bz.zz(zd)}hH(){}nH(){return this.#t.sJ().rH()}oH(t){}aH(t){}uH(){}lH(t){}}}{const Bd=self.Gs,Ud=(self.Ps,Bd.Is());self.cH=class extends self.fV{#t;#h=null;#s=null;constructor(t){super(t),this.#t=Bd.Bz.zz(Ud)}NW(){if(super.NW(),this.#h){const t=this.#t.Rj().yf();t.removeEventListener("renderercontextlost",this.#h),t.removeEventListener("renderercontextrestored",this.#s),this.#h=null,this.#s=null}}fH(){if(this.#h)return;this.#h=()=>this.dH(),this.#s=()=>this.pH();const t=this.#t.Rj().yf();t.addEventListener("renderercontextlost",this.#h),t.addEventListener("renderercontextrestored",this.#s)}dH(){}pH(){}mH(t){}}}{const Wd=self.Gs,Qd=(self.Ps,Wd.Yh(Wd.Rect)),Yd=new WeakMap,Vd=Wd.Is();self.gH=class extends self.cH{#t=-1;#s=!0;#n=!1;#e=!1;#i=-.2;#r=Wd.Yh(Wd.Rect,0,0,-1,-1);#o=0;#a=0;#u=-1;#l=-1;#c=!1;constructor(t){if(!t?.iQ)throw new Error("no DOM component ID specified");super(t);const s=Wd.Bz.zz(Vd);Yd.set(this,s),this.#t=this.yB.tH(this);const i=s.Rj().bj();this.#o=i.yH(),this.#a=i.MH(),this.hQ(!0)}NW(){super.NW(),this.yB.sH(this.#t),this.wH("destroy"),this.#t=-1,Yd.delete(this)}SH(){if(Yd.get(this).Rj().bP())throw new Error("not valid in worker mode");return this.TH("get-element")}wH(t,s){s||(s={}),s.elementId=this.#t,this.pQ(t,s)}TH(t,s){return s||(s={}),s.elementId=this.#t,this.gQ(t,s)}bH(t,s){return s||(s={}),s.elementId=this.#t,this.mQ(t,s)}xH(t){t||(t={});const s=Yd.get(this).oj();t.elementId=this.#t,t.isVisible=s.OU(),t.htmlIndex=s.aj().vH(),t.htmlZIndex=s.CH(),Object.assign(t,this.GH()),this.#s=!!t.isVisible,this.gQ("create",t),this.IH(!0)}_H(t){t=!!t,this.#s!==t&&(this.#s=t,this.wH("set-visible",{isVisible:t}))}wQ(){this.IH(!1)}EH(){const t=Yd.get(this).Rj().bj().AH();return"Android"===Wd.Zs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}IH(t){const s=Yd.get(this);if(s.DH())return;const i=s.oj(),e=i.aj(),h=i.tY();let[n,r]=e.MW(h.Za(),h.Ka()),[o,a]=e.MW(h.$a(),h.tu());const u=s.Rj().bj(),l=u.Ez(),c=u.Dz();if(!i.OU()||!e.OU())return void this._H(!1);if(!this.EH()&&(o<=0||a<=0||n>=l||r>=c))return void this._H(!1);Qd.set(n,r,o,a);const f=u.yH(),d=u.MH(),p=e.vH(),m=i.CH();if(!t&&Qd.equals(this.#r)&&this.#o===f&&this.#a===d&&this.#u===p&&this.#l===m)return void this._H(!0);this.#r.m(Qd),this.#o=f,this.#a=d,this.#u=p,this.#l=m,this._H(!0);let g=null;this.#e&&(g=e.NH()+this.#i),this.wH("update-position",{left:Math.round(this.#r.Za()),top:Math.round(this.#r.Ka()),width:Math.round(this.#r.width()),height:Math.round(this.#r.height()),htmlIndex:p,htmlZIndex:m,fontSize:g})}LH(){this.TH("focus",{focus:!0})}OH(){this.TH("focus",{focus:!1})}KJ(){this.#n=!0}$J(){this.#n=!1}RH(){return this.#n}kH(t,s){this.PH("set-css-style",{prop:Wd.So(t),val:s})}FH(t,s){this.PH("set-attribute",{name:t,val:s})}jH(t){this.PH("remove-attribute",{name:t})}zH(){this.#c||(this.#c=!0,Promise.resolve().then((()=>{this.#c=!1,this.wH("update-state",this.GH())})))}GH(){}BH(){return this.#t}}}self.Gs,self.Ps;self.UH=class extends self.AV{constructor(){super()}};self.Gs,self.Ps;self.WH=class extends globalThis.EV{constructor(){super()}hH(){}};{const Jd=self.Gs,Hd=(self.Ps,new WeakMap),qd=Jd.Is();self.QH=class extends self.TV{#e=!1;#s=!1;#t=!1;constructor(){super(),Hd.set(this,Jd.Bz.zz(qd))}NW(){super.NW(),this.hQ(!1),this.nQ(!1),this.YH(!1),Hd.delete(this)}rQ(){return Jd.Bz.oQ()}VH(){}aQ(t){const s=Hd.get(this);s.Rj().uQ(t,s._V(),s.GV())}lQ(t){const s=Hd.get(this);return s.Rj().vj(t,s._V(),s.GV())}hQ(t){if(t=!!t,this.#e===t)return;this.#e=t;const s=Hd.get(this).Rj();t?s.JH(this):s.HH(this)}TQ(){return this.#e}wQ(){}nQ(t){if(t=!!t,this.#s===t)return;this.#s=t;const s=Hd.get(this).Rj();t?s.qH(this):s.XH(this)}xQ(){return this.#s}bQ(){}YH(t){if(t=!!t,this.#t===t)return;this.#t=t;const s=Hd.get(this).Rj();t?s.ZH(this):s.KH(this)}$H(){return this.#t}tq(){}vQ(){return[]}CQ(){return null}GQ(t){}}}{self.Gs;const Xd=self.Ps;let Zd=null;self.LP=class{constructor(t){Zd=t}wj(t){Zd.Sj(t)}LQ(t,s,i){Xd.ue(t),Xd.ue(s),Xd.Ce(i),Zd.sq(t,s,i)}RQ(t,s,i){return Xd.ue(t),Xd.ue(s),Xd.Ce(i),Zd.iq(t,s,i)}eq(t){return Xd.le(t),new self.hq(Zd,t)}set nq(t){Zd.rq(!!t)}get nq(){return Zd.oq()}aq(t){Zd.uq(!!t)}lq(t){Xd.te(t);const s=Zd.cq(t);return s?s.fB():null}}}self.Gs,self.Ps;self.hq=class{#t;#s;#r;#i;#n;#h;constructor(t,s){this.#t=t;const i=t.FP(),e=t.QP();this.#s=e,this.#r=e.fq();const h=t.ZP();this.#i=h.pq(),this.#n=h.mq(e);const n=i.gq().mq();this.#h=n,s&&n.yq(s),t.Mq(!1)}wq(){const t=this.#t.FP(),s=this.#r,i=this.#h;t.Sq(s),this.#s.Tq(this.#i,this.#n),t.bq(s),i.xq(i.eP()+1)}get vq(){return this.#h.Cq()}release(){const t=this.#t,s=t.ZP(),i=t.FP().gq();t.Mq(!0),i.Gq(),s.Gq()}};{const Kd=self.Gs,$d=self.Ps;let tp=null,sp=null;self.Iq=class{constructor(t,s){sp=t,tp=s}_q(){tp.uL()}Eq(t){tp.oL(t)}Aq(){tp.pS()}Dq(){tp.aS()}Nq(){tp.TS()}setColor(t){tp.sL(t[0],t[1],t[2],t[3])}Lq(t,s,i,e){tp.sL(t,s,i,e)}Oq(){tp.eL()}Rq(t){tp.iL(t)}kq(t){tp.US(t)}Pq(){tp.WS()}rect(t){tp.fL(t.left,t.top,t.right,t.bottom)}Fq(t,s,i,e){tp.fL(t,s,i,e)}jq(t){tp.Iu(Kd.Iu.Vu(t))}zq(t,s,i,e,h,n,r,o){tp.GT(t,s,i,e,h,n,r,o)}Bq(t,s){tp.$S(Kd.Iu.Vu(t),Kd.Rect.iu(s))}Uq(t,s){tp.mL(Kd.Iu.Vu(t),Kd.Iu.Vu(s))}Wq(t,s,i,e,h,n,r,o,a,u,l,c,f){tp.gL(t,s,i,e,h,n,r,o,a,u,l,c,Kd.Rect.iu(f))}Qq(t,s,i,e,h,n,r,o,a,u,l,c,f){tp.HS(t,s,i,e,h,n,r,o,a,u,l,c,Kd.Iu.Vu(f))}Yq(t,s,i){tp.yL(t,s,i)}Vq(t){tp.CT(t)}line(t,s,i,e){tp.iy(t,s,i,e)}Jq(t,s,i,e,h,n){tp.qS(t,s,i,e,h,n)}Hq(t,s,i,e){tp.tT(t,s,i,e)}qq(t){tp.hT(Kd.Rect.iu(t))}Xq(t){tp.nT(Kd.Iu.Vu(t))}Zq(t){tp.cT(t)}Kq(){tp.fT()}$q(t){tp.gT(t)}tX(){tp.ST()}sX(t){$d.je(t,self.iX);const s=t?sp.uU(t):null;tp.nL(s)}eX(t,s){const i=self.Lj.Nj(t);if(!i)throw new Error("invalid IImageInfo");return i.hX(tp,{Jx:s?.Jx??"clamp-to-edge",Hx:s?.Hx??"clamp-to-edge",qx:s?.qx??"trilinear",Kx:s?.Kx??!0})}nX(t){const s=self.Lj.Nj(t);if(!s)throw new Error("invalid IImageInfo");s.YE()}KV(t){const s=self.Lj.Nj(t);if(!s)throw new Error("invalid IImageInfo");const i=s.lC();return self.iX.rX(sp,i)}oX(t,s,i){$d.ne(t),$d.ne(s);const e=tp.tC(t,s,{Jx:i?.Jx??"clamp-to-edge",Hx:i?.Hx??"clamp-to-edge",qx:i?.qx??"trilinear",Kx:i?.Kx??!0});return self.iX.rX(sp,e)}aX(t,s,i){$d.Fe(s,self.iX);const e=sp.uU(s);tp.$A(t,e,{tv:i?.tv??!0})}deleteTexture(t){$d.Fe(t,self.iX);const s=sp.uU(t);tp.hC(s)}uX(){const t=tp.BT();return new self.lX(sp,t)}cX(){sp.bj().fX(tp)}dX(t){$d.Fe(t,globalThis.aU),sp.uU(t).pX(tp)}}}{self.Gs,self.Ps;const ip=new WeakMap,ep=new WeakMap;self.iX=class{constructor(t,s){ip.set(this,{runtime:t,texture:s}),ep.set(s,this),t.oB(this,s),Object.defineProperties(this,{width:{value:s.Bg(),writable:!1},height:{value:s.Zg(),writable:!1}})}static rX(t,s){if(!s)return null;return ep.get(s)||new self.iX(t,s)}}}{let hp=function(t){return rp.get(t).mX};0;self.Gs;const np=self.Ps,rp=new WeakMap;self.lX=class{constructor(t,s){rp.set(this,{runtime:t,mX:s}),t.oB(this,s)}release(){hp(this).Vh()}set gX(t){np.ue(t),hp(this).$E(t)}get gX(){return hp(this).iE()}set yX(t){np.ne(t),hp(this).tA(t)}get yX(){return hp(this).sA()}set lineHeight(t){np.ne(t),hp(this).eA(t)}get lineHeight(){return hp(this).hA()}set MX(t){hp(this).nA(t)}get MX(){return hp(this).rA()}set wX(t){hp(this).oA(t)}get wX(){return hp(this).aA()}setColor(t){np.ve(t),this.SX(t[0],t[1],t[2])}SX(t,s,i){hp(this).dA(t,s,i)}TX(t){np.ue(t),hp(this).Lb(t)}set bX(t){hp(this).pA(t)}get bX(){return hp(this).mA()}set verticalAlign(t){hp(this).gA(t)}get verticalAlign(){return hp(this).yA()}set xX(t){hp(this).MA(t)}get xX(){return hp(this).wA()}set vX(t){hp(this).SA(t)}get vX(){return hp(this).TA()}set text(t){np.ue(t),hp(this).Bc(t)}get text(){return hp(this).bA()}VB(t,s,i){np.ne(t),np.ne(s),np.ne(i),hp(this).xA(t,s,i)}ZV(){const{runtime:t,mX:s}=rp.get(this),i=s.lC();return self.iX.rX(t,i)}$V(){return hp(this).tD().su()}CX(t){np.De(t),hp(this).JE=t}GX(){hp(this).YE()}get IX(){return hp(this).CA()}get _X(){return hp(this).IA()}}}{let op=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return cp.get(i)||""},ap=function(t){return new Promise(((s,i)=>{const e=document.createElement("script");e.onload=s,e.onerror=i,e.async=!1,e.type="module",e.src=t,document.head.appendChild(e)}))};0;const up=self.Gs,lp=new Set(["local","remote"]),cp=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);up.EX=class extends up.Wh{constructor(t,s){super();const i=s.exportType;this.Pc=t,this.AX="folders",this.DX=new Map,this.NX="cordova"===i,this.LX=!!s.isiOSCordova,this.OX=!!s.isFileProtocol,this.RX=s.swClientId,this.kX=s.supportedAudioFormats||{},this.PX=new Map,this.FX=!1,this.jX=s.scriptFolder,this.zX="",this.BX="",this.UX="",this.WX=s.fileMap||new Map,this.QX=new Map;const e="html5"===i||"scirra-arcade"===i||"instant-games"===i;this.YX=e?"remote":"local",this.VX=new Map,this.JX=[],this.HX=[],this.qX=!1,this.XX=0,this.ZX=0,this.KX=0,this.$X=!1,this.tZ=up.Yh(up.Kd,(()=>this.sZ()),50),this.iZ=up.Yh(up.Wd,Math.max(up.hardwareConcurrency,8)),this.eZ=up.Yh(up.Wd,20),this.hZ=new self.Ej(this)}Vh(){for(const t of this.VX.values())t.Vh();this.VX.clear(),up.wr(this.HX),this.Pc=null}Rj(){return this.Pc}nZ(t){this.AX=t}Wj(){return this.AX}rZ(){return this.jX}oZ(t){this.zX=t}Vj(){return this.zX}aZ(t){this.BX=t}uZ(){return this.BX}lZ(t){this.UX=t}cZ(){return this.UX}fZ(){return this.OX}eo(t,s){return s=s||this.YX,up.Zr(t)?("flat"===this.AX&&(t=t.toLowerCase()),this.NX&&this.OX?this.dZ(t):"playable-ad-single-file"===this.Pc.Mz()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):"local"===s?this.iZ.Fl((()=>up.eo(t))):this.eZ.Fl((()=>up.eo(t)))):up.eo(t)}ho(t){return up.Zr(t)?("flat"===this.AX&&(t=t.toLowerCase()),this.NX&&this.OX?this.pZ(t):"playable-ad-single-file"===this.Pc.Mz()?up.ro(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.YX?this.iZ.Fl((()=>up.ho(t))):this.eZ.Fl((()=>up.ho(t)))):up.ho(t)}so(t){return up.Zr(t)?("flat"===this.AX&&(t=t.toLowerCase()),this.NX&&this.OX?this.mZ(t):"playable-ad-single-file"===this.Pc.Mz()?up.oo(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):"local"===this.YX?this.iZ.Fl((()=>up.so(t))):this.eZ.Fl((()=>up.so(t)))):up.so(t)}async io(t){const s=await this.so(t);return JSON.parse(s)}gZ(t,s){return"flat"===this.AX&&(t=t.toLowerCase()),this.Pc.gj("runtime","cordova-fetch-local-file",{filename:t,as:s})}mZ(t){return this.gZ(t,"text")}async dZ(t){const s=await this.gZ(t,"buffer"),i=op(t);return new Blob([s],{type:i})}async yZ(t){"flat"===this.AX&&(t=t.toLowerCase());let s=this.DX.get(t);if(s)return s;const i=await this.dZ(t);return s=URL.createObjectURL(i),this.DX.set(t,s),s}pZ(t){return this.gZ(t,"buffer")}Qj(t){"flat"===this.AX&&(t=t.toLowerCase());let s=this.zX+t;return"Gecko"===up.Zs.ei&&"preview"===this.Pc.Mz()&&(s=this.MZ(s)),s}Bj(t){return up.Xr(t)?Promise.resolve(t):this.NX&&this.OX?this.yZ(t):"playable-ad-single-file"===this.Pc.Mz()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.AX&&(t=t.toLowerCase()),Promise.resolve(t))}wZ(t){if(up.Xr(t)||"preview"!==this.Pc.Mz()||!this.RX||!t)return t;try{const s=new URL(t,location.href);return s.searchParams.set("__c3_client_id",this.RX),s.toString()}catch(s){return console.warn("Invalid iframe URL: "+t),t}}SZ(t){return this.Bj(t)}TZ(t){if(t.bZ&&!lp.has(t.bZ))throw new Error("invalid load policy");let s=this.VX.get(t.url);return s||(s=up.Yh(up.xZ,this,{url:t.url,size:t.size||0,bZ:t.bZ||this.YX}),this.VX.set(s.vZ(),s),this.qX||(this.XX+=s.Nl(),this.HX.push(s.CZ().then((()=>this.GZ(s.Nl()))))),s)}IZ(t){this.VX.delete(t.vZ())}async _Z(){try{await Promise.all(this.HX),this.KX=1}catch(t){console.error("Error loading: ",t),this.$X=!0,this.sZ()}}EZ(){this.qX=!0}AZ(){return this.$X}GZ(t){this.ZX+=t,this.tZ.fp()}sZ(){const t=up.Yh(up.Event,"loadingprogress");this.KX=up.Zh(this.ZX/this.XX,0,1),t.progress=this.KX,this.Pc.yf().dispatchEvent(t)}RF(){return this.KX}PF(){return this.Pc.NZ().DZ()}LZ(t){up.vr(this.JX,t),this.JX.length&&this.HX.push(this.OZ())}async OZ(){const t=[],s=[];for(const[i,e,h]of this.JX)this.XX+=h,t.push(this.RZ(i,e,s).then((()=>this.GZ(h))));await Promise.all(t),this.Pc.bP()&&s.length>0&&await this.Pc.gj("runtime","load-webfonts",{webfonts:s})}async RZ(t,s,i){try{let e=await this.Bj(s);"Gecko"===up.Zs.ei&&(t=`'${t}'`),("Gecko"===up.Zs.ei&&"preview"===this.Pc.Mz()||"playable-ad-single-file"===this.Pc.Mz())&&(e=this.MZ(e));const h=new FontFace(t,`url('${e}')`);this.Pc.bP()?self.fonts.add(h):document.fonts.add(h),await h.load(),this.Pc.bP()&&i.push({name:t,url:e})}catch(s){console.warn(`[C3 runtime] Failed to load web font '${t}': `,s)}}kZ(t){return!!this.kX[t]}PZ(t,s){this.FX=!!s;for(const[s,i,e]of t)this.PX.set(s,{fileName:s,FZ:i.map((t=>({type:t[0],jZ:t[1],fullName:s+t[1],fileSize:t[2]}))),zZ:e})}BZ(t){"flat"===this.AX&&(t=t.toLowerCase());const s=this.PX.get(t);if(!s)return null;let i=null;for(const t of s.FZ)if(i||"audio/webm; codecs=opus"!==t.type||(i=t),this.kZ(t.type))return t;return i}UZ(t){const s=this.BZ(t);return s?{url:this.Qj(s.fullName),type:s.type}:null}WZ(){if(this.FX){const t=[];for(const s of this.PX.values()){if(s.zZ)continue;const i=this.BZ(s.fileName);i&&t.push({QZ:s.fileName,url:this.Qj(i.fullName),type:i.type,fileSize:i.fileSize})}return t}return[]}YZ(t){return"preview"===this.Pc.Mz()&&(t=new URL(t,location.href).toString()),this.WX.get(t)||null}MZ(t){let s=this.QX.get(t);if(s)return s;const i=this.YZ(t);return i?(s=URL.createObjectURL(i),this.QX.set(t,s),s):t}oP(){return this.hZ}async qj(...t){const s=await Promise.all(t.map((t=>this.Bj(t))));if(this.Pc.bP())if(1===t.length){const s=t[0];await import((up.Zr(s)?"./":"")+s)}else{const s=t.map((t=>`import "${up.Zr(t)?"./":""}${t}";`)).join("\n"),i=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));await import(i)}else await Promise.all(s.map((t=>ap(t))))}async Zj(t){if(WebAssembly.compileStreaming){const s=await this.Bj(t);return await WebAssembly.compileStreaming(fetch(s))}{const s=await up.ho(t);return await WebAssembly.compile(s)}}async $j(t){const s=await this.Bj(t);return await this.Pc.gj("runtime","add-stylesheet",{url:s})}}}{const fp=self.Gs;fp.VZ=class extends fp.Wh{constructor(t,s){super(),this.JZ=t,this.Pc=t.Rj(),this.HZ=s.url||"",this.qZ=s.size,this.XZ=s.bZ,this.ZZ=s.blob||null,this.KZ=!!this.ZZ,this.yM=null}Vh(){this.yM=null,this.JZ=null,this.Pc=null,this.ZZ=null}vZ(){return this.HZ}Nl(){return this.qZ}CZ(){return"local"===this.XZ||this.ZZ?(this.KZ=!0,Promise.resolve()):(this.yM||(this.yM=this.JZ.eo(this.HZ,this.XZ).then((t=>(this.KZ=!0,this.yM=null,this.ZZ=t,t))).catch((t=>{console.error("Error loading resource: ",t),this.yM=null}))),this.yM)}$Z(){return this.KZ}tK(){return this.ZZ?Promise.resolve(this.ZZ):this.yM?this.yM:this.JZ.eo(this.HZ,this.XZ)}}}{const dp=self.Gs,pp=new dp.Wd,mp=new Set;dp.xZ=class extends dp.VZ{constructor(t,s){super(t,s),this.sK=null,this.iK=null,this.Wp=0,this.eK=-1,this.hK=-1,mp.add(this)}Vh(){if(0!==this.Wp)throw new Error("released image asset which still has texture references");this.JZ.IZ(this),this.sK=null,mp.delete(this),super.Vh()}static nK(){for(const t of mp)t.sK=null,t.iK=null,t.Wp=0}hX(t,s){return s=s||{},this.Wp++,this.iK?Promise.resolve(this.iK):(this.sK||(s.Xx=this.Pc.bj().rK(),this.sK=this.oK(t,s)),this.sK)}async oK(t,s){try{const i=await this.tK();return 0===this.Wp?(this.sK=null,null):await pp.Fl((async()=>{const e=await t.UL(i,s);return this.sK=null,0===this.Wp?(t.hC(e),null):(this.iK=e,this.eK=e.Bg(),this.hK=e.Zg(),this.iK)}))}catch(t){throw console.error("Failed to load texture: ",t),t}}YE(){if(this.Wp<=0)throw new Error("texture released too many times");this.Wp--,0===this.Wp&&this.iK&&(this.iK.lb().hC(this.iK),this.iK=null)}aK(){return this.Wp}lC(){return this.iK}Bg(){return this.eK}Zg(){return this.hK}async uK(){const t=await this.tK();return dp.Ai.ImageBitmap?await createImageBitmap(t):await dp.uo(t)}}}{let gp=function(t,s){return t.oj().lK()-s.oj().lK()};0;const yp=self.Gs;self.assert;yp.cK=class extends yp.Wh{constructor(t,s,i){super(),this.fK=t,this._a=s,this.Ea=i,this.dK=[],this.pK=!0,this.mK=new Set,this.gK=!1}Vh(){yp.wr(this.dK),this.mK.clear(),this.fK=null}Ff(){yp.wr(this.dK),this.pK=!0,this.mK.clear(),this.gK=!1}yK(){this.pK=!1}El(){return!this.dK.length||!(this.dK.length>this.mK.size)&&(this.MK(),!0)}wK(t){if(this.mK.has(t))return this.mK.delete(t),void(0===this.mK.size&&(this.gK=!1));this.dK.push(t),this.pK=1===this.dK.length}Xf(t){this.mK.add(t),this.gK=!0,this.mK.size>=50&&this.MK()}MK(){this.gK&&(this.dK.length!==this.mK.size?(yp.Er(this.dK,this.mK),this.mK.clear(),this.gK=!1):this.Ff())}SK(){this.pK||(this.dK.sort(gp),this.pK=!0)}TK(t){this.MK(),this.SK(),this.dK.length&&t.push(this.dK)}}}{const Mp=self.Gs;Mp.bK=class extends Mp.Wh{constructor(t,s){super(),this.xK=t,this.vK=s,this.CK=Mp.Yh(Mp.Gl)}Vh(){this.CK.Vh(),this.CK=null}GK(t,s,i){let e=this.CK.Ys(t,s);return e||(i?(e=Mp.Yh(Mp.cK,this,t,s),this.CK.Set(t,s,e),e):null)}IK(t){return Math.floor(t/this.xK)}_K(t){return Math.floor(t/this.vK)}EK(t,s,i){if(s)for(let e=s.Za(),h=s.$a();e<=h;++e)for(let h=s.Ka(),n=s.tu();h<=n;++h){if(i&&i.xu(e,h))continue;const s=this.GK(e,h,!1);s&&(s.Xf(t),s.El()&&this.CK.Al(e,h))}if(i)for(let e=i.Za(),h=i.$a();e<=h;++e)for(let h=i.Ka(),n=i.tu();h<=n;++h)s&&s.xu(e,h)||this.GK(e,h,!0).wK(t)}AK(t,s){let i=this.IK(t.Za());const e=this._K(t.Ka()),h=this.IK(t.$a()),n=this._K(t.tu());for(;i<=h;++i)for(let t=e;t<=n;++t){const e=this.GK(i,t,!1);e&&e.TK(s)}}DK(t){let s=t.Za();const i=t.Ka(),e=t.$a(),h=t.tu();for(;s<=e;++s)for(let t=i;t<=h;++t){const i=this.GK(s,t,!1);i&&i.yK()}}}}{let wp=function(t,s){return t.oj().lK()-s.oj().lK()},Sp=function(t,s){return t.oj().Hb()-s.oj().Hb()};0;const Tp=self.Gs,bp=(self.assert,new Tp.Rect),xp=new Tp.Iu,vp=[],Cp=(new Tp.Rect,new Tp.Rect,self.rs),Gp=Cp.ys,Ip=Cp.Ms,_p=Cp.fs,Ep=_p.create(),Ap=Gp.create(),Dp=Ip.create(),Np=Gp.create(),Lp=Gp.create(),Op=Gp.create(),Rp=Tp.Yh(Tp.Ia),kp=(Tp.Yh(Tp.Rect),[]),Pp=[],Fp=[],jp={name:"",NK:-1,LK:!1,isVisible:!0,RU:!0,FU:!1,backgroundColor:[1,1,1,1],hW:!0,RK:[1,1],opacity:1,oW:!1,kK:!1,PK:!1,FK:!1,YU:1,qR:0,sW:0,jK:[],zK:[],BK:[]};Tp.UK=class extends Tp.Wh{constructor(t,s,i){super(),i=Object.assign({},jp,i),this.WK=t,this.Pc=t.Rj(),this.QK=s,this.qh=i.name,this.IM=-1,this.YK=!!i.FU,this.VK=-1,this.JK=i.NK,this.HK=!!i.LK,this.qK=!!i.isVisible,this.XK=!!i.RU,this.ZK=Tp.Yh(Tp.xo),this.ZK.ya(i.backgroundColor),this.KK=!!i.hW,this.$K=i.RK[0],this.t$=i.RK[1],this.Eb=Tp.Yh(Tp.xo,1,1,1,i.opacity),this.s$=Tp.Yh(Tp.xo),this.i$=!!i.oW,this.e$=!!i.kK,this.h$=!!i.PK,this.n$=!!i.FK,this.r$=i.YU,this._b=i.qR,this.o$=null,this.a$=1,this.Ab=i.sW,this.u$=0,this.l$=0,this.c$=0,this.f$=!1,this.jD=Tp.Yh(Tp.Rect),this.d$=Tp.Yh(Tp.Rect),this.p$=Tp.Yh(Tp.Rect),this.m$=!0,this.Hv=_p.create(),this.g$=!0,this.LR=_p.create(),this.y$=!0,this.M$=Tp.Yh(Tp.OM.FM),this.w$=!0,this.S$=[],this.T$=i.jK,this.b$=[],this.x$=[],this.v$=new Map,this.dK=[],this.C$=!1,this.G$=!1,this.I$=!1;const e=this.Pc.bj();this._$=Tp.Yh(Tp.E$,this,i.zK),this.$k=Tp.Yh(Tp.OM.UO,e.A$(),{DO:(t,s)=>{const i=s.Yk(),h=i.FL();t.Lb(i.D$()),t.VL(h),t.JL(h),e.N$(h)},LO:t=>this.WB().L$(t)}),this.O$=!0,this.R$=!0,this.k$=null,this.P$=[],this.F$=!1,this.j$=Tp.Yh(Tp.Rect,0,0,-1,-1),this.z$=Tp.Yh(Tp.Rect,0,0,-1,-1),this.B$=new self.aU(this),this.U$(),this.W$()&&(this.k$=Tp.Yh(Tp.bK,this.Pc.vP(),this.Pc.GP())),this.Q$=i.BK.map((t=>Tp.UK.Y$(this.WK,this,t)))}V$(){for(const t of this.T$){const s=this.Pc.J$(t[1]);this.WK.H$(s),s.q$()||(s.X$(t),s.Z$(this.IM)),this.b$.push(t),this.v$.set(t[2],t)}Tp.vr(this.S$,this.b$),this.T$=null}static Y$(t,s,i){return Tp.Yh(Tp.UK,t,s,{name:i[0],NK:i[2],isVisible:i[3],RU:i[13],FU:i[19],backgroundColor:i[4].map((t=>t/255)),hW:i[5],RK:[i[6],i[7]],opacity:i[8],oW:i[9],kK:i[17],PK:i[18],FK:i[10],YU:i[11],qR:i[12],sW:i[16],jK:i[14],zK:i[15],BK:i[20]})}Vh(){for(const t of this.Q$)t.Vh();Tp.wr(this.Q$);for(const t of this.dK)this.Pc.LW(t);Tp.wr(this.dK),this._$.Vh(),this._$=null,this.$k.Vh(),this.$k=null,this.B$=null,this.QK=null,this.WK=null,this.Pc=null}K$(t){return this.v$.get(t)}$$(t){const s=this.WK.t0();let i=0;const e=this.b$;for(let h=0,n=e.length;h<n;++h){const n=e[h],r=this.Pc.J$(n[1]);let o=!0;if(!r.s0()||s){const s=this.Pc.i0(n,this,!0);t.push(s),r.e0()&&(o=!1,this.x$.push(s.zW()))}o&&(e[i]=e[h],++i)}Tp.Mr(e,i),this.Pc.BB(),this.dj()}h0(t,s){if(!t.MB().Jz())throw new Error("instance is not of world type");const i=t.oj();if(i.aj()!==this)throw new Error("instance added to wrong layer");this.dK.push(t),0!==i.Hb()&&(this.I$=!0),s&&this.W$()&&t.oj().FQ(),this.dj(t)}n0(t){this.dK.includes(t)||(this.dK.push(t),0!==t.oj().Hb()&&(this.I$=!0),this.dj(t))}r0(t,s){const i=t.oj();if(i.aj()!==this)throw new Error("instance added to wrong layer");this.dK.unshift(t),0!==i.Hb()&&(this.I$=!0),this.dj(t),s&&this.W$()&&t.oj().FQ()}o0(t,s){const i=this.dK.indexOf(t);i<0||(s&&this.W$()&&t.oj().a0(),this.dK.splice(i,1),this.dj(t),this.u0())}l0(){this.I$=!0}u0(){0===this.dK.length&&(this.I$=!1)}c0(t){if(t){const t=new Set;for(const s of this.dK){const i=s.oj().lK();i>=0&&t.add(i)}let s=-1;for(const i of this.dK){const e=i.oj();if(!(e.lK()>=0)){for(++s;t.has(s);)++s;e.f0(s)}}}this.dK.sort(wp)}d0(){}p0(){for(const t of this.dK)t.IW().e0()||this.Pc.LW(t);this.Pc.BB(),Tp.wr(this.dK),this.I$=!1,this.dj()}m0(t,s,i,e,h,n){const r=this.Pc.FP(),o=this.Pc.g0(),a=t.y0(),u=[];for(const l of this.b$){const c=l[0],f=c[0],d=c[1];if(!s.xu(f,d))continue;const p=o[l[1]];if(p!==t){if(!a)continue;if(!t.M0(p))continue}let m=h;if(!m){const t=this.Pc.nj();this.WF()===t?m=this:(m=t.w0(this._c()),m||(m=t.lj(this.eP())))}const g=this.Pc.i0(l,m,!1,void 0,void 0,!1,n);m.RB(g);const y=g.oj();y.BQ(i,e),y.FQ(),r.kB(!0),g.PB(),r.kB(!1),u.push(g)}return u}NB(){return this.dK.length}WF(){return this.WK}_c(){return this.qh}S0(t){this.IM=t}eP(){return this.IM}T0(t){this.VK=t}vH(){return this.VK}jU(){return this.YK}zU(t){t=!!t,this.YK!==t&&(this.YK=t,this.WK.b0(),this.Pc.pj())}x0(){let t=-1;const s=this.CU();return t=s?s._U().indexOf(this):this.WF().v0().indexOf(this),t}C0(){return this.JK}Rj(){return this.Pc}G0(){return this.HK}I0(){for(const t of this.GU())if(t.G0())return!0;return!1}kz(){return this.Pc.kz()}WB(){return this._$}iP(){return this._0(),this.$k}_0(){const t=this.E0();if(!this.O$&&t===this.R$&&!this.$k.OR())return;const s=this.WB().A0();this.$k.RR(s.map((t=>t.EG())),{RO:s.map((t=>t.eP())),kO:!t,BO:!0}),this.O$=!1,this.R$=t}OV(){this.WB().OV(),this.O$=!0}W$(){return this.n$&&!this.h$}D0(){return this.k$}N0(){this.F$=!1}OU(){for(const t of this.L0())if(!t.DU())return!1;return!0}DU(){return this.qK}NU(t){t=!!t,this.qK!==t&&(this.qK=t,this.Pc.pj())}PU(t){this.XK=!!t}kU(){return this.XK}UU(){for(const t of this.L0())if(!t.kU())return!1;return!0}fW(t){if(t=!!t,this.f$!==t){if(this.f$=t,t){const t=this.WF();this.l$=t.KB(),this.c$=t.tU()}this.O0(),this.Pc.pj()}}R0(){return this.f$}ZB(t){const s=this.WF(),i=s.k0(),e=s.P0();t>e&&(t=e),t<i&&(t=i),this.l$!==t&&(this.l$=t,this.R0()&&(this.O0(),this.Pc.pj()))}$B(t){const s=this.WF(),i=s.F0(),e=s.j0();t>e&&(t=e),t<i&&(t=i),this.c$!==t&&(this.c$=t,this.R0()&&(this.O0(),this.Pc.pj()))}KB(){return this.R0()?this.l$:this.WF().KB()}tU(){return this.R0()?this.c$:this.WF().tU()}pW(){return this.z0(),this.jD}B0(){return this.z0(),this.d$}U0(){return this.z0(),this.p$}SU(){const t=this.WF();return[t.W0(),t.Q0()]}zw(t){return this.Pc.zw(t)}Y0(t,s){const i=this.B0();if(0===t)s.m(i);else{let e=i.nu(),h=i.ru();const n=this.V0(t),r=i.width()/n,o=i.height()/n,[a,u]=this.SU();if(.5!==a||.5!==u){const s=this.J0(),i=this.Pc,n=this.zw()/s;let r=(a-.5)*i.H0()/n,o=(u-.5)*i.q0()/n;const l=this.XB();0!==l&&(Rp.set(r,o),Rp.rotate(l),r=Rp.Na(),o=Rp.Oa());const c=Tp.mn(s,0,t);e+=Tp.Gt(r,0,c),h+=Tp.Gt(o,0,c)}s.set(e-r/2,h-o/2,e+r/2,h+o/2)}}tL(){return this.Eb.zo()}iL(t){t=Tp.Zh(t,0,1),this.Eb.zo()!==t&&(this.Eb.Ro(t),this.U$(),this.Pc.pj())}U$(){this.s$.m(this.Eb),this.s$.Xo()}D$(){return this.s$}E0(){return this.Eb.Vo(1,1,1,1)}JU(){return this.r$}VU(t){this.r$!==t&&(this.r$=t,this.O0(),this.Pc.pj())}ZU(){return this.$K}tW(){return this.t$}X0(t,s){this.$K===t&&this.t$===s||(this.$K=t,this.t$=s,this.O0(),this.Pc.pj())}XU(t){this.X0(t,this.tW())}$U(t){this.X0(this.ZU(),t)}qb(t){this.Ab!==t&&(this.Ab=t,this.Pc.pj())}Hb(){return this.Ab}qB(t){t=Tp.Kh(t),this.u$!==t&&(this.u$=t,this.O0(),this.Pc.pj())}XB(){return Tp.Kh(this.WK.XB()+this.u$)}HU(){return this.u$}Z0(){return this.dK.length>0}cj(){return this.dK}K0(){return this.$0()&&this.h$?(Tp.vr(Fp,this.cj()),Fp.sort(((t,s)=>this.t1(t,s))),Fp):this.cj()}s1(t){Tp.Lh(t,this.K0());for(const s of this.Q$)s.OU()&&s.tL()>0&&s.s1(t)}t1(t,s){const i=this.WF().i1(),e=i[0],h=i[1],n=i[2],r=t.oj(),o=s.oj(),a=r.Wb()-e,u=r.Vb()-h,l=r.Hb()-n,c=o.Wb()-e,f=o.Vb()-h,d=o.Hb()-n;return c*c+f*f+d*d-(a*a+u*u+l*l)}cW(){return this.ZK}rW(){return this.KK}nW(t){t=!!t,this.KK!==t&&(this.KK=t,this.Pc.pj())}uW(){return this.i$}aW(t){t=!!t,this.i$!==t&&(this.i$=t,this.Pc.pj())}iW(t){t=!!t,this.e$!==t&&(this.e$=t,this.O0(),this.Pc.pj())}eW(){return this.e$}e1(){return!this.Rj().h1()||!this.e$}$0(){return!this.e1()}n1(){return this.$0()&&this.WF().o1()}a1(){if(!this.n1())return!1;for(const t of this.Q$)if(!t.a1())return!1;return!0}Nb(t){this._b!==t&&(this._b=t,this.Pc.pj())}lW(){return this._b}u1(){return!this.QK}CU(){return this.QK}l1(t){this.QK=t}_U(){return this.Q$}c1(){return this.Q$.length>0}f1(t,s=!0){s?this.Q$.push(t):this.Q$.unshift(t)}d1(t,s,i){let e=this.Q$.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.Q$.splice(e,0,t)}m1(t){const s=this.Q$.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.Q$.splice(s,1)}g1(){for(const t of this.Q$)if(t.M1())return!0;return!1}*AU(){for(const t of this.Q$)yield*t.AU();yield this}*GU(){let t=this.CU();for(;t;)yield t,t=t.CU()}*L0(){yield this,yield*this.GU()}w1(t){for(const s of this.GU())if(s===t)return!0;return!1}S1(t){return this===t||this.$K===t.$K&&this.t$===t.t$&&this.a$===t.a$&&this.r$===t.r$&&this.u$===t.u$&&this.KB()===t.KB()&&this.tU()===t.tU()}T1(){return{parallaxX:this.ZU(),parallaxY:this.tW(),scale:this.QU(),scaleRate:this.JU(),angle:this.HU(),hasOwnScroll:this.R0(),scrollX:this.KB(),scrollY:this.tU()}}b1(t){this.X0(t.parallaxX,t.parallaxY),this.WU(t.scale),this.VU(t.scaleRate),this.qB(t.angle),this.fW(t.hasOwnScroll),this.ZB(t.scrollX),this.$B(t.scrollY),this.z0()}v1(t){0!==t.size&&Tp.Er(this.dK,t)>0&&(this.u0(),this.dj())}dj(t){this.C$=!1,this.F$=!1,t&&!t.IW().MB().Xz()||(this.G$=!1)}C1(){if(!this.C$){if(this.dK.sort(Sp),this.W$())for(let t=0,s=this.dK.length;t<s;++t){const s=this.dK[t].oj();s.f0(t),this.k$.DK(s.G1())}else for(let t=0,s=this.dK.length;t<s;++t)this.dK[t].oj().f0(t);this.C$=!0}}I1(){if(this.G$)return;const t=this.WK._1(this.vH()).map((t=>[...t.AU()])).flat();let s=0;for(const i of t){for(const t of i.cj())t.IW().MB().Xz()&&t.oj().E1(s++);i.A1()}}A1(){this.G$=!0}D1(){return{isVisible:this.OU(),opacity:this.tL(),isInteractive:this.kU()}}N1(t,s,i){const e=t.oj(),h=s.oj();if(e.aj()!==this||h.aj()!==this)throw new Error("can't arrange Z order unless both objects on this layer");const n=e.uj();let r=h.uj();return n!==r+(i?1:-1)&&(Tp.Cr(this.dK,n),n<r&&r--,i&&r++,r===this.dK.length?this.dK.push(t):this.dK.splice(r,0,t),this.dj(t),!0)}L1(t,s){const i=[];let e=0,h=0,n=t.length,r=s.length;for(;e<n&&h<r;){const n=t[e],r=s[h];n.oj().lK()<r.oj().lK()?(i.push(n),++e):(i.push(r),++h)}for(;e<n;++e)i.push(t[e]);for(;h<r;++h)i.push(s[h]);return i}O1(t){const s=[],i=t.length;for(let e=0;e<i-1;e+=2){const i=t[e],h=t[e+1];s.push(this.L1(i,h))}return i%2==1&&s.push(t[i-1]),s}R1(t){for(;t.length>1;)t=this.O1(t);return t[0]}P1(){return this.C1(),Tp.wr(vp),this.k$.AK(this.pW(),vp),vp.length?1===vp.length?vp[0]:this.R1(vp):[]}M1(){return this.OU()&&this.tL()>0&&this.F1()}F1(){if(this.Z0()||!this.rW())return!0;for(const t of this.Q$)if(t.F1())return!0;return!1}j1(){return this.uW()||!this.E0()||0!==this.lW()||this._$.z1()}B1(){if(this.j1())return!0;for(const t of this.Q$)if(t.B1())return!0;return!1}FL(){return this.o$}V0(t){if(this.WK.xU())return 1;{const s=this.U1();return s/(s-t)}}W1(t){const s=this.Pc.vW();if(this.WK.xU())return s;{const i=this.U1();return this.zw()/Math.abs(i-t)*s}}O0(){this.y$=!0,this.w$=!0,this.m$=!0}Q1(t){return this.y$&&(this.Y1(t,this.LR,0,0,null),this.y$=!1),this.LR}J0(t){return this.zw(t)/this.V1()}U1(){return this.n1()?this.WF().i1()[2]:this.J0()}J1(){if(this.n1()){const t=this.WF().i1();return[t[0],t[1],t[2]]}return this.H1()}H1(t=0,s=0,i=0){const e=this.Pc,h=this.WF(),n=e.q1(),r=e.X1();let o=(this.KB()-n)*this.$K+n,a=(this.tU()-r)*this.t$+r;e.EP()&&(o=Math.round(o),a=Math.round(a));let u=o+t,l=a+s;const c=h.xU()?this.zw(i):this.J0(i),[f,d]=this.SU();if(.5!==f||.5!==d){const t=this.zw(i)/c;let s=(f-.5)*e.H0()/t,h=(d-.5)*e.q0()/t;const n=this.XB();0!==n&&(Rp.set(s,h),Rp.rotate(n),s=Rp.Na(),h=Rp.Oa()),u+=s,l+=h}return[u,l,c]}Y1(t,s,i,e,h){const n=this.Pc,r=this.WF();if(this.n1()){Gp.m(Np,r.i1()),Gp.m(Lp,r.Z1()),Gp.m(Op,r.K1());const t=n.q1(),s=n.X1(),i=Lp[0]-Np[0],e=Lp[1]-Np[1],h=Lp[2]-Np[2];Np[0]=(Np[0]-t)*this.$K+t,Np[1]=(Np[1]-s)*this.t$+s,Np[2]*=Math.max(this.$K,this.t$),Lp[0]=Np[0]+i,Lp[1]=Np[1]+e,Lp[2]=Np[2]+h}else{const[t,s,n]=this.H1(i,e,h);Gp.set(Np,t,s,n),Gp.set(Lp,t,s,n-100);const r=this.XB();0===r?Gp.set(Op,0,1,0):Gp.set(Op,Math.sin(r),Math.cos(r),0)}t.iS(s,Np,Lp,Op,h||n.q0())}t2(){this.g$=!0,this.w$=!0,this.m$=!0}s2(t){return this.g$&&(this.i2(t),this.g$=!1),this.Hv}i2(t){const s=this.Pc.bj(),[i,e]=this.SU();if(this.WK.xU())t.sS(this.Hv,s.e2(),s.h2());else if(.5===i&&.5===e)_p.m(this.Hv,s.n2());else{const h=s.e2(),n=s.h2();t.$w(this.Hv,h/n,i,e)}}pX(t,s=!0,i=0,e=0,h=0){s&&t.WN(this.s2(t));let n=null;0===i&&0===e&&0===h?n=this.Q1(t):(this.Y1(t,Ep,i,e,h),n=Ep),t.qN(n)}o2(t){this.pX(t),t.zS(this.Hb())}a2(t){let s=null;if(t.kT()&&this.Pc.u2()){const i=this.Pc.bj().l2(this);i&&(s=i.GD(),t.$L(s))}return s}c2(t){if(t.tS()&&this.Pc.u2()){const s=2*(this.eP()+1);t.f2(s,s+1)}}Fx(t,s,i){const e=this.Pc.bj(),h=this.j1();let n=null;const r=this.a2(t);if(this.c2(t),h){const s={qx:this.Pc.IP(),kv:!0,d2:!!t.tS()&&this.Pc.m2()};"low"===e.g2()&&(s.width=e.e2(),s.height=e.h2()),n=this.Pc.M2(s),this.o$=n,t.QL(n),this.rW()&&t.DL(0,0,0,0)}else this.o$=s,t.QL(s);if(this.rW()||t._l(this.ZK),this.WK.w2(t,this.o$,this.Q$,h&&this.rW()),this.c2(t),this.pX(t),t.zS(this.Hb()),t.OL(this.$0()),this.V1()>Number.EPSILON){this.C1();const s=this.W$()&&0===this.Hb()&&!this.I$;this.n1()?this.S2(t):s?this.T2(t):this.b2(t,this.K0())}t.zS(0),t.US(0),h&&(t.OL(!1),this.v2(t,n,s,i)),r&&t.sO(r),this.o$=null}b2(t,s){const i=this.pW(),e=this.o$,h=this.WF().xU(),n=this.WF().C2();let r=null;for(let o=0,a=s.length;o<a;++o){const a=s[o];if(a===r)continue;r=a;const u=a.oj();u.OU()&&u.G2(i,n,h)&&this.I2(a,u,t,e)}}S2(t){const s=this.o$,i=this._2(),e=kp,h=Pp,n=this.K0();for(let r=0,o=n.length;r<o;){const a=n[r],u=a.oj();if(!u.OU()||!u.E2(i)){++r;continue}(!a.A2()||u.D2()>0)&&h.push(a);const l=a.oj().ZQ();e.push(a);let c=r+1;for(;c<o;++c){const t=n[c],s=t.oj();if(s.OU()&&s.E2(i)){if(s.ZQ()!==l)break;t.A2()?(s.D2()>0&&h.push(t),e.push(t)):h.push(t)}}if(1!==e.length||e[0].N2()){this.L2(t,e);for(let i=0,e=h.length;i<e;++i){const e=h[i],n=e.oj();n.O2(!0),this.I2(e,n,t,s),n.O2(!1)}}else{this.I2(a,u,t,s);for(let i=0,e=h.length;i<e;++i){const e=h[i];if(e===a)continue;const n=e.oj();n.aj().I2(e,n,t,s)}}r=c,Tp.wr(e),Tp.wr(h)}}L2(t,s){const i=this.o$;t.qL();for(let i=0,e=s.length;i<e;++i){const e=s[i],h=e.oj();h.R2(!0),this.P2(e,h,t)}t.XL();for(let e=0,h=s.length;e<h;++e){const h=s[e],n=h.oj();this.I2(h,n,t,i),n.R2(!1)}t.KL()}T2(t){const s=this.k$,i=this.z$,e=this.j$,h=this.pW();let n;i.set(s.IK(h.Za()),s._K(h.Ka()),s.IK(h.$a()),s._K(h.tu())),this.F$&&i.equals(e)?n=this.P$:(n=this.P1(),this.F$=!0,e.m(i)),this.b2(t,n),n!==this.P$&&Tp.vr(this.P$,n)}I2(t,s,i,e){s.z1()?this.F2(t,s,i,e):this.P2(t,s,i)}P2(t,s,i){const e=s.j2();i.xS()!==e&&e.Db(),t.Fx(i)}F2(t,s,i,e){this.z2(t,s,i,e,null)&&this.pX(i)}z2(t,s,i,e,h){const n=s.kQ().iP();return n.YR(i,e,{JR:t,qR:s.lW(),devicePixelRatio:this.Pc.B2(),time:t.U2(),XR:this.Pc.W2()*this.V1(),ZR:this.XB(),xk:s.tY(),vk:n.Wk()?null:this.Q2(s),hk:h&&h.hk,nk:h&&h.nk,rk:h&&h.rk,ak:h&&h.ak,uk:h&&h.uk,lk:h&&h.lk}),i.zS(this.Hb()),n.ZN()}v2(t,s,i,e){const h=this._$.A0(),n=this.Pc;0===h.length?(t.QL(i),t.aS(),e&&0===this._b&&this.E0()?t.YL(s):(t.Nb(this._b),t.Lb(this.s$),t.VL(s)),t.JL(s),n.N$(s)):this.iP().YR(t,i,{JR:this,qR:this.lW(),devicePixelRatio:n.B2(),XR:n.W2()*this.V1(),ZR:this.XB(),xk:this.pW(),vk:null,OO:!0})}QU(){return this.a$}WU(t){this.a$!==t&&(this.a$=t,this.WK.Y2(),this.O0(),this.Pc.pj())}vW(){return this.V1()*this.Pc.vW()}NH(){return this.V1()*this.Pc.NH()}V1(){return(this.a$*this.WK.HB()-1)*this.r$+1}z0(){if(!this.m$)return;this.m$=!1;const t=this.Pc.q1(),s=this.Pc.X1(),i=(this.KB()-t)*this.$K+t,e=(this.tU()-s)*this.t$+s,h=this.V1(),n=this.Pc.H0()/h,r=this.Pc.q0()/h;let o=i-n/2,a=e-r/2;this.Pc.EP()&&(o=Math.round(o),a=Math.round(a));const u=this.d$;u.set(o,a,o+n,a+r);const l=this.XB();0!==l&&(bp.m(u),bp.offset(-u.nu(),-u.ru()),xp.qu(bp,l),xp.Zu(bp),bp.offset(u.nu(),u.ru()),u.m(bp));const c=this.Ab;this.Y0(c,this.jD),this.n1()?this.V2(c,this.p$):this.p$.m(this.jD)}V2(t,s){const i=this.Pc.bj(),e=i.Ez(),h=i.Dz(),[n,r]=this.gW(0,0,t),[o,a]=this.gW(e,0,t),[u,l]=this.gW(e,h,t),[c,f]=this.gW(0,h,t);let d=Math.min(n,o,u,c),p=Math.min(r,a,l,f),m=Math.max(n,o,u,c),g=Math.max(r,a,l,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}gW(t,s,i=0){return this.J2(t,s,i,this.NH())}SW(t,s,i=0){return this.J2(t,s,i,this.vW()*this.kz())}J2(t,s,i,e){const h=this.Pc,n=h.lb(),r=this.V1(),o=h.H0()/r,a=h.q0()/r,u=Dp;Ip.set(u,0,0,o,a),t/=e,s=u[3]-s/e;const l=this.s2(n),c=this.Q1(n),f=Ap;return Tp.OM.PM(t,s,i,c,l,u,f)?[f[0],f[1]]:[NaN,NaN]}H2(t,s){const i=this.a$,e=this.r$,h=this.$K,n=this.t$,r=this.u$;this.a$=1,this.r$=1,this.$K=1,this.t$=1,this.u$=0,this.O0();const o=this.gW(t,s);return this.a$=i,this.r$=e,this.$K=h,this.t$=n,this.u$=r,this.O0(),o}MW(t,s,i=0){return this.q2(t,s,i,this.NH())}bW(t,s,i=0){return this.q2(t,s,i,this.vW()*this.kz())}q2(t,s,i,e){const h=this.Pc,n=h.lb(),r=this.V1(),o=h.H0()/r,a=h.q0()/r,u=Dp;Ip.set(u,0,0,o,a);const l=this.s2(n),c=this.Q1(n),f=Ap;return Tp.OM.RM(t,s,i,c,l,u,f)?[f[0]*e,(u[3]-f[1])*e]:[NaN,NaN]}X2(t,s){return t*=this.vW()*this.kz(),0!==s&&(t*=this.V0(s)),t}Q2(t){const s=t.tY(),i=t.ZQ(),e=t.D2(),h=i+e,n=s.Za(),r=s.Ka(),o=s.$a(),a=s.tu();if(this.n1()){if(this.Z2(n,r,i)||this.Z2(o,r,i)||this.Z2(o,a,i)||this.Z2(n,a,i))return null;if(e>0&&(this.Z2(n,r,h)||this.Z2(o,r,h)||this.Z2(o,a,h)||this.Z2(n,a,h)))return null}else if(h>=this.J0())return null;let[u,l]=this.bW(n,r,i),[c,f]=this.bW(o,a,i);if(0!==this.XB()||e>0||this.n1()){const[t,s]=this.bW(o,r,i),[d,p]=this.bW(n,a,i);if(e>0){const[i,e]=this.bW(n,r,h),[m,g]=this.bW(o,r,h),[y,M]=this.bW(o,a,h),[w,S]=this.bW(n,a,h);let T=Math.min(u,c,t,d,i,m,y,w);c=Math.max(u,c,t,d,i,m,y,w),u=T,T=Math.min(l,f,s,p,e,g,M,S),f=Math.max(l,f,s,p,e,g,M,S),l=T}else{let i=Math.min(u,c,t,d);c=Math.max(u,c,t,d),u=i,i=Math.min(l,f,s,p),f=Math.max(l,f,s,p),l=i}}return bp.set(u,l,c,f),bp}_2(){return this.w$&&(this.K2(),this.w$=!1),this.M$}K2(){const t=this.Pc.lb(),s=this.s2(t),i=this.Q1(t);this.M$.YM(i,s)}Z2(t,s,i){return this._2().JM(t,s,i)}t3(){return{d:this.G0(),s:this.QU(),a:this.HU(),v:this.DU(),i:this.kU(),html:this.jU(),bc:this.ZK.toJSON(),t:this.rW(),sx:this.l$,sy:this.c$,hosp:this.f$,px:this.ZU(),py:this.tW(),c:this.Eb.toJSON(),sr:this.JU(),fx:this._$.ix(),cg:this.x$}}s3(t){this.HK=!!t.d,this.a$=t.s,this.u$=t.a,this.qK=!!t.v,this.XK=!t.hasOwnProperty("i")||t.i,this.YK=!!t.html,this.ZK.ya(t.bc),this.KK=!!t.t,t.hasOwnProperty("sx")&&(this.l$=t.sx),t.hasOwnProperty("sy")&&(this.c$=t.sy),t.hasOwnProperty("hosp")&&(this.f$=!!t.hosp),this.$K=t.px,this.t$=t.py,this.Eb.ya(t.c),this.U$(),this.r$=t.sr,Tp.vr(this.x$,t.cg),Tp.vr(this.b$,this.S$);const s=new Set(this.x$);let i=0;for(let t=0,e=this.b$.length;t<e;++t)s.has(this.b$[t][2])||(this.b$[i]=this.b$[t],++i);Tp.Mr(this.b$,i),this._$.hx(t.fx),this.O$=!0}i3(){this.c0(!1),this.dj(),this.O0(),this.t2()}eU(){return this.B$}RB(t,s=!1){if(this.dK.includes(t))s&&this.dK.sort(((t,s)=>t.oj().e3()-s.oj().e3()));else if(t.h3()){const s=[...t._Y()];s.push(t),s.sort(((t,s)=>t.oj().e3()-s.oj().e3()));for(const t of s)if(t.FW())for(const i of t.jW()){if(s.includes(i))continue;const t=[...i._Y()];t.push(i),t.sort(((t,s)=>t.oj().e3()-s.oj().e3())),t&&t.length&&s.splice(s.length,0,...t)}for(const t of s)t.MB().Jz()&&this.h0(t,!0)}else{if(t.MB().Jz()&&this.h0(t,!0),!t.FW())return;for(const s of t.jW()){const t=[...s._Y()];if(t.push(s),t.sort(((t,s)=>t.oj().e3()-s.oj().e3())),t&&t.length)for(const s of t)s.MB().Jz()&&this.h0(s,!0)}}}}}{let zp=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},Bp=function(t,s){Zp!==t&&(t.o2(s),Zp=t)};0;const Up=self.Gs,Wp=self.MQ,Qp=(self.assert,Up.Yh(Up.Rect),Up.Yh(Up.Rect),Up.Yh(Up.Rect)),Yp=Up.Yh(Up.xo),Vp=self.rs.ys,Jp=[],Hp=[],qp=[],Xp=[];let Zp=null;Up.n3=class extends Up.Wh{constructor(t,s,i){super(),this.r3=t,this.Pc=t.Rj(),this.qh=i[0],this.o3=i[1],this.a3=i[2],this._y=i[1],this.Ey=i[2],this.u3=!!i[3],this.l3=!!i[4],this.c3=i[5],this.f3=i[6],this.d3=i[7],this.m3=null,this.JK=i[8],this.IM=s,this.l$=0,this.c$=0,this.a$=1,this.u$=0,this.g3=new Set,this.y3=new Set,this.M3=new Set,this.w3=[],this.S3=[],this.T3=new Map,this.b3=new Map,this.x3=[],this.v3=!1,this.C3=Vp.create(),this.G3=Vp.create(),this.I3=Vp.create(),this._3=[],this.E3=[],this.A3=new Map,this.D3=new Map,this.N3=-1;const e=this.Pc.bj();this._$=Up.Yh(Up.E$,this,i[11]),this.$k=Up.Yh(Up.OM.UO,e.A$(),{DO:(t,s)=>{const i=s.Yk().FL();t.eL(),t.VL(i),t.JL(i),e.N$(i)},LO:t=>this.WB().L$(t)}),this.O$=!0,this.L3=!1,this.o$=null,this.O3={},this.R3=new Map,this.P3=!0,this.F3=new self.UB(this),this.j3=Up.Yh(Up.Event.yf);for(const t of i[9])this._3.push(Up.UK.Y$(this,null,t));this.z3();for(const t of this.rU())t.V$();for(const t of i[10]){const s=this.Pc.J$(t[1]);if(!s)throw new Error("missing nonworld object class");s.q$()||s.X$(t),this.x3.push(t),this.H$(s)}}Vh(){for(const t of this.E3)t.Vh();Up.wr(this.E3),this.M3.clear(),this.m3=null,this.r3=null,this.Pc=null}Rj(){return this.Pc}_c(){return this.qh}C0(){return this.JK}eP(){return this.IM}WB(){return this._$}iP(){return this._0(),this.$k}_0(){const t="low"===this.Pc.bj().g2();if(!this.O$&&this.L3===t&&!this.$k.OR())return;const s=this.WB().A0();this.$k.RR(s.map((t=>t.EG())),{RO:s.map((t=>t.eP())),PO:t,BO:!0}),this.O$=!1,this.L3=t}OV(){this.WB().OV(),this.O$=!0}B3(){let t=this.E3[0].V1();for(let s=1,i=this.E3.length;s<i;++s){const i=this.E3[s];0===i.ZU()&&0===i.tW()||(t=Math.min(t,i.V1()))}return t}U3(){return.5*this.Pc.H0()/this.B3()}W3(){return.5*this.Pc.q0()/this.B3()}k0(){return this.Q3()?-1/0:this.U3()}P0(){return this.Q3()?1/0:this.Bg()-this.U3()}F0(){return this.Q3()?-1/0:this.W3()}j0(){return this.Q3()?1/0:this.Zg()-this.W3()}ZB(t){const s=this.k0(),i=this.P0();t>i&&(t=i),t<s&&(t=s),this.l$!==t&&(this.l$=t,this.Y3(),this.Pc.pj())}KB(){return this.l$}$B(t){const s=this.F0(),i=this.j0();t>i&&(t=i),t<s&&(t=s),this.c$!==t&&(this.c$=t,this.Y3(),this.Pc.pj())}tU(){return this.c$}Q3(){return this.u3}Y2(){this.ZB(this.KB()),this.$B(this.tU());for(const t of this.E3)t.R0()&&(t.ZB(t.KB()),t.$B(t.tU()))}MU(t,s){this.c3===t&&this.f3===s||(this.c3=t,this.f3=s,this.V3()&&(this.J3(),this.Y3(),this.Pc.pj()))}W0(){return this.xU()?.5:this.c3}Q0(){return this.xU()?.5:this.f3}C2(){const t=this.W0(),s=this.Q0();return t<0||t>1||s<0||s>1}TU(){this.l3&&(this.l3=!1,this.J3(),this.Y3(),this.Pc.pj())}bU(){this.l3||(this.l3=!0,this.J3(),this.Y3(),this.Pc.pj())}xU(){return this.l3}V3(){return!this.xU()}H3(t){t=!!t,this.v3!==t&&(this.v3=t,this.Y3(),this.Pc.pj())}o1(){return this.v3}q3(t,s,i,e,h,n,r,o,a){zp(this.C3,t,s,i)&&zp(this.G3,e,h,n)&&zp(this.I3,r,o,a)||(Vp.set(this.C3,t,s,i),Vp.set(this.G3,e,h,n),Vp.set(this.I3,r,o,a),this.X3())}X3(){this.Y3(),this.Pc.pj()}i1(){return this.C3}Z1(){return this.G3}K1(){return this.I3}HB(){return this.a$}JB(t){this.a$!==t&&(this.a$=t,this.Y3(),this.Y2(),this.Pc.pj())}qB(t){t=Up.Kh(t),this.u$!==t&&(this.u$=t,this.Y3(),this.Pc.pj())}XB(){return this.u$}Bg(){return this._y}Hg(t){!isFinite(t)||t<1||(this._y=t)}Zg(){return this.Ey}Ug(t){!isFinite(t)||t<1||(this.Ey=t)}Z3(){return this.m3}v0(){return this._3}*rU(){for(const t of this._3)yield*t.AU()}nU(){return this.E3}K3(){return this.E3.length}aj(t){return"number"==typeof t?this.lj(t):this.w0(t.toString())}lj(t){return t=Up.Zh(Math.floor(t),0,this.E3.length-1),this.E3[t]}w0(t){return this.A3.get(t.toLowerCase())||null}t4(t){return!!this.w0(t)}s4(t){return this.D3.get(t)||null}J3(){for(const t of this.E3)t.t2()}Y3(){for(const t of this.E3)t.O0()}lU(t,s,i){if(this.t4(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=i>=2?s:s.CU(),h=Up.Yh(Up.UK,this,e,{name:t,NK:Math.floor(1e15*Math.random()),LK:!0});this.i4(h,s,i),this.Rj().pj(),this.b0()}fU(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.e4(t),this.i4(t,s,i),this.Rj().pj(),this.b0())}pU(t){if(this.e4(t)){const s=this.Pc.FP();s.kB(!0),t.Vh(),s.kB(!1),this.Rj().pj(),this.b0()}}gU(){const t=new Set;for(const s of this.rU())s.G0()&&!s.I0()&&t.add(s);if(0===t.size)return;const s=this.Pc.FP();s.kB(!0);for(const s of t)this.e4(s),s.Vh();s.kB(!1),this.Rj().pj(),this.b0()}i4(t,s,i){if(i>=2)if(s){if(s===t||s.w1(t))throw new Error(`cannot move layer '${t._c()}' to sub-layer of itself`);s.f1(t,2===i),t.l1(s)}else 2===i?this._3.push(t):this._3.unshift(t),t.l1(null);else{const e=s.CU();if(e){if(s.w1(t))throw new Error(`cannot move layer '${t._c()}' to sub-layer of itself`);e.d1(t,s,0===i),t.l1(e)}else{let e=this._3.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");0===i&&++e,this._3.splice(e,0,t),t.l1(null)}}}e4(t){const s=t.CU();if(s)return s.m1(t),!0;if(this._3.length>1){const s=this._3.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");return this._3.splice(s,1),!0}return!1}z3(){this.E3=[...this.rU()],this.A3.clear(),this.D3.clear();for(let t=0,s=this.E3.length;t<s;++t){const s=this.E3[t];s.S0(t),this.A3.set(s._c().toLowerCase(),s),this.D3.set(s.C0(),s)}}h4(){let t=0;for(const s of this._3){for(const i of s.AU())i.T0(t);s.jU()&&t++}}n4(){return this._3.at(-1).vH()+1}async b0(){this.z3(),this.h4(),this.N3=this.n4()}r4(){return this.N3}o4(){this.N3=-1}_1(t){const s=[];for(const i of this._3){const e=i.vH();if(e===t)s.push(i);else if(e>t)break}return s}T1(){return{scrollX:this.KB(),scrollY:this.tU(),scale:this.HB(),angle:this.XB(),vpX:this.W0(),vpY:this.Q0()}}b1(t){this.ZB(t.scrollX),this.$B(t.scrollY),this.JB(t.scale),this.qB(t.angle),this.MU(t.vpX,t.vpY)}a4(){let t=this._3.filter((t=>t.M1()))[0];for(;t;){if(!t.rW())return Yp.ko(t.cW()),Yp.Ro(1),Yp;if(t.j1())return Yp._o(0,0,0,0),Yp;t=t._U().filter((t=>t.M1()))[0]}return Yp._o(0,0,0,0),Yp}t0(){return this.P3}u4(){return[...this.g3]}H$(t){if(t.FW())for(const s of t.c4().l4())this.g3.add(s);else this.g3.add(t)}f4(){return[...this.y3]}d4(t,s){if(t===this||!s)return Promise.resolve();t&&(Up.po(this.y3,t.y3),t.y3.clear());const i=[];for(const t of this.g3)this.y3.has(t)||(i.push(t.m4(s)),this.y3.add(t));return Promise.all(i)}async g4(t){if(t.y0())throw new Error("cannot load textures for family");const s=this.Pc.lb();if(!s||s.KA()||this.y3.has(t))return;this.y3.add(t);const i=t.m4(s);this.y4(i),await i,t.M4(),this.Pc.pj()}y4(t){this.M3.add(t),t.then((()=>this.M3.delete(t))).catch((()=>this.M3.delete(t)))}w4(){return Promise.all([...this.M3])}S4(t){if(t.y0()||t.NB()>0)throw new Error("cannot unload textures");const s=this.Pc.lb();s&&this.y3.has(t)&&(this.y3.delete(t),t.T4(s))}b4(t,s){if(t!==this&&s)for(const s of this.y3)s.e0()||t.g3.has(s)||(s.T4(),this.y3.delete(s))}x4(){this.y3.clear()}async v4(t){const s=this.Pc,i=this.r3,e=s.FP();this.d3&&(this.m3=e.C4(this.d3),this.m3.G4()),i.I4(this),this._y=this.o3,this.Ey=this.a3,this.l$=s.vP()/2,this.c$=s.GP()/2,this.Y2(),this.J3(),this.Y3(),this.h4(),await this.Pc.bj()._4(this.n4(),!0),this.E4(t),this.Pc.A4(!0),this.D4(),this.P3||this.N4(),this.L4(this.w3),this.L4(this.S3),this.O4(),i.R4(),s.BB(),this.Pc.A4(!1);const h=this.Pc.P4();if(await Promise.all(h),Up.wr(h),!s.F4()){for(const t of this.w3)t.j4();for(const t of this.S3)t.z4(this.T3,this.b3);for(const[t,s]of Object.entries(this.O3)){const i=this.Pc.cq(parseInt(t,10));i&&!i.y0()&&i.s0()&&Up.wr(s)}for(const t of this.w3)t.B4();for(const t of this.S3)t.B4();for(const t of this.w3)t.LY()||t.U4();for(const t of this.S3)t.LY()||t.U4()}Up.wr(this.w3),Up.wr(this.S3),this.T3.clear(),this.b3.clear(),await Promise.all([...this.g3].map((t=>t.W4(this.Pc.lb())))),t&&(s.yf().dispatchEvent(new Up.Event("beforefirstlayoutstart")),await s.Q4(new Up.Event("beforeprojectstart"))),await this.Y4(new Up.Event("beforeanylayoutstart")),s.yf().dispatchEvent(new Up.Event("beforelayoutstart")),await this.Q4(new Up.Event("beforelayoutstart")),s.F4()||await s.vj(Up._j.Ij.Gj.V4,null,null),s.yf().dispatchEvent(new Up.Event("afterlayoutstart")),await this.Q4(new Up.Event("afterlayoutstart")),await this.Y4(new Up.Event("afteranylayoutstart")),t&&(s.yf().dispatchEvent(new Up.Event("afterfirstlayoutstart")),await s.Q4(new Up.Event("afterprojectstart"))),e.J4(i),await this.w4(),this.P3=!1}E4(t){for(const t of this.Pc.g0())if(!t.y0()&&t.Jz())for(const s of t.EB()){const t=s.oj(),i=t.aj(),e=Up.Zh(i.eP(),0,this.E3.length-1),h=this.E3[e];t.fj(h,!0),h.n0(s)}if(!t)for(const t of this.E3)t.c0(!1)}D4(){for(const t of this.E3)t.$$(this.w3),t.d0()}N4(){let t=!1;for(const[s,i]of Object.entries(this.O3)){const e=this.Pc.cq(parseInt(s,10));if(e&&!e.y0()&&e.s0())for(const s of i){let i=null;if(e.Jz()&&(i=s.hasOwnProperty("instJson")?this.s4(s.instJson.w.l):this.s4(s.w.l),!i))continue;const h=this.Pc.i0(e,i,!1,0,0,!0);s.hasOwnProperty("instJson")?h.hx(s.instJson):h.hx(s),t=!0,this.S3.push(h),s.hasOwnProperty("instJson")&&(this.T3.set(h,s),this.b3.set(s.index,h))}}for(const t of this.E3)t.c0(!0),t.dj();t&&(this.Pc.BB(),this.Pc.H4())}L4(t){for(const s of t){if(!s.FW())continue;const i=s.oj(),e=s.UW();for(const h of s.IW().c4().q4()){if(h===s.IW())continue;const n=h.EB();if(n.length>e)s.X4(n[e]);else{let e;e=i?this.Pc.i0(h,i.aj(),!0,i.Wb(),i.Vb(),!0):this.Pc.i0(h,null,!0,0,0,!0),this.Pc.BB(),h.Z4(),s.X4(e),t.push(e)}}}}O4(){for(const t of this.x3)this.Pc.J$(t[1]).FW()||this.Pc.i0(t,null,!0)}K4(){const t=[],s=this.x3;let i=0;for(let e=0,h=s.length;e<h;++e){const h=s[e],n=this.Pc.J$(h[1]);n.e0()?n.FW()&&n.c4().t5()||t.push(this.Pc.i0(h,null,!0)):(s[i]=h,++i)}Up.Mr(s,i),this.Pc.BB(),this.L4(t)}m0(t,s,i,e,h,n,r){if(i)return i.m0(t,s,h,n,e,r);{const i=[];for(const o of this.E3)i.push(o.m0(t,s,h,n,e,r));return i.flat()}}async s5(){const t=this.r3;this.Pc.F4()||(await this.Y4(new Up.Event("beforeanylayoutend")),await this.Q4(new Up.Event("beforelayoutend")),await this.Pc.vj(Up._j.Ij.Gj.i5,null,null),await this.Q4(new Up.Event("afterlayoutend")),await this.Y4(new Up.Event("afteranylayoutend"))),t.e5(!0),this.Pc.FP().h5(),this.P3||this.n5();for(const t of this.E3)t.p0();for(const t of this.Pc.g0())if(!(t.e0()||t.Jz()||t.MB().Yz()||t.y0())){for(const s of t.EB())this.Pc.LW(s);this.Pc.BB()}t.e5(!1),t.jF()===this&&t.I4(null)}r5(t,s){const i=t.IW().C0().toString();this.O3.hasOwnProperty(i)||(this.O3[i]=[]);const e=this.O3[i],h={index:s,instJson:t.ix(),sceneGraphJson:{children:[]}};e.push(h),this.R3.set(t,h)}o5(t){const s=this.R3.get(t);for(const i of t.a5()){const t=this.R3.get(i);t&&s.sceneGraphJson.children.push({index:t.index,flags:Up.l5.u5(i.oj())})}}n5(){this.R3.clear();let t=0;for(const s of this.E3){s.C1();for(const i of s.cj()){const s=i.IW();!s.e0()&&s.s0()&&(this.r5(i,t),t++)}}for(const t of this.E3)for(const s of t.cj()){const t=s.IW();!t.e0()&&t.s0()&&this.o5(s)}this.R3.clear()}c5(){this.O3={},this.P3=!0}FL(){return this.o$}j1(){const t=this.Pc,s=t.lb().kT();return"low"===t.bj().g2()||s&&t.m2()||this._$.z1()||s&&t.h1()}f5(t){const s=this.Pc.bj();if(this.j1()){t.QL(null),t.DL(0,0,0,0);const i={qx:this.Pc.IP(),kv:t.tS()||this.Pc.m2()||this._$.z1(),d2:!!t.tS()&&this.Pc.m2()};"low"===s.g2()&&(i.width=s.e2(),i.height=s.h2()),this.o$=this.Pc.M2(i)}else this.o$=null}d5(t){this.Pc.p5(t)&&(t.OL(!1),t.QL(null),t.aS(),t.YL(this.o$))}m5(t){this.j1()&&(t.OL(!1),this.g5(t,this.o$))}y5(t){t.QL(this.o$),t._l(this.a4()),this.Pc.h1()&&t.LL();const s=this._1(0);this.w2(t,this.o$,s,!0),t.tS()&&t.f2(0,1),this.m5(t),this.o$=null}M5(t,s){let i=null;this.Pc.p5(t)&&(i=this.o$),t.QL(i),t.DL(0,0,0,0),this.Pc.h1()&&t.LL();const e=this._1(s);this.w2(t,i,e,!0),this.d5(t),t.ET(),this.Pc.bj().w5(s)}w2(t,s,i,e){const h=i.filter((t=>t.M1()));for(let i=0,n=h.length;i<n;){const r=h[i];if(r.a1()&&!r.B1()){Jp.push(r);for(let t=i+1;t<n;++t){const s=h[t];if(!s.a1()||s.B1())break;Jp.push(h[t])}if(Jp.length>=2||1===Jp.length&&Jp[0].g1()){this.S5(t,s,Jp),i+=Jp.length,Up.wr(Jp);continue}Up.wr(Jp)}r.Fx(t,s,e&&0===i),++i}}g5(t,s){const i=this._$.A0(),e=this.Pc;0===i.length?(t.QL(null),t.aS(),t.YL(s),t.JL(s),e.N$(s)):(Qp.set(0,0,e.H0(),e.q0()),this.iP().YR(t,null,{JR:this,qR:3,devicePixelRatio:this.Pc.B2(),XR:this.Pc.W2()*this.HB(),ZR:this.XB(),xk:Qp,vk:null,OO:!0}))}S5(t,s,i){i[0].rW()||(Yp.ko(i[0].cW()),Yp.Ro(1),t._l(Yp)),this.Pc.bj(),t.OL(!0);const e=Hp,h=qp,n=Xp;for(const t of i)t.C1(),t.s1(e);const r=i[0],o=r.a2(t);r.c2(t);for(let i=0,r=e.length;i<r;){const o=e[i],a=o.oj(),u=a.aj();if(!a.OU()||!a.E2(u._2())){++i;continue}(!o.A2()||a.D2()>0)&&n.push(o);const l=o.oj().ZQ();h.push(o);let c=i+1;for(;c<r;++c){const t=e[c],s=t.oj();if(s.OU()&&s.E2(s.aj()._2())){if(s.ZQ()!==l)break;t.A2()?(s.D2()>0&&n.push(t),h.push(t)):n.push(t)}}if(1!==h.length||h[0].N2()){this.T5(t,s,h);for(let i=0,e=n.length;i<e;++i){const e=n[i],h=e.oj(),r=h.aj();h.O2(!0),Bp(r,t),r.I2(e,h,t,s),h.O2(!1)}}else{Bp(u,t),u.I2(o,a,t,s);for(let i=0,e=n.length;i<e;++i){const e=n[i];if(e===o)continue;const h=e.oj(),r=h.aj();Bp(r,t),r.I2(e,h,t,s)}}i=c,Up.wr(h),Up.wr(n)}o&&t.sO(o),Up.wr(e),Zp=null}T5(t,s,i){t.qL();for(let s=0,e=i.length;s<e;++s){const e=i[s],h=e.oj(),n=h.aj();h.R2(!0),Bp(n,t),n.P2(e,h,t)}t.XL();for(let e=0,h=i.length;e<h;++e){const h=i[e],n=h.oj(),r=n.aj();Bp(r,t),r.I2(h,n,t,s),n.R2(!1)}t.KL()}t3(){const t={sx:this.KB(),sy:this.tU(),s:this.HB(),a:this.XB(),w:this.Bg(),h:this.Zg(),ortho:this.xU(),vpX:this.W0(),vpY:this.Q0(),fv:this.P3,persist:this.O3,fx:this._$.ix(),layers:{},dynamicLayers:[]};for(const s of this.E3)if(s.G0()){const i=s.CU();t.dynamicLayers.push({sid:s.C0(),name:s._c(),parentSid:i?i.C0():null,siblingIndex:s.x0(),data:s.t3()})}else t.layers[s.C0().toString()]=s.t3();return t}s3(t){this.l$=t.sx,this.c$=t.sy,this.a$=t.s,this.u$=t.a,this._y=t.w,this.Ey=t.h,this.l3=!!t.ortho,t.hasOwnProperty("vpX")&&(this.c3=t.vpX),t.hasOwnProperty("vpY")&&(this.f3=t.vpY),this.P3=!!t.fv,this.O3=t.persist,this._$.hx(t.fx),this.O$=!0;for(const[s,i]of Object.entries(t.layers)){const t=parseInt(s,10),e=this.s4(t);e&&e.s3(i)}if(t.hasOwnProperty("dynamicLayers")){this.gU(),this.Pc.BB();const s=new Map,i=t.dynamicLayers;for(let t=i.length-1;t>=0;--t){const e=i[t],h=e.sid,n=e.name,r=e.parentSid,o=e.siblingIndex,a=e.data;if(this.z3(),this.t4(n)||this.s4(h))continue;let u,l;if(null===r)u=null,l=this._3;else{if(u=this.s4(r),!u)continue;l=u._U()}const c=Up.Yh(Up.UK,this,u,{name:n,NK:h,LK:!0});l.push(c);let f=s.get(l);f||(f=[],s.set(l,f)),f.push({PQ:c,b5:o}),c.s3(a)}for(const[t,i]of s){i.sort(((t,s)=>t.b5-s.b5));for(const s of i){const i=s.PQ,e=s.b5;let h=t.indexOf(i);t.splice(h,1),t.splice(e,0,i)}}}this.b0(),this.J3(),this.Y3()}zF(){return this.F3}OP(){return this.j3}x5(t){t.layout=this.zF();const s=this.Pc,i=s.yQ()&&!s.FP().jB();i&&Wp.v5(),this.j3.dispatchEvent(t),i&&Wp.C5()}Q4(t){return t.layout=this.zF(),this.j3.Cf(t)}Y4(t){return t.layout=this.zF(),this.Pc.Q4(t)}G5(){this.I5(this._3)}I5(t,s=0){const i=t.slice(0);i.reverse();for(const t of i)console.log(`${"\t".repeat(s)}- ${t._c()}`),this.I5(t._U(),s+1)}}}{const Kp=self.Gs;Kp._5=class extends Kp.Wh{#s;#i=[];#f=new Map;#a=new Map;#e=null;#t=[];#n=null;#r=0;#d=null;constructor(t){super(),this.#s=t}Vh(){this.#s=null,this.#e=null,this.#n=null,this.#d=null,Kp.wr(this.#i),this.#f.clear(),this.#a.clear(),Kp.wr(this.#t)}AC(t){const s=Kp.Yh(Kp.n3,this,this.#i.length,t);this.#i.push(s),this.#f.set(s._c().toLowerCase(),s),this.#a.set(s.C0(),s)}Rj(){return this.#s}E5(t){this.#n=t}A5(){if(this.#n)return this.#n;if(this.#i.length)return this.#i[0];throw new Error("no first layout")}D5(t){return this.#f.get(t.toLowerCase())||null}N5(t){return this.#a.get(t)||null}L5(t){return t=Kp.Zh(Math.floor(t),0,this.#i.length-1),this.#i[t]}WF(t){return"number"==typeof t?this.L5(t):this.D5(t.toString())}YF(){return this.#i}I4(t){this.#e=t}jF(){return this.#e}O5(t){if(this.#t.includes(t))throw new Error("layout already running");this.#t.push(t)}R5(t){const s=this.#t.indexOf(t);if(-1===s)throw new Error("layout not running");this.#t.splice(s,1)}*k5(){this.#e&&(yield this.#e),this.#t.length&&(yield*this.#t)}P5(t){return this.#e===t||this.#t.includes(t)}e5(t){if(t)this.#r++;else{if(this.#r<=0)throw new Error("already unset");this.#r--}}zB(){return this.#r>0}HF(t){this.#d=t}R4(){this.#d=null}JF(){return!!this.#d}F5(){return this.#d}j5(){const t=this.jF();t&&t.J3()}z5(){const t=this.jF();t&&t.Y3()}}}{const $p=self.Gs,tm=new RegExp("<(.+?)>","g");$p.B5=class extends $p.Wh{constructor(t){super(),this.Pc=t,this.U5=$p.Yh($p.W5),this.Q5=null,this.Y5=[],this.V5=new Map,this.J5=new Map,this.H5=new Map,this.q5=[],this.X5=[],this.Z5=[],this.K5=!1,this.t6=!1,this.s6=!1,this.i6=()=>this.e6(),this.h6=()=>this.n6(),this.r6=()=>this.o6(),this.a6=()=>this.u6(),this.l6=t=>this.c6(t.IV),this.f6=t=>this.d6(),this.p6=t=>this.m6(),this.g6=t=>this.y6(),this.M6=[],this.w6=0}Vh(){this.S6(),this.i6=null,this.h6=null,this.r6=null,this.a6=null,this.l6=null,this.p6=null;for(const t of this.Y5)t.MJ(),t.Vh();$p.wr(this.Y5),this.Y5=null,this.U5.Vh(),this.U5=null,$p.wr(this.q5),this.q5=null,$p.wr(this.X5),this.X5=null,$p.wr(this.Z5),this.Z5=null,this.V5.clear(),this.V5=null,this.J5.clear(),this.J5=null,this.H5.clear(),this.H5=null,$p.wr(this.M6),this.M6=null,this.Pc=null}T6(){const t=this.Pc.yf();t.addEventListener("pretick",this.i6),t.addEventListener("tick2",this.h6),t.addEventListener("beforelayoutchange",this.r6),t.addEventListener("layoutchange",this.a6),t.addEventListener("instancedestroy",this.l6),t.addEventListener("beforeload",this.f6),t.addEventListener("afterload",this.p6),t.addEventListener("afterlayoutstart",this.g6)}S6(){const t=this.Pc.yf();t.removeEventListener("pretick",this.i6),t.removeEventListener("tick2",this.h6),t.removeEventListener("beforelayoutchange",this.r6),t.removeEventListener("layoutchange",this.a6),t.removeEventListener("instancedestroy",this.l6),t.removeEventListener("beforeload",this.f6),t.removeEventListener("afterload",this.p6),t.removeEventListener("afterlayoutstart",this.g6)}AC(t){this.U5.Fl(t);const s=$p.x6.b6(t,this);this.Fl(s),this.v6(s),this.H5.set(s._c(),0)}C6(t){const s=this.G6(),i=t.QW(),e=s.Ys(i),h=$p.x6.C6(`${i}:${this.H5.get(i)}`,e,this);return this.I6(i),this.Fl(h),h}I6(t){this.H5.set(t,this.H5.get(t)+1)}_6(){for(const t of this.Y5){if(t.E6())continue;const s=t.QW();this.I6(s)}}A6(){for(const t of this.H5.keys())this.H5.set(t,0)}Fl(t){this.Y5.push(t),this.V5.set(t._c().toLowerCase(),t)}Xf(t){t.D6(),t.E6()||($p.Gr(this.Y5,t),$p.Gr(this.q5,t),$p.Gr(this.X5,t),$p.Gr(this.Z5,t),this.V5.delete(t._c().toLowerCase()),this.N6(t),t.gJ()||t.Vh())}uQ(t){this.Pc.uQ(t,this.Q5,null)}Rj(){return this.Pc}G6(){return this.U5}L6(t){this.Q5=t}O6(){return this.Q5}*R6(){for(const t of this.Y5)yield t}*k6(){for(const t of this.X5)yield t}P6(t,s){this.J5.has(t)||this.J5.set(t,new Set),this.J5.get(t).add(s)}v6(t){for(const s of t.F6())this.P6(s,t)}N6(t){for(const[s,i]of this.J5.entries())i.has(t)&&(i.delete(t),0===i.size&&this.J5.delete(s))}j6(t){if(this.J5.has(t))return this.J5.get(t)}z6(t,s){if(s)for(const i of this.Y5)if(s.every((t=>i.B6(t.IV,t.trackId)))&&i._c().includes(t._c()))return i}U6(t){return this.V5.get(t.toLowerCase())||null}W6(t){for(const s of this.q5)if(s._c()===t)return s;for(const s of this.X5)if(s._c()===t)return s;return null}*Q6(t){if(tm.test(t)){let s;tm.lastIndex=0;const i=new Set;do{if(s=tm.exec(t),s){const t=s[1].split(",");for(const s of t)i.add(s)}}while(s);for(const t of i.values()){const s=this.U6(t);s&&(yield s)}i.clear()}else{const s=this.U6(t);s&&(yield s)}}*Y6(t){for(const s of this.Y5)s.SJ(t)&&(yield s)}V6(t){this.q5.includes(t)||this.q5.push(t),this.J6()}H6(t){$p.Gr(this.X5,t),this.q6()}X6(t){this.X5.includes(t)?(t.Z6(!0),t.K6(!1),t.t8(!1)):(t.Z6(!1),t.K6(!0),t.t8(!1),this.q5.includes(t)||this.q5.push(t)),this.J6()}s8(t){t.Z6(!1),t.K6(!1),t.i8(),$p.Gr(this.q5,t),this.q6()}e8(t){t.Z6(!1),t.K6(!1),this.X5.includes(t)&&(t.t8(!0),this.Z5.push(t),$p.Gr(this.X5,t)),this.q5.includes(t)&&t.t8(!0)}h8(t){t.Z6(!1),t.K6(!1),t.t8(!1),t._J(1),$p.Gr(this.X5,t)}n8(t){this.e8(t),t.i8()}e6(){const t=this.Rj();if(t.F4())return;if(!this.K5)return;if(this.t6)return;let s=0;for(t.yQ()&&(s=performance.now()),this.s6=!0;this.q5.length;){const t=this.q5.pop();t.r8()?(t.o8(),this.Z5.push(t)):(t.a8(),this.X5.push(t)),0!==t.u8()&&(this.w6=1)}const i=this.Pc.l8(),e=this.Pc.c8(),h=this.Pc.mF();for(let t=this.X5.length-1;t>=0;t--){const s=this.X5[t];s&&s.f8(i,h,e)}this.s6=!1,t.yQ()&&globalThis.MQ.d8(performance.now()-s),0!==this.w6&&t.pj()}n6(){const t=this.Rj();if(t.F4())return;if(!this.K5)return;if(this.t6)return;let s,i=0;t.yQ()&&(i=performance.now());for(let t=0,i=this.Z5.length;t<i;t++){const i=this.Z5[t];s||(s=new Set),i.D6(),this.p8(i),s.add(i)}if(s){$p.Er(this.Z5,s),this.w6=0;for(let t=0,s=this.X5.length;t<s;t++)if(0!==this.X5[t].u8()){this.w6=1;break}}this.q6(),t.yQ()&&globalThis.MQ.d8(performance.now()-i)}p8(t){t.gJ()||t.m8()&&t.g8()&&t.y8()&&t.M8()}J6(){this.K5||(this.K5=!0)}q6(){this.Z5.length||this.X5.length||this.q5.length||this.s6||(this.K5=!1)}o6(){for(this.t6=!0;this.q5.length;)this.s8(this.q5.pop());const t=new Set;for(const s of this.X5)s.o6()&&(s.D6(),t.add(s));$p.Er(this.X5,t),t.clear();for(const s of this.Z5)s.o6()&&(s.D6(),t.add(s));$p.Er(this.Z5,t),this.q6();for(const t of this.Y5)t.w8()}u6(){this.t6=!1}c6(t){const s=t.IW(),i=this.j6(s);if(i)if(this.Pc.F4())this.M6.push(t);else for(const t of i)t.E6()||(t.gJ()?this.Xf(t):t.m8()||(this.p8(t),this.Xf(t)))}d6(){for(const t of this.q5.map((t=>t)))this.p8(t),this.Xf(t);for(const t of this.X5.map((t=>t)))this.p8(t),this.Xf(t)}m6(){for(const t of this.M6)this.c6(t);$p.wr(this.M6);for(const t of this.Y5)t.m6()}y6(){const t=this.Pc.UF().jF();if(t)for(const s of this.Y5){const i=s.S8();i&&t._c()===i&&this.X6(s)}}t3(){return{timelinesJson:this.T8(),scheduledTimelinesJson:this.b8(),playingTimelinesJson:this.x8(),markedForRemovalTimelinesJson:this.v8(),hasRuntimeListeners:this.K5,changingLayout:this.t6,isTickingTimelines:this.s6}}s3(t){t&&(this.A6(),this.C8(t.timelinesJson),this.G8(t.scheduledTimelinesJson),this.I8(t.playingTimelinesJson),this._8(t.markedForRemovalTimelinesJson),this.K5=!t.hasRuntimeListeners,this.t6=!!t.changingLayout,this.s6=!!t.isTickingTimelines,this._6(),this.J6(),this.q6())}T8(){return this.Y5.map((t=>t.t3()))}C8(t){for(const s of t){let t=this.U6(s.name);if(t)t.s3(s);else{const i=this.E8(s);if(!i)continue;const e=this.U6(i);t=this.C6(e),t.s3(s)}t.A8()||this.Xf(t)}}E8(t){const s=t.name.split(":");return s&&2===s.length?s[0]:null}b8(){return this.D8(this.q5)}G8(t){this.N8(t,this.q5)}x8(){return this.D8(this.X5)}I8(t){this.N8(t,this.X5)}v8(){return this.D8(this.Z5)}_8(t){this.N8(t,this.Z5)}L8(t,s){if(!s)return!1;for(const i of s)if(i===t._c())return!0;return!1}D8(t){return t.map((t=>t._c()))}N8(t,s){const i=new Set;for(const e of s)this.L8(e,t)||i.add(e);if($p.Er(s,i),t){const i=t=>s=>s._c()===t;for(const e of t){const t=this.U6(e);t&&(s.find(i(e))||s.push(t))}}}}}{const sm=self.Gs,im=[0,0],em=[0,0],hm=[0,0],nm=[0,0,0,0,0],rm=new Array(4),om=[{x:0,y:0,t:0,St:0},{x:0,y:0,t:0,St:0},{x:0,y:0,t:0,St:0}],am={x:0,y:0,t:0,St:0};sm.O8=class{constructor(t,s){this.k8=!1,this.P8=t,this.F8=[];let i=null;if(i=s?this.P8.j8(s):sm.jr(this.P8.z8()),!i)return;const e=i.HJ("offsetX"),h=i.HJ("offsetY");if(!e||!h)return;this.B8=e,this.U8=h;const n=e.W8(),r=h.W8();for(let t=1,s=Math.min(n.length,r.length);t<s;++t){const s=n[t],i=(s.Q8(),s.Y8()),e=r[t],h=(e.Q8(),e.Y8());i&&"cubic-bezier"===i.V8()&&h&&"cubic-bezier"===h.V8()?this.F8.push(sm.Yh(sm.J8,i,h,s,e,this.F8.length)):(i&&"line"===i.V8()&&h&&h.V8(),this.F8.push(sm.Yh(sm.H8,s,e,this.F8.length)))}this.k8=!0}Vh(){for(const t of this.F8)t.Vh();sm.wr(this.F8),this.F8=null,this.P8=null,this.B8=null,this.U8=null}q8(){return this.k8}X8(){return this.F8}Z8(t){const s="relative"===this.B8.K8()?t.Wb():0,i="relative"===this.U8.K8()?t.Vb():0;for(const t of this.F8)t.Z8(s,i)}RM(t,s,i){let e=NaN,h=this.F8.length;for(let i=0;i<h;i++){const h=this.F8[i];if("cubic-bezier"===h.NG()){const i=h.RM(t,s);(isNaN(e)||i[3]<e)&&(e=i[3],hm[0]=i[2],hm[1]=h.eP())}}return hm}t7(t,s,i){const e=i.s7;sm.$i(e[0])||(e[0]=0),sm.$i(e[1])||(e[1]=1);let h=NaN,n=this.F8.length;for(let i=0;i<n;i++){const n=this.F8[i];if("cubic-bezier"===n.NG()){const i=n.i7(t,s,e);(isNaN(h)||i[3]<h)&&(h=i[3],hm[0]=i[2],hm[1]=n.eP())}}return hm}e7(t,s){return this.F8[s].e7(t)}h7(t,s){return this.F8[s].h7(t)}},sm.J8=class{constructor(t,s,i,e,h){this.IM=h;const n=t.n7("cubic-bezier"),r=i.n7("cubic-bezier"),o=s.n7("cubic-bezier"),a=e.n7("cubic-bezier");this.r7=t.o7(),this.a7=s.o7(),this.u7=t.o7()+n.l7(),this.c7=s.o7()+o.l7(),this.f7=i.o7()+r.d7(),this.p7=e.o7()+a.d7(),this.m7=i.o7(),this.g7=e.o7(),this.y7=0,this.M7=0,this.w7=0,this.S7=0,this.T7=0,this.b7=0,this.x7=0,this.v7=0,this.C7=0,this.G7=0,this.I7=0,this._7=0,this.E7=0,this.A7=0,this.D7=0,this.N7=0,this.L7=0,this.O7=0,this.R7=0,this.k7=0,this.P7=NaN,this.k8=!1,this.F7=100,this.j7=new Array(this.F7+1),this.j7[0]=0,this.z7=0,this.B7=[],this.U7=[];for(let t=0;t<100;t++)this.U7.push({x:0,y:0,t:0,St:0});this.W7()}Vh(){sm.wr(this.j7),this.j7=null,sm.wr(this.B7),this.B7=null,sm.wr(this.U7),this.U7=null}NG(){return"cubic-bezier"}eP(){return this.IM}Q7(){return Math.floor(this.z7/25)}Y7(){return 1/this.Q7()}Z8(t,s){this.V7=t,this.J7=s,this.j7=new Array(this.F7+1),this.j7[0]=0,this.W7(),this.y7=this.r7+this.V7,this.M7=this.a7+this.J7,this.w7=this.u7+this.V7,this.S7=this.c7+this.J7,this.T7=this.f7+this.V7,this.b7=this.p7+this.J7,this.x7=this.m7+this.V7,this.v7=this.g7+this.J7,this.C7=3*(this.w7-this.y7),this.G7=3*(this.S7-this.M7),this.I7=3*(this.T7-this.w7),this._7=3*(this.b7-this.S7),this.E7=3*(this.x7-this.T7),this.A7=3*(this.v7-this.b7),this.D7=3*(this.w7-this.y7),this.N7=3*(this.y7+this.T7-2*this.w7),this.L7=this.x7-this.y7+3*(this.w7-this.T7),this.O7=3*(this.S7-this.M7),this.R7=3*(this.M7+this.b7-2*this.S7),this.k7=this.v7-this.M7+3*(this.S7-this.b7)}Map(t){if(!this.k8)return NaN;const s=this.H7(t);return em[0]=this.q7(s),em[1]=this.X7(s),em}RM(t,s){const i=this.Z7(100),e=this.K7(t,s,i),h=this.t9(t,s,i,e);return nm[0]=h.x,nm[1]=h.y,nm[2]=h.t,nm[3]=h.St,nm}i7(t,s,i){const e=this.Z7(100),h=this.s9(t,s,e,i),n=this.t9(t,s,e,h);return nm[0]=n.x,nm[1]=n.y,nm[2]=n.t,nm[3]=n.St,nm}e7(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,n=i*this.C7+e*this.I7+h*this.E7,r=i*this.G7+e*this._7+h*this.A7,o=sm.sn(n,r);return im[0]=n/o,im[1]=r/o,im}h7(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,n=i*this.C7+e*this.I7+h*this.E7,r=i*this.G7+e*this._7+h*this.A7;return Math.atan2(r,n)}H7(t){if(!this.k8)return;let s=t*this.j7[this.F7],i=0,e=this.F7,h=0;for(;i<e;)h=i+((e-i)/2|0),this.j7[h]<s?i=h+1:e=h;this.j7[h]>s&&h--;const n=this.j7[h];return n===s?h/this.F7:(h+(s-n)/(this.j7[h+1]-n))/this.F7}q7(t){return this.k8?self.Bl.hc("cubicbezier")(t,this.r7+this.V7,this.u7+this.V7,this.f7+this.V7,this.m7+this.V7):NaN}X7(t){return this.k8?self.Bl.hc("cubicbezier")(t,this.a7+this.J7,this.c7+this.J7,this.p7+this.J7,this.g7+this.J7):NaN}Z7(t){if(t=t||100,this.B7.length>=t)return this.B7;this.B7=new Array(t),t++;for(let s=0;s<t-1;s++){const i=s/(t-1),e=i**2,h=i**3,n=this.D7*i,r=this.N7*e,o=this.L7*h,a=this.O7*i,u=this.R7*e,l=this.k7*h,c=this.y7+n+r+o,f=this.M7+a+u+l;this.U7[s].x=c,this.U7[s].y=f,this.U7[s].t=i,this.U7[s].St=0,this.B7[s]=this.U7[s]}return this.B7}K7(t,s,i,e=null,h=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.P7))for(let e=0;e<100;e++){const r=i[e],o=r.x-t,a=r.y-s;r.St=o*o+a*a,r.St<h&&(h=r.St,n=e)}else{for(let e=this.P7;e<this.P7+5&&!(e>=i.length);e++){const r=i[e],o=r.x-t,a=r.y-s;r.St=o*o+a*a,r.St<h&&(h=r.St,n=e)}for(let e=this.P7;e>this.P7-5&&!(e<0);e--){const r=i[e],o=r.x-t,a=r.y-s;r.St=o*o+a*a,r.St<h&&(h=r.St,n=e)}}return this.P7=n,n}s9(t,s,i,e,h=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.P7))for(let r=0;r<100;r++){const o=i[r],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<h&&(h=o.St,n=r)}else{for(let r=this.P7;r<this.P7+5&&!(r>=i.length);r++){const o=i[r],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<h&&(h=o.St,n=r)}for(let r=this.P7;r>this.P7-5&&!(r<0);r--){const o=i[r],a=o.x-t,u=o.y-s;o.St=a*a+u*u,o.t>=e[0]&&o.t<=e[1]&&o.St<h&&(h=o.St,n=r)}}return this.P7=n,n}t9(t,s,i,e){let h=i[e],n=1,r=Number.MAX_SAFE_INTEGER;t:do{const n=i.length;let o=0===e?0:e-1,a=e===n-1?n-1:e+1,u=i[o].t,l=(i[a].t-u)/4;if(l<.001)break;rm[0]=i[o];for(let i=1;i<=2;i++){const n=u+i*l,o=n**2,a=n**3,c=this.D7*n,f=this.N7*o,d=this.L7*a,p=this.O7*n,m=this.R7*o,g=this.k7*a,y=this.y7+c+f+d,M=this.M7+p+m+g,w=y-t,S=M-s,T=w*w+S*S;if(T<r){r=T,e=i,am.x=y,am.y=M,am.t=n,am.St=T,h=am;break t}const b=om[i-1];b.x=y,b.y=M,b.t=n,b.St=T,rm[i]=b}rm[3]=i[a],i=rm}while(n++<20);return h}W7(){this.k8=!0;let t=this.q7(0),s=this.X7(0),i=0;for(let e=1;e<=this.F7;e++){const h=this.q7(.01*e),n=this.X7(.01*e),r=t-h,o=s-n;i+=sm.sn(r,o),this.j7[e]=i,t=h,s=n}this.z7=i}},sm.H8=class{constructor(t,s,i){this.IM=i,this.i9=t.o7(),this.e9=s.o7(),this.V7=0,this.J7=0}Vh(){}NG(){return"line"}eP(){return this.IM}Z8(t,s){this.V7=t,this.J7=s}Wb(){return this.i9+this.V7}Vb(){return this.e9+this.J7}}}{const um=self.Gs;um.x6=class extends um.Wh{constructor(t,s,i){super(),this.Pc=i.Rj(),this.h9=i,this.n9=s,this.qh=t,this.r9=[],this.o9=0,this.a9=null,this.u9=0,this.l9(),this.c9=null,this.f9=null,this.d9=0,this.p9=0,this.m9=1,this.g9=0,this.y9=-1,this.M9=1,this.w9=!1,this.S9=!1,this.T9=!1,this.b9=!0,this.x9=!1,this.v9=!1,this.C9=-1,this.G9=!1,this.I9=!1,this._9=!1,this.E9=!1,this.A9=NaN,this.D9=[""],this.N9="",this.L9=!1,this.w6=0,this.O9=0,this.R9=null,this.k9=null}static b6(t,s){const i=s.G6(),e=i.P9(),h=i.Ys(t[e]),n=um.Yh(um.x6,t[e],h,s);return n.F9(!0),n}static C6(t,s,i){return um.Yh(um.x6,t,s,i)}Vh(){if(this.gJ())return;const t=this.Pc.yf();this.h9.s8(this),this.h9.n8(this);for(const t of this.r9)t.Vh();um.wr(this.r9),this.r9=null,this.Pc=null,this.h9=null,this.n9=null,this.x9=!0,this.c9=null,this.f9=null,this.j9(t)}j9(t){const s=um.Yh(um.Event,"timelinestatereleased");s.z9=this,t.dispatchEvent(s)}NG(){return 0}l9(){for(const t of this.n9.U9().B9())this.o9=this.r9.push(um.W9.AC(this,t))}Q9(){return this.h9}Rj(){return this.Pc}z8(){return this.r9}Y9(t,s,i,e){if(!this.O9)return;let h;for(let n=0;n<this.r9.length;n++){let r=this.r9[n];if(t!==r.UJ())continue;const o=r.HJ(i);o&&s.constructor===o.V9().constructor&&o.K8()===e.K8()&&(h||(h=[]),h.push(o))}return h}A8(){return!!this.r9.length}j8(t){for(const s of this.r9)if(um.Ze(s.VJ(),t))return s;return null}J9(t){for(const s of this.r9)if(!s.H9()&&um.Ze(s._c(),t))return s;return null}yq(t){this.qh=t}_c(){return this.qh}q9(){return this.n9}QW(){return this.n9._c()}xJ(){return this.n9.xJ()}bJ(t){this.n9.bJ(t)}X9(){return this.n9.X9()}Z9(t){this.n9.Z9(t)}K9(){return this.n9.K9()}ttt(t){this.n9.ttt(t)}K8(){return this.n9.K8()}stt(t){this.n9.K8(t)}BJ(t){for(const s of this.z8())s.BJ(t)}CJ(){return this.n9.CJ()}vJ(t){return this.n9.vJ(t)}IJ(){return this.n9.IJ()}GJ(t){return this.n9.GJ(t)}UV(){return this.n9.UV()}itt(t){return this.n9.itt(t)}_J(t){return this.m9=t}EJ(){return this.m9}S8(){return this.n9.S8()}ett(){return this.n9.ett()}htt(){return this.n9.htt()}ntt(){return this.g9}ott(){return!this.IsPlaying()||this.m9>0}DJ(){return this.c9||(this.c9=new Promise((t=>{this.f9=t}))),this.c9}i8(){this.c9&&(this.f9(),this.c9=null,this.f9=null)}att(t){this.D9=um.x6.utt(t),this.L9=!0}AJ(){return this.D9}ltt(){return this.L9&&(this.N9=this.D9.join(" ")),this.L9=!1,this.N9}SJ(t){if(!this.D9)return!1;if(!this.D9.length)return!1;const s=um.x6.utt(t);return!!s&&!!s.length&&s.every(um.x6.ctt,this)}ftt(){um._j.dtt&&this.constructor===um.x6&&(um._j.dtt.Gj.ptt(this),this.h9.uQ(um._j.dtt.Gj.mtt),this.h9.uQ(um._j.dtt.Gj.gtt),this.h9.uQ(um._j.dtt.Gj.ytt),this.h9.uQ(um._j.dtt.Gj.Mtt),um._j.dtt.Gj.wtt())}Stt(){this.C9=this.Pc.Ttt()}M8(){this._9||(this._9=!0,um._j.dtt&&this.constructor===um.x6&&(um._j.dtt.Gj.ptt(this),this.h9.uQ(um._j.dtt.Gj.btt),this.h9.uQ(um._j.dtt.Gj.xtt),this.h9.uQ(um._j.dtt.Gj.vtt),this.h9.uQ(um._j.dtt.Gj.Ctt),um._j.dtt.Gj.wtt()))}Z6(t){this.w9=t}Gtt(){return this.C9===this.Pc.Ttt()}IsPlaying(t=!1){return!!this.Gtt()||!(!this.Itt()||t)||this.w9}_tt(){return this.IsPlaying(!0)}OJ(){return this.Ett()}Ett(){return!(this.gJ()||this.Itt()||this._tt()||this.g8())}K6(t){this.S9=t}Itt(){return this.S9}Att(t){this.b9=t;const s=this.CJ(),i=this.IJ();if(s||i){if(s&&!i);else if(!s&&i){const t=this.EO();1===this.g9&&(t<=0||t>=this.xJ())&&(this.b9=!0)}}else{const t=this.EO();(t<=0||t>=this.xJ())&&(this.b9=!0)}}g8(){return this.b9}gJ(){return this.x9}t8(t){this.v9=t}r8(){return this.v9}Dtt(t){this.G9=t}Ntt(){return this.G9}F9(t){this.I9=!!t}E6(){return this.I9}y8(){return this.T9}EO(){return this.d9}TJ(t){const s=this.EO();this.Ltt(t),this.Att(!1),this.g8()||this.Dtt(!0),(this._tt()||this.Itt()||!this.T9)&&(this._tt()||this.Itt()||this.T9?this._tt()?this.MJ():this.Itt()&&(this.h9.s8(this),this.Ott()):this.Ott()),this.Rtt(),this.ktt(this.EO(),!1,!0,!0,s),this.Ptt(),this.w6&&this.Rj().pj(),this.Ftt()}Ltt(t){um.$i(t)||(t=this.xJ()),t<0?this.d9=0:t>=this.xJ()?this.d9=this.xJ():this.d9=t}jtt(t){um.$i(t)||(t=this.xJ()),t<0?this.d9=0:t>=this.xJ()?this.d9=this.xJ():this.d9=t;for(const t of this.r9)t.ztt()}Ftt(){um._j.dtt&&this.constructor===um.x6&&(um._j.dtt.Gj.ptt(this),this.h9.uQ(um._j.dtt.Gj.Btt),this.h9.uQ(um._j.dtt.Gj.Utt),this.h9.uQ(um._j.dtt.Gj.Wtt),um._j.dtt.Gj.wtt())}Qtt(){if(this.CJ())return!0;if(this.IJ()&&1===this.g9){if(this.ott()){if(this.EO()>=this.xJ())return!1}else if(this.EO()<=0)return!1}else if(!this.CJ()&&!this.IJ())if(this.ott()){if(this.EO()>=this.xJ())return!1}else if(this.EO()<=0)return!1;return!0}wJ(){this.gJ()||this.Qtt()&&this.Play(!0)}Play(t=!1){return!this.gJ()&&!this.Itt()&&(this._tt()&&this.Gtt()?this.Ytt():!this._tt()&&!!(this.g8()||t||this.Ntt())&&this.Vtt())}Ytt(){return this.Dtt(!1),this.h9.H6(this),this.h9.X6(this),this.DJ(),!0}Vtt(){return this.Dtt(!1),this.h9.X6(this),this.DJ(),!0}MJ(t=!1){this.gJ()||(this.Att(t),this.h9.e8(this),this.g8()&&this.i8())}Ff(t=!0,s=!1){if(this.gJ())return;if(!this._tt()&&this.Itt())return this.h9.s8(this);if(this.g8())return;this.MJ(!0),this.ott()?this.Ltt(0):this.Ltt(this.xJ());const i=this.EO();this.Rtt(),s?this.Jtt(i):this.ktt(i,!1,!1,!0),t&&this.Ftt(),this.Ptt(),this.w6&&t&&this.Rj().pj()}Htt(){this.Ff(!1,!0)}Jtt(t){this.ktt(t,!1,!1,!0,NaN,!1,!0)}o6(){return!!this.gJ()||!(!this.Rj().F4()&&this.qtt())&&(this.h9.h8(this),this.Rj().F4()||this.Htt(),!0)}Ott(){this.a8(!0)}o8(){this.a8(!1,!0),this.Z6(!1),this.K6(!1)}a8(t=!1,s=!1){if(!this.r8()||s)if(t){this._9=!1,this.T9=!0,this.E9=!0,this.Rtt();for(const t of this.r9)t.a8();this.Ptt()}else if(this.Z6(!0),this.K6(!1),this.ftt(),this.g8()){this.C9=-1,0!==this.g9&&(this.m9=Math.abs(this.m9)),this.g9=0,this.y9=-1,this.M9=1,this.b9=!1,this._9=!1,this.T9=!0,this.E9=!0,this.ott()?this.Ltt(0):this.Ltt(this.xJ()),this.Rtt();for(const t of this.r9)t.a8();this.Ptt()}else{-1!==this.y9&&(this.g9=this.y9),this.E9=!0,this._9=!1,this.Rtt();for(const t of this.r9)t.Xtt();this.Ptt()}}u8(){return this.w6}Rtt(){this.O9=0;for(const t of this.r9)t.SD()&&(this.O9=1)}Ptt(){this.w6=0;for(const t of this.r9)t.Ztt(),0===this.w6&&1===t.u8()&&(this.w6=1),this.a9||1!==t.Ktt()||(this.a9||(this.a9=[]),this.u9=this.a9.push(t))}f8(t,s,i){if(this.htt()){if(0===t&&0===this.A9)return;this.A9=t,t=i}else{if(0===i&&0===this.A9)return;this.A9=i,t=i,s=1}const e=this.d9+this.p9,h=e+t*s*this.m9,n=this.n9.$tt;h<0?(this.d9=0,this.p9=-h):h>=n?(this.d9=n,this.p9=this.d9-h):(this.d9=h,this.p9=0);let r=!1,o=!1;const a=this.CJ(),u=this.IJ();let l;a||u?a&&!u?this.m9>0?this.d9>=n&&(this.jtt(0),o=!0):this.d9<=0&&(this.jtt(n),o=!0):!a&&u?this.m9>0?this.d9>=n&&(this.Ltt(n),this._J(-1*this.EJ()),o=!0,1===this.g9?this.M9<this.UV()?(this.M9++,this.g9=0):r=!0:0===this.g9&&(this.g9=1)):this.d9<=0&&(this.Ltt(0),this._J(-1*this.EJ()),o=!0,1===this.g9?this.M9<this.UV()?(this.M9++,this.g9=0):r=!0:0===this.g9&&(this.g9=1)):a&&u&&(this.m9>0?this.d9>=n&&(this.Ltt(n),this._J(-1*this.EJ()),o=!0,this.g9++,um.wrap(this.g9,0,2)):this.d9<=0&&(this.Ltt(0),this._J(-1*this.EJ()),o=!0,this.g9++,um.wrap(this.g9,0,2))):this.m9>0?this.d9>=n&&(this.M9<this.UV()?(this.M9++,this.jtt(0),o=!0):(this.Ltt(n),r=!0)):this.d9<=0&&(this.M9<this.UV()?(this.M9++,this.jtt(n),o=!0):(this.Ltt(0),r=!0));const c=this.o9;if(r){for(l=0;l<c;l++)this.r9[l].tst();return this.MJ(!0),void this.Stt()}const f=this.u9;for(l=0;l<f;l++)this.a9[l].sst();if(1===this.O9)for(l=0;l<c;l++){const t=this.r9[l],s=t.ist();this.d9-s<0&&e-s>0?(this.d9=s<0?0:s>=n?n:s,t.Mc(s,!0,!1,o,this.E9,!1)):t.Mc(this.d9,!0,!1,o,this.E9,!1)}else for(l=0;l<c;l++)this.r9[l].Mc(this.d9,!0,!1,o,this.E9,!1);if(!this.IsPlaying()&&this.R9){const t=this.R9.EO()+this.R9.hst().est().ist(),s=this.d9-t;this.d9-=s,0!==this.p9&&(this.p9-=s),this.R9=null}for(l=0;l<f;l++)this.a9[l].nst();this.E9&&(this.E9=!1)}rst(t){this.R9=t}ost(){return this.R9}ktt(t,s=!1,i=!1,e=!1,h=NaN,n=!1,r=!1){for(const t of this.r9)t.sst();for(const n of this.r9){let o=t;if("number"==typeof h&&!isNaN(h)){const t=this.EO()-n.ist(),s=h-n.ist();t<0&&s>0&&(o=n.ist(),this.Ltt(o))}n.Mc(o,s,i,e,this.E9,r)}for(const t of this.r9)t.nst();this.E9&&n&&(this.E9=!1)}ast(){const t=this.n9.U9().ust(),s=um.W9.AC(this,t);return this.o9=this.r9.push(s),s}D6(){if(!this.gJ())for(const t of this.r9)t.lst()}w8(){for(const t of this.r9)t.w8()}cst(){for(const t of this.r9)t.fst()}dst(t,s,i){if(s){if("number"==typeof i&&i>=0){const t=this.r9[i];if(!t)return;return t.pst(s),void this.h9.P6(s.IW(),this)}for(const i of this.r9)if(i.H9()){if(t){if(i.VJ()!==t)continue;i.pst(s),this.h9.P6(s.IW(),this);break}if(!i.mst()){i.pst(s),this.h9.P6(s.IW(),this);break}}}}B6(t,s){for(const i of this.r9)if(i.H9())if(s){if(s===i.VJ()&&t===i.UJ())return!0}else if(t===i.UJ())return!0;return!1}m8(){return this.r9.some((t=>!t.H9()||t.gst()))}qtt(){return this.r9.some((t=>{if(t.H9()){if(!t.gst())return!1;const s=t.IW();return!!s&&s.e0()}return!1}))}HJ(t){for(const s of this.z8())for(const i of s.yst())if(i.Mst()===t)return i}wst(t){for(const s of this.r9)if(t===s.UJ())return s;return null}Sst(t){let s=t?t.split(" "):[];const i=new Set(s.map((t=>t.toLowerCase().trim())));s=[...i.values()];for(const t of this.z8())for(const i of t.Tst())if(s.every((t=>i.bst(t))))return i}F6(){const t=[];for(const s of this.z8())t.push(s.IW());return t.filter((t=>t))}m6(){for(const t of this.z8())t.m6()}t3(){return{tracksJson:this.xst(),name:this.qh,playheadTime:this.EO(),playbackRate:this.m9,pingPongState:this.g9,resumePingPongState:this.y9,currentRepeatCount:this.M9,isPlaying:this.w9,isScheduled:this.S9,initialStateSet:this.T9,finishedTriggers:this._9,complete:this.b9,released:this.x9,markedForRemoval:this.v9,completedTick:this.C9,implicitPause:this.G9,isTemplate:this.I9,tags:this.D9.join(" "),stringTags:this.N9,tagsChanged:this.L9,firstTick:this.E9}}s3(t){t&&(this.vst(t.tracksJson),this.qh=t.name,this.d9=t.playheadTime,this.m9=t.playbackRate,this.g9=t.pingPongState,this.y9=t.hasOwnProperty("resumePingPongState")?t.resumePingPongState:-1,this.M9=t.currentRepeatCount,this.w9=!!t.isPlaying,this.S9=!!t.isScheduled,this.T9=!!t.initialStateSet,this._9=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.b9=!!t.complete,this.x9=!!t.released,this.v9=!!t.markedForRemoval,this.C9=t.completedTick,this.G9=!!t.implicitPause,this.I9=!!t.isTemplate,this.D9=t.tags.split(" "),this.N9=t.stringTags,this.L9=!!t.tagsChanged,this.E9=!!t.firstTick)}xst(){return this.r9.map((t=>t.t3()))}vst(t){this.cst(),t.forEach(((t,s)=>{this.r9[s].s3(t)})),this.r9.filter((t=>t.gst()))}static ctt(t){const s=this.AJ();return""===t?1===s.length&&""===s[0]:s.map((t=>t.toLowerCase())).includes(t.toLowerCase())}static utt(t){if(um.xe(t))return t.slice(0);if(um.ae(t))return t.split(" ");throw new Error("invalid tags")}Cst(){return this.k9||(this.k9=um.Yh(self.kJ,this)),this.k9}}}{const lm=self.Gs;lm.W9=class extends lm.Wh{constructor(t,s){super(),this.P8=t,this.Gst=s,this.Ist=s.U9(),this._st=NaN,this.Est=NaN,this.Ast=null,this.Dst=null,this.Nst=!1,this.pD=s.ist()>0,this.Lst=!1,this.Ost=!1,this.Rst=NaN,this.kst=null,this.Pst=this.Gst.hst().Fst(),this.jst=[],this.zst(),this.Bst=0,this.w6=0,this.Ust=0}static AC(t,s){return lm.Yh(lm.W9,t,s)}Vh(){this.Pst=null;for(const t of this.jst)t.Vh();lm.wr(this.jst),this.jst=null,this.P8=null,this.Ast=null,this.Dst=null,this.Gst=null,this.kst=null}zst(){for(const t of this.Gst.Qst().Wst())this.jst.push(lm.Yst.AC(this,t))}lst(){for(const t of this.jst)t.lst()}w8(){for(const t of this.jst)t.w8();this.Ast=null,this.Dst=null}Vst(){return this.P8}Rj(){return this.P8.Rj()}Tst(){return this.Pst||(this.Pst=this.Gst.hst().Fst()),this.Pst}yst(){return this.jst}HJ(t){for(let s=0;s<this.jst.length;s++){const i=this.jst[s];if(i.Mst()===t)return i}}Jst(){this.Ast||this.UJ()}Hst(){return!!this.Ast&&!this.Ast.DH()}gst(){if(!this.H9())return!1;const t=this.qst(),s=this.Rj().ij(t);return!!s&&!s.DH()}IW(){if(!this.H9())return;const t=this.Xst();return-1!==t?this.Rj().J$(t):void 0}Zst(){return this.P8.z8().indexOf(this)}fst(){this.Ast=null,this._st=NaN,this.Dst=null,this.Est=NaN,this.Nst=!0}mst(){return!!this.Ast}UJ(){if(this.Nst)return;if(this.Ast&&this.Hst())return this.Ast;const t=this.qst();return this.Ast=this.Rj().ij(t),this.Ast}pst(t){if(this.Nst=!1,this.Ast!==t){this.w8(),this.Ast=t,this.Est=t.IW().eP(),this._st=t.zW(),this.Dst=t.oj();for(const s of this.Kst()){const i=s.$st,e=s.tit;switch(i.sit()){case"instance-variable":{e.iit();const i=t.IW(),h=i.eit(s.name),n=i.hit(h),r=i.nit(h);n===s.name&&r===s.type&&e.rit(h);break}case"behavior":{const i=s.vV,h=this.IW(),n=t.IW(),r=e.GV(n);if(i&&r){const t=i._c();h.oit(t),n.oit(t),e.iit(),e.ait(r.C0())}break}}}}}*Kst(){for(const t of this.jst){const s=t.V9(),i=this.IW(),e={$st:t,tit:s};switch(t.sit()){case"world-instance":e.uit=t.Mst();break;case"instance-variable":{const t=s.iit();e.name=i.hit(t),e.type=i.nit(t);break}case"effect":{const t=i.WB(),h=s.lit(t);e.cit=h;break}case"behavior":{const t=s.GV(i);e.vV=t;break}case"plugin":e.yB=i.MB()}yield e}}oj(){if(this.Dst&&this.Hst())return this.Dst;const t=this.UJ();return t&&(this.Dst=t.oj()),this.Dst}est(){return this.Gst}qst(){return isNaN(this._st)?this.Gst.qst():this._st}fit(t){this.Gst.fit(t)}K9(){return this.Gst.K9()}ttt(t){this.Gst.ttt(t)}K8(){return this.Gst.K8()}VJ(){return this.Gst.VJ()}ist(){return this.Gst.ist()}dit(){return this.Gst.dit()}pit(t){this.Gst.pit(t)}stt(t){this.Gst.stt(t)}BJ(t){for(const s of this.Tst())s.BJ(t);for(const s of this.yst())s.BJ(t)}mit(){return this.Gst.mit()}git(t){this.Gst.git(t)}Xst(){return isNaN(this.Est)?this.Gst.Xst():this.Est}yit(t){this.Gst.yit(t)}Mit(t){this.Gst.Mit(t)}wit(){const t=this.UJ();return t&&t.gV().Sit()?t.gV().wit():this.Gst.wit()}Tit(t){this.Gst.Tit(t)}bit(){const t=this.UJ();return t&&t.gV().Sit()?t.gV().bit():this.Gst.bit()}NG(){return this.Gst.NG()}_c(){return this.Gst._c()}H9(){return 0===this.NG()}xit(){return 1===this.NG()}vit(){return 2===this.NG()}Cit(){return this.Bst}u8(){return this.w6}Ktt(){return this.Ust}SD(){return this.pD}ztt(){for(const t of this.jst)t.ztt()}a8(){if(this.Jst(),!this.Hst()&&this.H9())return;const t=this.Vst().ott(),s=t?0:this.dit();for(const t of this.jst)t.a8(s),0===this.Bst&&1===t.Cit()&&(this.Bst=1),0===this.w6&&1===t.u8()&&(this.w6=1);this.Ust=0,this.jst.some((t=>t.Ktt()))&&(this.Ust=1),this.kst=t?this.Git(s):this.Iit(s),this.Lst=!1,this.Ost=!1,this.Mc(s),this._it(this.kst)}Xtt(){if(this.Jst(),!this.Hst()&&this.H9())return;const t=this.P8.ott(),s=this.P8.EO()-this.ist();this.kst=t?this.Git(s):this.Iit(s);for(const t of this.jst)t.Xtt(s)}tst(){if(!this.Vst().g8()&&(this.Jst(),(this.Hst()||!this.H9())&&!this.pD)){const t=this.P8.EO();t>=this.ist()+this.dit()?this.Mc(this.dit(),!0,!1,!0,!1,!1,!0):t<=0&&this.Mc(0,!0,!1,!0,!1,!1,!0)}}Ztt(){for(let t=0,s=this.jst.length;t<s;t++){const s=this.jst[t];s.Ztt(),0===this.Bst&&1===s.Cit()&&(this.Bst=1),0===this.w6&&1===s.u8()&&(this.w6=1)}}sst(){const t=this.jst.length;for(let s=0;s<t;s++)this.jst[s].sst()}Mc(t,s=!1,i=!1,e=!1,h=!1,n=!1,r=!1){this.Ast||this.UJ();const o=this.Ast&&!this.Ast.DH(),a=0===this.Gst.Yc;if((o||!a)&&!(n&&a&&this.IW().e0()||(t-=this.ist())<0)){this.Eit(t,s),this.Ait(t,s,h),!this.Vst().IsPlaying()&&this.Vst().ost()&&(t=this.Vst().ost().EO());for(let s=0,h=this.jst.length;s<h;s++)this.jst[s].Mc(t,i,e,r);this.Dit(t,s),0!==this.Bst&&(this.Dst||(this.Dst=this.Ast.oj()),this.Dst&&this.Dst.FQ())}}nst(){const t=this.jst.length;for(let s=0;s<t;s++)this.jst[s].nst()}Eit(t,s){if(s&&this.pD&&!this.Lst){if(this.Vst().ott()){if(t<0)return}else if(t>this.dit())return;for(const t of this.jst)t.a8();this.Lst=!0}}Dit(t,s){if(s&&this.pD&&!this.Ost)if(this.Vst().ott()){if(t>=this.dit()){for(const t of this.jst)t.Mc(this.dit(),!1,!0);this.Ost=!0}}else if(t<=0){for(const t of this.jst)t.Mc(0,!1,!0);this.Ost=!0}}Ait(t,s,i){if(i)return;if(!s)return;if(!lm._j.dtt)return;const e=this.Vst();if(e.ott()){const s=this.kst.Q8(),i=this.kst.EO(),h=s?s.EO():e.xJ();(t<=i||t>=h)&&(this.kst=this.Ist.Nit(t,this.Gst),s&&this._it(this.kst))}else{if(!this.Ist.Lit(t,this.Gst))return;this.kst||(this.kst=this.Ist.Lit(t,this.Gst));const s=this.kst.Oit(),i=this.kst.EO(),e=s?s.EO():0;(t>=i||t<=e)&&(this.kst=this.Ist.Lit(t,this.Gst),this.kst&&this._it(this.kst))}}Git(t){return this.Ist.Rit(t,this.Gst)||this.Ist.Nit(t,this.Gst)}Iit(t){return this.Ist.Rit(t,this.Gst)||this.Ist.Lit(t,this.Gst)}_it(t){if(!lm._j.dtt)return;const s=this.Vst(),i=s.Q9();lm._j.dtt.Gj.ptt(s),lm._j.dtt.Gj.kit(t),i.uQ(lm._j.dtt.Gj.Pit),i.uQ(lm._j.dtt.Gj._it),s.IsPlaying()||s.rst(t),lm._j.dtt.Gj.wtt(s),lm._j.dtt.Gj.Fit(t)}jit(){return this.Gst.hst().zit()}Bit(){const t=this.Gst.Qst().Uit(),s=lm.Yst.AC(this,t);return this.jst.push(s),s}Wit(t){this.Gst.hst().Qit(t)}Yit(t){for(const s of this.jst)s.Yit(t)}Vit(){for(const t of this.jst)t.Vit()}Jit(){if(this.Jst(),this.Hst()||!this.H9())for(const t of this.jst)t.Jit()}Hit(){if(this.Jst(),!this.Hst()&&this.H9())return;let t=!1;for(const s of this.jst){const i=s.Hit();!t&&i&&(t=!0)}if(t){const t=this.jit();t.TJ(this.Vst().EO()),t.BJ("noease"),t.git(!0),t.att("")}}m6(){isNaN(this.Rst)||this.qit(this.Rst),this.Rst=NaN}t3(){const t=this.UJ(),s=t?t.zW():this.qst();return{propertyTracksJson:this.Xit(),lastKeyframeDataItemJson:this.Zit(),initialStateOfNestedSet:this.Lst,endStateOfNestedSet:this.Ost,instanceUid:s,cleared:this.Nst}}s3(t){if(t){this.Kit(t.propertyTracksJson),this.$it(t.lastKeyframeDataItemJson),this.Rst=t.instanceUid,this.Lst=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Lst=t.initialStateOfNestedSet),this.Ost=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.Ost=t.endStateOfNestedSet),this.Nst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const t of this.jst)0===this.Bst&&1===t.Cit()&&(this.Bst=1),0===this.w6&&1===t.u8()&&(this.w6=1);this.Ust=0,this.jst.some((t=>t.Ktt()))&&(this.Ust=1)}}Zit(){return this.Gst.hst().tet(this.kst)}Xit(){return this.jst.map((t=>t.t3()))}Kit(t){t.forEach(((t,s)=>{this.jst[s].s3(t)}))}qit(t){if(!lm.$i(t))return;const s=this.Rj().ij(t);s&&this.Vst().dst(this.Gst.VJ(),s,this.Zst())}$it(t){const s=this.Gst.hst();this.kst=s.iet(t)}}}{const cm=self.Gs;cm.Yst=class extends cm.Wh{constructor(t,s){super(),this.eet=t,this.het=s,this.net=s.Qst(),this.Bst=0,this.w6=0,this.Ust=0,this.ret=this.V9(),this.oet=this.het.uet().aet(),this.let=null,this.cet=null}static AC(t,s){return cm.Yh(cm.Yst,t,s)}Vh(){this.eet=null,this.ret&&(this.ret.Vh(),this.ret=null),this.oet=null,this.het=null,this.net=null}Cit(){return this.Bst}u8(){return this.w6}Ktt(){return this.Ust}fet(){return!!this.cet}det(t){this.cet=t}pet(){return this.cet}met(){return this.eet}yet(){return this.het}Qst(){return this.net}Vst(){return this.eet.Vst()}Rj(){return this.eet.Rj()}UJ(){return this.eet.UJ()}V9(){if(this.ret)return this.ret;let t;switch(this.het.sit()){case"behavior":t=new cm.Yst.Met(this);break;case"effect":t=new cm.Yst.wet(this),this.w6=1;break;case"instance-variable":t=new cm.Yst.Tet(this);break;case"plugin":t=new cm.Yst.bet(this),this.w6=1;break;case"world-instance":t=new cm.Yst.xet(this),this.w6=1,this.Bst=1;break;case"value":t=new cm.Yst.vet(this);break;case"audio":t=new cm.Yst.Cet(this)}return this.ret=t,this.ret}sit(){return this.het.sit()}Get(t){this.het.Get(t)}Iet(){return this.het._et()}Eet(t){this.het.Aet(t)}JJ(){return this.V9().Det()}Mst(){return this.het.Net()}Let(t){this.het.Oet(t)}Ret(){return this.het.NG()}ket(t){this.het.Pet(t)}Fet(){return this.Qst().jet(this.het).NG()}zet(){return this.het.zet()}Bet(t){this.het.Bet(t)}Uet(){return this.het.Uet()}Wet(t){this.het.Wet(t)}mit(){return this.het.mit()}git(t){this.het.git(t)}K9(){return this.het.K9()}ttt(t){this.het.ttt(t)}K8(){return this.het.K8()}stt(t){this.het.stt(t)}BJ(t){for(const s of this.Qet())s.BJ(t)}Yet(){return this.het.Yet()}Qet(){return this.oet||(this.oet=this.het.uet().aet()),this.oet}W8(){return this.het.uet().W8()}Vet(t){return this.net.Vet(t,this.het)}Jet(t){return this.net.Jet(t,this.het)}Het(t){let s,i=this.net.Vet(t,this.het);return i?s=this.net.qet(t,this.het):(i=this.net.Jet(t,this.het),s=this.net.Xet(t,this.het)),{start:i,end:s}}*Zet(){for(const t of this.Qet())yield t.o7()}*Ket(){for(const t of this.Qet())yield t.EO()}lst(){this.V9().lst()}w8(){this.V9().w8()}$et(){return this.V9().$et()}ztt(){this.V9().ztt()}a8(t){this.V9().a8(),this.let=this.tht(t),this.Ztt()}Xtt(t){this.V9().Xtt(),this.let=this.tht(t)}Ztt(){const t=this.met();if(this.Ust=0,t.H9()){const s=this.Vst(),i=t.UJ(),e=this.V9(),h=this.Mst();if(e.sht()){const t=s.Y9(i,e,h,this);t&&t.length&&(this.Ust=1)}else this.Ust=0}}tht(t){const s=this.Vst();return this.net.Vet(t,this.het)||(s.ott()?this.net.Jet(t,this.het):this.net.Xet(t,this.het))}sst(){this.ret.sst()}Mc(t,s=!1,i=!1,e=!1){let h,n,r=!1;if(s)h=this.net.Jet(t,this.het);else{if(this.let){const s=this.Vst(),i=this.let.Q8(),e=this.let.EO(),h=i?i.EO():s.xJ();(t<=e||t>=h)&&(this.let=this.net.Jet(t,this.het),r=!0)}else this.let=this.net.Jet(t,this.het),r=!0;h=this.let}h&&(n=h.Q8()),this.ret.Mc(t,h,n,s,i,e,r)}iht(t){if(this.let){const s=this.Vst(),i=this.let.Q8(),e=this.let.EO(),h=i?i.EO():s.xJ();(t<=e||t>=h)&&(this.let=this.net.Jet(t,this.het))}else this.let=this.net.Jet(t,this.het);const s=this.let,i=s.Q8();return this.ret.iht(t,s,i)}eht(t,s,i){return this.ret.iht(t,s,i)}nst(){this.ret.nst()}static hht(t,s){const i=s.yet();return s.net.Jet(t,i)}static nht(t,s){const i=s.yet();return s.net.Xet(t,i)}rht(){const t=this.het.uet().oht();return this.let=null,t}Yit(t){this.let=null,this.het.uet().aht(t)}Vit(){this.V9().Vit()}Jit(){if(this.V9().Jit()){const t=this.net.jet(this.het),s=this.V9().$et();t.uht(s)}}Hit(){const t=this.V9().Hit();return t&&this.lht(),this.V9().cht(),t}lht(){const t=this.Vst().EO(),s=this.V9(),i=cm.Yst.hht(t,this),e=this.rht();e.Pet(i.NG()),e.TJ(t),e.BJ(i.fht()),e.git(!0),e.dht(s.pht()),e.uht(s.$et())}t3(){return{sourceAdapterJson:this.V9().t3()}}s3(t){t&&this.V9().s3(t.sourceAdapterJson)}}}{const fm=self.Gs.Yst;fm.xet=class{constructor(t){this.mht=t,this.ght=null,this.yht()}Vh(){this.ght&&(this.ght.Vh(),this.ght=null),this.mht=null}sht(){return this.ght.sht()}HJ(){return this.mht}lst(){this.ght&&this.ght.lst()}w8(){this.ght&&this.ght.w8()}yht(){return this.ght||(this.ght=this.Mht()),this.ght}iit(){}eP(){return this.iit()}wht(){}ztt(){this.yht().ztt()}a8(){this.yht().a8()}Xtt(){this.yht().Xtt()}sst(){this.ght.Sht()}Mc(t,s,i,e,h,n,r){let o;switch(this.mht.Fet()){case"numeric":o=fm.Tht.Mc(t,s,i,this.mht);break;case"angle":o=fm.bht.Mc(t,s,i,this.mht);break;case"boolean":o=fm.xht.Mc(t,s,i,this.mht);break;case"color":o=fm.vht.Mc(t,s,i,this.mht);break;case"text":o=fm.Cht.Mc(t,s,i,this.mht)}this.ght.Ght(t,o,s,i,e,h,n,r)}iht(t,s,i){switch(this.mht.Fet()){case"numeric":return fm.Tht.Mc(t,s,i,this.mht);case"angle":return fm.bht.Mc(t,s,i,this.mht);case"boolean":return fm.xht.Mc(t,s,i,this.mht);case"color":return fm.vht.Mc(t,s,i,this.mht);case"text":return fm.Cht.Mc(t,s,i,this.mht)}}nst(){this.ght.Iht()}Vit(){this.yht()._ht()}cht(){this.yht().cht()}$et(){return this.yht().$et()}Jit(){return this.yht().Jit()}Hit(){return this.yht().Hit()}pht(){const t=this.mht,s=t.met().Vst().EO(),i=fm.hht(s,t),e=i.Q8();switch(t.Fet()){case"numeric":return fm.Tht.Mc(s,i,e,t);case"angle":return fm.bht.Mc(s,i,e,t);case"boolean":return fm.xht.Mc(s,i,e,t);case"color":return fm.vht.Mc(s,i,e,t);case"text":return fm.Cht.Mc(s,i,e,t)}}Mht(){const t=this.mht;switch(t.Yet()?t.Fet():""){case"combo":case"boolean":case"text":case"string":return new fm.Aht.Eht(this);case"numeric":case"number":case"angle":return"combo"===this.mht.Ret()?new fm.Aht.Eht(this):new fm.Aht.Dht(this);case"color":case"offsetColor":return new fm.Aht.Nht(this);default:return new fm.Aht.Dht(this)}}t3(){return{propertyAdapterJson:this.yht().t3()}}s3(t){t&&this.yht().s3(t.propertyAdapterJson)}}}{const dm=self.Gs;class pm extends dm.Yst.xet{constructor(t){super(t),this.Lht=NaN}iit(){return this.mht.yet()._et()[0]}eP(){return this.Lht?this.Lht:super.eP()}wht(){return this.mht.met().UJ()}rit(t){this.mht.yet()._et()[0]!==t&&(this.Lht=t)}Mc(t,s,i,e,h,n,r){this.yht().Oht(s.Det())&&super.Mc(t,s,i,e,h,n,r)}iht(t,s,i){if(this.yht().Oht(s.Det()))return super.iht(t,s,i)}t3(){return Object.assign(super.t3(),{index:this.Lht})}s3(t){t&&(super.s3(t),this.Lht=t.index)}}dm.Yst.Tet=pm}{const mm=self.Gs;class gm extends mm.Yst.xet{constructor(t){super(t),this.JK=NaN}iit(){return this.mht.yet()._et()[1]}wht(){const t=this.mht.yet(),s=this.mht.met(),i=this.JK?this.JK:t._et()[0],e=s.UJ(),h=e.Rht(i);return e.kht()[h].gV()}GV(t){const s=this.mht.yet()._et()[2];return t.Pht(s)}ait(t){this.mht.yet()._et()[0]!==t&&(this.JK=t)}Mc(t,s,i,e,h,n,r){const o=this.mht.met().UJ();this.GV(o.IW())&&super.Mc(t,s,i,e,h,n,r)}iht(t,s,i){const e=this.mht.met().UJ();if(this.GV(e.IW()))return super.iht(t,s,i)}t3(){return Object.assign(super.t3(),{sid:this.JK})}s3(t){t&&(super.s3(t),this.JK=t.sid)}}mm.Yst.Met=gm}{const ym=self.Gs;class Mm extends ym.Yst.xet{constructor(t){super(t)}iit(){return this.mht.yet()._et()[1]}wht(){const t=this.mht.met().oj().kQ(),s=t.WB(),i=this.lit(s).eP();return t.NV(i)?t.Fht(i):null}lit(t){const s=this.mht.yet()._et()[0];return t.jht(s)}Mc(t,s,i,e,h,n,r){this.zht()&&super.Mc(t,s,i,e,h,n,r)}iht(t,s,i){if(this.zht())return super.iht(t,s,i)}zht(){const t=this.mht.met().oj().kQ(),s=t.WB(),i=this.lit(s);if(!i)return;const e=i.eP();return t.NV(e)}}ym.Yst.wet=Mm}{const wm=self.Gs;class Sm extends wm.Yst.xet{constructor(t){super(t)}iit(){return this.mht.yet()._et()[0]}wht(){return this.mht.met().UJ().gV()}Mc(t,s,i,e,h,n,r){const o=this.mht.met();o.IW().MB()===o.UJ().IW().MB()&&super.Mc(t,s,i,e,h,n,r)}iht(t,s,i){const e=this.mht.met();if(e.IW().MB()===e.UJ().IW().MB())return super.iht(t,s,i)}Bht(){const t=this.mht.met().IW().MB();if(wm._j.Uht&&t instanceof wm._j.Uht&&("initial-frame"===this.mht.Mst()||"initial-animation"===this.mht.Mst()))switch(this.mht.K8()){case"relative":case"absolute":return null}}}wm.Yst.bet=Sm}{const Tm=self.Gs;class bm extends Tm.Yst.xet{constructor(t){super(t),this.Wht=0,this.Qht=!1}sht(){return!1}a8(){const t=this.mht.Qst();let s=this.mht.yet();s=t.jet(s),this.Wht=s.o7()}Xtt(){}Det(){return this.Qht||this.mht.Mc(0),this.Wht}Mc(t,s,i,e,h,n,r){this.Wht=Tm.Yst.Tht.Mc(t,s,i,this.mht),this.Qht=!0}Vit(){}cht(){}$et(){return this.Wht}Jit(){return!1}Hit(){return!1}t3(){return{value:this.Wht,init:this.Qht}}s3(t){t&&(this.Wht=t.value,this.Qht=!t.hasOwnProperty("init")||t.init)}}Tm.Yst.vet=bm}{const xm=self.Gs;class vm extends xm.Yst.xet{constructor(t){super(t),this.Yht=!1,this.Vht=null,this.Jht=null,this.Hht=null,this.P8=this.mht.Vst(),this.eet=this.mht.met(),this.qht=this.mht.Iet(),this.Xht=this.qht[0],this.Zht=this.qht[1],this.qht[3]?this.Kht=this.qht[3]:this.Kht=Math.random().toString(36).slice(2),this.$ht=NaN,this.tnt=NaN,this.snt=NaN,this.int=null,this.ent()}Vh(){super.Vh(),this.Vht=null,this.Jht=null,this.Hht=null,this.P8=null,this.eet=null,this.qht=null,this.Xht=null,this.int=null}ent(){if(!self.Gs._j.Audio)return;const t=this.mht.Rj().hnt(self.Gs._j.Audio);t&&(this.Vht=t.mB().gV()),this.Jht=self.Gs._j.Audio.nnt,this.Hht=self.Gs._j.Audio.rnt}ont(){if(this.int)return;const t=this.mht.met().HJ("audioSource");t&&(this.int=t.V9())}ant(){const t=this.mht.met().HJ("volume");return t?t.V9().tnt:this.tnt}lst(){super.lst(),this.Yht=!1,this.Vht&&(this.Hht&&(this.$ht=this.Hht.unt.call(this.Vht,this.Kht),this.tnt=this.Hht.lnt.call(this.Vht,this.Kht)),this.Jht&&this.Jht.MJ.call(this.Vht,this.Kht))}cnt(){return this.Kht}fnt(){return this.snt}dnt(t){this.snt=t}a8(){super.a8(),this.$ht=NaN,this.Yht=!1}Xtt(){super.Xtt();const t=this.mht.Vst().EO();switch(this.$ht=t-this.Zht,this.mht.Mst()){case"audioSource":break;case"volume":this.tnt=this.mht.iht(t)}this.Yht=!1}Mc(t,s,i,e,h,n,r){if(this.Vht)switch(this.mht.Mst()){case"audioSource":{if(!this.P8.ott())return;if(e)return void(this.Jht&&this.Jht.MJ.call(this.Vht,this.Kht));if(t<this.Zht)return void(this.Yht=!1);const s=this.Hht.pnt.call(this.Vht,this.Kht),i=this.P8.EJ();if(i!==s&&this.Jht._J.call(this.Vht,this.Kht,i),this.Yht)return;if(!this.mht.Vst().IsPlaying())return;if(this.Yht=!0,isNaN(this.$ht)){const s=self.performance.now(),i=t-this.Zht;if("suspended"===this.Vht.mnt())return void(this.Yht=!1);const e=i+(self.performance.now()-s)/1e3;if(this.Jht){let t=this.fnt();isNaN(t)?(this.dnt(0),t=0):this.dnt(t),this.Jht.gnt.call(this.Vht,this.Xht,t,this.Kht,e)}}else{const t=this.$ht;this.$ht=NaN;const s=this.ant();if(this.tnt=NaN,"suspended"===this.Vht.mnt())return void(this.Yht=!1);this.Jht&&(this.dnt(s),this.Jht.gnt.call(this.Vht,this.Xht,s,this.Kht,t))}break}case"volume":this.ont(),super.Mc(t,s,i,e,h,n,r)}}iht(t,s,i){if(this.Vht)switch(this.mht.Mst()){case"audioSource":return;case"volume":return this.ont(),super.iht(t,s,i)}}ynt(t,s){return this.int?this.int.fnt():0}Mnt(t,s,i,e){this.int&&this.int.dnt(this.ynt()+s),this.Jht&&this.int&&this.Jht.dnt.call(this.Vht,this.int.cnt(),this.int.fnt())}wnt(t,s,i){this.int&&this.int.dnt(s),this.Jht&&this.int&&this.Jht.dnt.call(this.Vht,this.int.cnt(),this.int.fnt())}Snt(){return!0}t3(){return{audioPlaybackStarted:this.Yht,audioTag:this.Kht,pauseTime:this.$ht,pauseVolume:this.tnt,volume:this.snt}}s3(t){t&&(this.Yht=t.audioPlaybackStarted,this.Kht=t.audioTag,this.$ht=t.pauseTime,this.tnt=t.pauseVolume,this.snt=t.volume,this.ent())}}xm.Yst.Cet=vm}self.Gs.Yst.Aht=class{constructor(t){this.ret=t,this.mht=t.HJ(),this.Dst=this.mht.met().oj(),this.Tnt=this.mht.Mst(),this.bnt=!1,this.xnt=null,this.vnt=null}Vh(){this.ret=null,this.mht=null,this.Dst=null,this.xnt=null,this.vnt=null}sht(){return!1}lst(){}w8(){this.Dst=null,this.xnt=null,this.vnt=null}V9(){return this.ret}HJ(){return this.mht}oj(){return this.Dst||(this.Dst=this.mht.met().oj()),this.Dst}Cnt(t){this.bnt=!!t}Gnt(){return this.bnt}ztt(){}a8(){}Xtt(){}_ht(){this.xnt=this.$et()}cht(){this.xnt=null}$et(){}Jit(){}Hit(){}Oht(t){return typeof this.Int()==typeof t}Sht(){}Ght(t,s,i,e,h,n,r,o){}Iht(){}_nt(){return this.Ant((()=>{const t=this.mht.yet();return this.mht.Qst().jet(t)}),(()=>{const t=this.mht.yet();return this.mht.Qst().Dnt(t)})).Ent()}Nnt(){const t=this.mht.Vst().EO()-this.mht.met().ist();return this.Ant((()=>{const s=this.mht.yet();return this.mht.Qst().Jet(t,s)}),(()=>{const s=this.mht.yet(),i=this.mht.Qst();return i.Xet(t,s)||i.Dnt(s)})).Ent()}Ant(t,s){return this.mht.Vst().ott()?t():s()}Lnt(t,s){return"relative"===this.mht.K8()?t():s()}Ont(t,s){return this.Gnt()?(this.Cnt(!1),t()):s()}Rnt(t){}knt(){return this.ret.eP()}Pnt(){return this.vnt||(this.vnt=this.ret.wht()),this.vnt}Fnt(t,s,i,e,h,n){switch(this.mht.sit()){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return h();case"audio":return n()}}t3(){return{firstAbsoluteUpdate:this.bnt,saveState:this.xnt}}s3(t){t&&(this.bnt=t.firstAbsoluteUpdate,this.xnt=t.saveState)}jnt(t,s=!1){const i=[];for(const e of t){const t=e.met().ist();for(const h of e.Qet())s&&0===h.EO()?i.push({time:t+h.EO(),value:h.Ent()}):s||i.push({time:t+h.EO(),value:h.Ent()})}return i.sort(((t,s)=>t.time-s.time))}znt(t,s,i){return this.Bnt(s,i)}Bnt(t,s){for(let i=s.length-1;i>=0;i--)if(s[i].time<=t)return s[i];return null}};{const Cm=self.Gs,Gm=new Map,Im=[0,0,0];class _m extends Cm.Yst.Aht{constructor(t){super(t)}ztt(){}a8(){}Xtt(){}$et(){const t=this.mht.sit(),s=this.Pnt(),i=this.knt();switch(t){case"behavior":case"plugin":return this.Unt(s.Wnt(i));case"effect":return this.Unt(s[i]);case"world-instance":return this.Unt(this.Int())}}Jit(){const t=this._nt();return!this.Qnt(t,this.Int())}Hit(){return!Cm.ie(this.xnt)&&!this.Qnt(this.xnt,this.Int())}Qnt(t,s){return t=this.Ynt(t),s=this.Ynt(s),t.Qo(s)}_nt(){const t=super._nt();return this.Ynt(t)}Nnt(){const t=super.Nnt();return this.Ynt(t)}Rnt(t){}Unt(t){return Cm.ke(t,Cm.xo)?t.toArray().slice(0,3):t.slice(0,3)}Ynt(t){return Cm.ke(t,Cm.xo)?t:new Cm.xo(t[0],t[1],t[2],1)}Oht(t){return!0}sht(){return!0}Sht(){const t=this.mht.Vst(),s=this.mht.UJ(),i=this.mht.V9(),e=t.Y9(s,i,this.Tnt,this.mht);if(e&&e.length>1){Gm.has(s)||Gm.set(s,new Map);const t=Gm.get(s),i=this.mht.sit();t.has(i)||t.set(i,new Map);const e=t.get(i);e.has(this.Tnt)||e.set(this.Tnt,{Vnt:!1,color:new Cm.xo(0,0,0,1)})}}Jnt(t,s,i){const e=Gm.get(t).get(s).get(i);return e.Vnt=!0,e.color}Ght(t,s,i,e,h,n,r,o){const a=this.mht.Vst(),u=this.mht.met(),l=this.mht.UJ(),c=this.mht.V9(),f=this.mht.sit(),d=this.Tnt,p=a.Y9(l,c,d,this.mht);if(p&&p.length>1){const t=this.jnt(p,!0),i=this.znt(a,a.EO(),t);if(i){const t=u.ist(),e=i.time-t;if(0===e)this.Jnt(l,f,this.Tnt).Ao(s[0],s[1],s[2]);else{if(e<0)return;const t=s[0],i=s[1],h=s[2],n=this.mht.Mc(e,!1,!0),r=Cm.xo.Ta(t,n[0]),o=Cm.xo.Ta(i,n[1]),a=Cm.xo.Ta(h,n[2]);this.Jnt(l,f,this.Tnt).Ao(r,o,a)}}}else this.Hnt(s[0],s[1],s[2])}Iht(){const t=this.mht.UJ();if(!Gm.has(t))return;const s=Gm.get(t),i=this.mht.sit();if(!s.has(i))return;const e=s.get(i);if(!e.has(this.Tnt))return;const h=e.get(this.Tnt),n=h.Vnt,r=h.color;n&&this.Hnt(r.Po(),r.Fo(),r.jo()),0===e.size&&s.delete(i),0===s.size&&Gm.delete(t)}Int(){const t=this.mht.sit(),s=this.Pnt(),i=this.knt();switch(t){case"behavior":case"plugin":return this.Ynt(s.Wnt(i));case"effect":return s[i].clone();case"world-instance":return this.oj().rY().clone()}}Hnt(t,s,i){const e=this.mht.sit(),h=this.Pnt(),n=this.knt();switch(e){case"behavior":case"plugin":Im[0]=t,Im[1]=s,Im[2]=i,h.qnt(n,Im);break;case"effect":h[n].Eo(t,s,i);break;case"world-instance":this.oj().Xnt(t,s,i)}}t3(){}s3(t){}}Cm.Yst.Aht.Nht=_m}{const Em=self.Gs,Am=Em.Yst;class Dm extends Em.Yst.Aht{constructor(t){super(t)}ztt(){}a8(){}Xtt(){}$et(){return this.Int()}Jit(){return this._nt()!==this.$et()}Hit(){return!Em.ie(this.xnt)&&this.xnt!==this.$et()}sht(){return!1}Ght(t,s,i,e,h,n,r,o){const a=this.mht,u=a.met(),l=a.sit(),c=a.Vst(),f=u.UJ(),d=a.V9(),p=this.Tnt,m=c.Y9(f,d,p,a);if(m&&m.length>1){const i=this.jnt(m),e=t+u.ist(),h=this.znt(c,e,i);h&&(s=h.value)}switch(a.Fet()){case"numeric":if(!Am.Tht.Znt(this.knt(),this.Pnt(),s,l))return;break;case"angle":if(!Am.bht.Znt(this.knt(),this.Pnt(),s,l))return;break;case"boolean":if(!Am.xht.Znt(this.knt(),this.Pnt(),s,l))return;break;case"color":if(!Am.vht.Znt(this.knt(),this.Pnt(),s,l))return;break;case"text":if(!Am.Cht.Znt(this.knt(),this.Pnt(),s,l))return}this.Hnt(s)}Int(){const t=this.mht.sit(),s=this.Pnt(),i=this.knt();switch(t){case"behavior":case"plugin":return s.Wnt(i);case"effect":return s[i];case"instance-variable":return s.Knt(i)}}Hnt(t){const s=this.mht.sit(),i=this.Pnt(),e=this.knt();switch(s){case"behavior":case"plugin":i.qnt(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.$nt(e,t)}}}Em.Yst.Aht.Eht=Dm}{const Nm=self.Gs,Lm=(Nm.Yst.Aht,new Map),Om=(t,s,i,e,h,n=!1,r=null,o=null)=>{Lm.set(t,{trt:s,srt:i,irt:e,round:h,ert:n,init:r,reset:o})};Om("offsetX",((t,s,i,e)=>{"relative"===e.mht.K8()?t.hrt(s,i.Vst().ett()):t.hrt(s)}),((t,s)=>t.Qb(s)),(t=>t.Wb()),!0),Om("offsetY",((t,s,i,e)=>{"relative"===e.mht.K8()?t.nrt(s,i.Vst().ett()):t.nrt(s)}),((t,s)=>t.Jb(s)),(t=>t.Vb()),!0),Om("offsetWidth",((t,s,i,e,h)=>{if(0===s)return;const n="relative"===e.mht.K8(),r=1===e.rrt.NG();if((n||r)&&t.LY()&&t.zY()){if(isNaN(e.ort)){const s=[];let h=t.SY();for(;h;)s.push(h),h=h.SY();s.reverse();const n=(t,s)=>s.Vst().wst(t.UJ()),o=(t,s)=>{const i=n(t,s);if(i)return i.wit();const e=t.UJ().gV();return e.Sit()?e.wit():t.urt().art()},a=(t,s,i,e=0)=>{const h=n(t,s);if(!h)return e;const r=h.HJ(i);if(!r)return e;const o=r.yet().uet();if(!o)return e;const a=o.Dnt();return a?a.Det():e};let u;if(r)u=s[s.length-1].Bg();else{let t=s[0];u=t.urt().art()*t.urt().lrt(),u+=a(t,i,"offsetWidth"),u+=o(t,i)*a(t,i,"offsetScaleX");for(let e=1;e<s.length;e++)t=s[e],u*=t.urt().lrt(),u+=a(t,i,"offsetWidth"),u+=o(t,i)*a(t,i,"offsetScaleX")}e.ort=0===u?Number.EPSILON:u}if(h)return;t.vy(s/e.ort,!0)}else t.vy(s)}),((t,s)=>t.Hg(s)),(t=>t.Bg()),!0),Om("offsetHeight",((t,s,i,e,h)=>{if(0===s)return;const n="relative"===e.mht.K8(),r=1===e.rrt.NG();if((n||r)&&t.LY()&&t.UY()){if(isNaN(e.ort)){const s=[];let h=t.SY();for(;h;)s.push(h),h=h.SY();s.reverse();const n=(t,s)=>s.Vst().wst(t.UJ()),o=(t,s)=>{const i=n(t,s);if(i)return i.bit();const e=t.UJ().gV();return e.Sit()?e.bit():t.urt().crt()},a=(t,s,i,e=0)=>{const h=s.Vst().wst(t.UJ());if(!h)return e;const n=h.HJ(i);if(!n)return e;const r=n.yet().uet();if(!r)return e;const o=r.Dnt();return o?o.Det():e};let u;if(r)u=s[s.length-1].Zg();else{let t=s[0];u=t.urt().crt()*t.urt().frt(),u+=a(t,i,"offsetHeight"),u+=o(t,i)*a(t,i,"offsetScaleY");for(let e=1;e<s.length;e++)t=s[e],u*=t.urt().frt(),u+=a(t,i),u+=o(t,i)*a(t,i,"offsetScaleY")}e.ort=0===u?Number.EPSILON:u}if(h)return;t.drt(s/e.ort,!0)}else t.drt(s)}),((t,s)=>t.Ug(s)),(t=>t.Zg()),!0),Om("offsetAngle",((t,s,i,e,h)=>{t.prt(s)}),((t,s)=>t.qB(s)),(t=>t.XB()),!1,!0),Om("offsetOpacity",((t,s,i,e,h)=>{s/=e.mrt?e.mrt:1;const n=t.tL()+s;if(0===e.grt)n>1?e.grt+=n-1:n<0&&(e.grt+=n),t.yrt(s);else{const i=t.tL()+s;s>0&&e.grt>0?i>1&&(e.grt+=i-1):s>0&&e.grt<0?(e.grt+=s,e.grt>0&&(t.yrt(e.grt),e.grt=0)):s<0&&e.grt>0?(e.grt+=s,e.grt<0&&(t.yrt(e.grt),e.grt=0)):s<0&&e.grt<0&&i<0&&(e.grt+=i)}}),((t,s)=>{t.iL(s)}),(t=>t.tL()),!1,!0,((t,s,i)=>{switch(t.grt=0,t.mht.K8()){case"relative":{t.mht.Qst();const s=t.mht.yet().uet().aet();let i=t.oj().tL(),e=i;for(const h of s){const s=h.EO();e=i+t.mht.iht(s),e=Nm.Zh(e,0,1)}t.Mrt=i-e,t.Mrt=Math.round(100*(t.Mrt+Number.EPSILON))/100,e=i;for(let i=s.length-1;i>=0;i--){const h=s[i].EO();e-=t.mht.iht(h),e=Nm.Zh(e,0,1)}t.wrt=e,t.wrt=Math.round(100*(t.wrt+Number.EPSILON))/100;break}}const e="relative"===t.mht.K8(),h=1===t.rrt.NG();if((e||h)&&s.LY()&&s.HY()){const e=[];let h=s.SY();for(;h;)e.push(h),h=h.SY();e.reverse();const n=(t,s,i)=>{const e=s.Vst().wst(t.UJ());if(!e)return 0;const h=e.HJ(i);if(!h)return 0;const n=h.yet().uet();if(!n)return 0;const r=n.Dnt();return r?r.Det():0};let r=e[0].urt().Srt();r+=n(e[0],i,"offsetOpacity");for(let t=1;t<e.length;t++)r+=n(e[t],i,"offsetOpacity");t.mrt=0===r?1:r}}),(t=>{switch(t.mht.K8()){case"relative":{t.grt=0;const s=t.oj();let i=s.tL();i=Math.round(100*(i+Number.EPSILON))/100,t.mht.Vst().ott()?(s.iL(i+t.Mrt),t.bI=0):(s.iL(i-t.wrt),t.bI=t.V9().pht());break}}})),Om("offsetOriginX",((t,s)=>t.Trt(s)),((t,s)=>t.QQ(s)),(t=>t.WQ()),!1),Om("offsetOriginY",((t,s)=>t.brt(s)),((t,s)=>t.JQ(s)),(t=>t.VQ()),!1),Om("offsetZElevation",((t,s)=>t.xrt(s)),((t,s)=>t.qb(s)),(t=>t.Hb()),!0),Om("offsetScaleX",((t,s,i,e)=>{if(0===s)return;const h=t.Bg()<0?-1:1;if("relative"===e.mht.K8()&&t.LY()&&t.zY()){const n=i.wit()*h*s;isNaN(e.ort)&&Lm.get("offsetWidth").trt(t,1,i,e,!0),t.vy(n/e.ort,!0)}else t.vy(i.wit()*h*s)}),((t,s,i)=>{t.Hg(i.wit()*s)}),((t,s)=>{const i=t.Bg()<0?-1:1;if(t.zY()){const e=t.SY(),h=s.Vst().wst(e.UJ());let n=NaN;if(h)n=e.Bg()/h.wit();else{const t=e.UJ().gV();n=t.Sit()?e.Bg()/t.wit():1}return t.Bg()*i/(s.wit()*n)}return t.Bg()*i/s.wit()}),!1),Om("offsetScaleY",((t,s,i,e)=>{if(0===s)return;const h=t.Zg()<0?-1:1;if("relative"===e.mht.K8()&&t.LY()&&t.UY()){const n=i.bit()*h*s;isNaN(e.ort)&&Lm.get("offsetHeight").trt(t,1,i,e,!0),t.drt(n/e.ort,!0)}else t.drt(i.bit()*h*s)}),((t,s,i)=>{t.Ug(i.bit()*s)}),((t,s)=>{const i=t.Zg()<0?-1:1;if(t.UY()){const e=t.SY(),h=s.Vst().wst(e.UJ());let n=NaN;if(h)n=e.Zg()/h.bit();else{const t=e.UJ().gV();n=t.Sit()?e.Zg()/t.bit():1}return t.Zg()*i/(s.bit()*n)}return t.Zg()*i/s.bit()}),!1);class Rm extends Nm.Yst.Aht{constructor(t){super(t),this.bI=0,this.grt=0,this.Mrt=0,this.wrt=0,this.mrt=NaN,this.ort=NaN,this.vrt=void 0,this.Crt=void 0,this.Grt=null,this.Irt=null,this._rt=null,this.Ert=null,this.Art=null,this.Drt=null,this.Nrt=null,this.Lrt=null,this.Ort=!1,this.Rrt=!1,Nm.ke(this.mht.Vst(),Nm.krt)?this.rrt=new Nm.Yst.Aht.Prt(this):this.rrt=new Nm.Yst.Aht.Frt(this);const s=this.mht.Mst();switch(this.mht.sit()){case"world-instance":{const t=Lm.get(s);this.Grt=t.irt,this.Irt=t.trt,this._rt=t.srt,this.Ort=t.round,this.Rrt=t.ert,this.Art=t.init,this.Ert=t.reset;break}case"audio":this.Drt=t.ynt,this.Nrt=t.Mnt,this.Lrt=t.wnt,this.Ort=!!t.Snt(),this.Rrt=!1}}Vh(){this.rrt=null,this.Grt=null,this.Irt=null,this._rt=null,this.Ert=null,this.Art=null,this.Drt=null,this.Nrt=null,this.Lrt=null,super.Vh()}sht(){return this.rrt.sht()}jrt(){return this.bI}zrt(t){this.bI=t}ztt(){this.Ert&&this.Ert(this)}a8(){const t=this.rrt.a8();if("number"==typeof t&&(this.bI=t),this.Art){const t=this.oj(),s=this.mht.met();this.Art(this,t,s)}}Xtt(){const t=this.rrt.Xtt();"number"==typeof t&&(this.bI=t)}$et(){return this.Int()}Jit(){return this._nt()!==this.$et()}Hit(){return!Nm.ie(this.xnt)&&this.xnt!==this.$et()}Sht(){this.rrt.Sht()}Ght(t,s,i,e,h,n,r,o){return this.rrt.Ght(t,s,i,e,h,n,r,o)}Iht(){this.rrt.Iht()}Int(){const t=this.Pnt(),s=this.knt(),i=this.oj(),e=this.mht.met();switch(this.mht.sit()){case"behavior":case"plugin":return t.Wnt(s);case"effect":return t[s];case"instance-variable":return t.Knt(s);case"world-instance":return this.Grt(i,e);case"audio":return this.Drt.call(this.V9(),i,e)}}Hnt(t,s,i){const e=this.Pnt(),h=this.knt(),n=this.oj(),r=this.mht.met();switch(this.mht.sit()){case"behavior":e.Brt(h,t);break;case"effect":e[h]+=t;break;case"instance-variable":e.Urt(h,t);break;case"plugin":e.Brt(h,t,this.V9().Bht());break;case"world-instance":this.Irt(n,t,r,this);break;case"audio":this.Nrt.call(this.V9(),n,t,r,this)}}Wrt(t,s,i){let e=this.mht.K9();if(e="default"===e?"continuous":e,"discrete"===e&&!s)return;if("discrete"===e&&i){const t=this.mht.Vst().EO();if(!this.mht.Vet(t))return}const h=this.Pnt(),n=this.knt(),r=this.oj(),o=this.mht.met();switch(this.mht.sit()){case"behavior":h.qnt(n,t);break;case"effect":h[n]=t;break;case"instance-variable":h.$nt(n,t);break;case"plugin":h.qnt(n,t,this.V9().Bht());break;case"world-instance":this._rt(r,t,o);break;case"audio":this.Lrt.call(this.V9(),r,t,o)}}Qrt(t,s,i,e,h,n,r,o){this.rrt.Qrt(t,s,i,e,h,n,r,o)}Yrt(t,s,i,e,h){"angle"===this.mht.Ret()&&(t=Nm.tn(t));const n=(t.toString().split(".")[1]||"").length,r=this.Int();let o;switch(o=0===n?this.Ort?Math.round(r):this.Rrt?"angle"===this.mht.Ret()?Nm.$h(Math.round(Nm.tn(r))):Number(Nm.toFixed(r,2)):r:this.Ort?Number(Nm.toFixed(r,n)):(this.Rrt,r),this.Hnt(o-r,s,i),this.mht.Mst()){case"offsetWidth":case"offsetScaleX":{const t=this.oj(),s=t.Bg(),i=Number(Nm.toFixed(s,2));t.vy(i-s);break}case"offsetHeight":case"offsetScaleY":{const t=this.oj(),s=t.Zg(),i=Number(Nm.toFixed(s,2));t.drt(i-s);break}}}t3(){return Object.assign(super.t3(),{v:this.bI,a:this.grt,fod:this.Mrt,bod:this.wrt,of:this.mrt,sf:this.ort,armorf:this.vrt,armandf:this.Crt})}s3(t){t&&(super.s3(t),this.bI=t.v,this.grt=t.a,this.Mrt=Nm.$i(t.fod)?t.fod:0,this.wrt=Nm.$i(t.bod)?t.bod:0,this.mrt=Nm.$i(t.of)?t.of:NaN,this.ort=Nm.$i(t.sf)?t.sf:NaN,this.vrt=Nm.$i(t.armorf)?t.armorf:void 0,this.Crt=Nm.$i(t.armandf)?t.armandf:void 0)}}Nm.Yst.Aht.Dht=Rm}{const km=self.Gs;class Pm{constructor(t){this.Vrt=!1,this.Wht=0,this.Jrt=!1,this.Hrt=!1,this.jst=t;for(let t=0,s=this.jst.length;t<s;t++)this.jst[t].det(this)}yst(){return this.jst}qrt(){this.Vrt=!0}Xrt(){return this.Vrt}dht(t){this.Wht=t}Det(){return this.Wht}Zrt(t){this.Jrt=t}Krt(){return this.Jrt}tst(t){this.Hrt=t}$rt(){return this.Hrt}Ff(){this.Vrt=!1,this.Wht=0,this.Jrt=!1,this.Hrt=!1}}class Fm{constructor(t){this.tot=t}Vh(){this.tot=null}NG(){return 0}a8(){const t=this.tot;return this.tot.HJ(),t.Lnt((()=>t.Ant((()=>0),(()=>t.V9().pht()))),(()=>{}))}Xtt(){}sht(){switch(this.tot,this.tot.HJ().K8()){case"relative":return!1;case"absolute":return!0}}Sht(){this.tot;const t=this.tot.HJ(),s=t.Mst();switch(t.K8()){case"relative":break;case"absolute":if(t.fet())t.pet().Ff();else{const i=t.Vst(),e=t.UJ(),h=t.V9(),n=i.Y9(e,h,s,t);n&&n.length>1&&new Pm(n)}}}Ght(t,s,i,e,h,n,r,o){const a=this.tot,u=this.tot.HJ();switch(u.K8()){case"relative":{const r=a.jrt();a.Hnt(s-r,i,e),n&&this.Qrt(t,i,e,h,r,s),a.zrt(s);break}case"absolute":{const t=u.Vst(),i=u.met();if(u.UJ(),u.V9(),u.fet()){const e=u.pet(),h=e.yst(),n=a.jnt(h,!0),l=a.znt(t,t.EO(),n);if(l){const t=i.ist(),h=l.time-t;if(0===h)e.tst(r),e.Zrt(o),e.qrt(),e.dht(e.Det()+s);else{if(h<0)return;const t=u.iht(h);e.tst(r),e.Zrt(o),e.qrt(),e.dht(e.Det()+(s-t))}}}else a.Wrt(s,o,r);break}}}Iht(){const t=this.tot,s=this.tot.HJ();switch(s.K8()){case"relative":break;case"absolute":if(s.fet()){const i=s.pet();i.Xrt()&&t.Wrt(i.Det(),i.Krt(),i.$rt())}}}Qrt(t,s,i,e,h,n){const r=this.tot;e||(s&&t===s.EO()?r.Yrt(s.o7(),s,i):i&&t===i.EO()?r.Yrt(i.o7(),s,i):n-h==0&&r.Yrt(s.o7(),s,i))}}km.Yst.Aht.Frt=Fm}{const jm=self.Gs;class zm{constructor(t){this.tot=t}Vh(){this.tot=null}NG(){return 1}a8(){const t=this.tot;return t.Cnt(!0),this.Rnt(t._nt())}Xtt(){const t=this.tot;if(t._nt()!==t.Nnt())return t.Cnt(!0),this.Rnt(t.Nnt())}sht(){return!1}Sht(){}Ght(t,s,i,e,h,n,r,o){const a=this.tot,u=a.jrt();switch(a.HJ().K8()){case"relative":a.Hnt(s-u,i,e),n&&this.Qrt(t,i,e,h,u,s,!1,r);break;case"absolute":a.Gnt()?(a.Cnt(!1),a.Hnt(u,i,e)):0===t&&0===a.HJ().Vst().xJ()?a.Wrt(s,!0,!1):(a.Hnt(s-u,i,e),n&&this.Qrt(t,i,e,h,u,s,this.sot(),r))}a.zrt(s)}Iht(){}Rnt(t){return t-this.tot.$et()}sot(){const t=this.tot,s=t.oj().UJ(),i=t.HJ().Rj().Q9();let e=0;for(const t of i.k6())0===t.NG()?t.B6(s)&&e++:1===t.NG()&&t.UJ()===s&&e++;return e<=1}Qrt(t,s,i,e,h,n,r,o){const a=this.tot;e?s&&t===s.EO()?a.Yrt(s.o7(),s,i,r,o):i&&t===i.EO()?a.Yrt(i.o7(),s,i,r,o):i||a.Yrt(s.o7(),s,i,r,o):s&&t===s.EO()?a.Yrt(s.o7(),s,i,r,o):i&&t===i.EO()?a.Yrt(i.o7(),s,i,r,o):n-h==0&&a.Yrt(s.o7(),s,i,r,o)}}jm.Yst.Aht.Prt=zm}{const Bm=self.Gs,Um=self.Bl;Bm.Yst.Tht=class{constructor(){}static Znt(t,s,i,e){let h;switch(e){case"behavior":case"plugin":h=s.Wnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Knt(t)}return h!==i}static Mc(t,s,i,e){if(!i){let t=e.yet();return t=e.Qst().Dnt(t),t.o7()}let h=e.K9();if("default"===h&&(h="continuous"),"combo"===e.Ret()&&(h="discrete"),"discrete"===h)return s.o7();if("continuous"===h||"step"===h){const n=e.Vst().X9();if("step"===h&&0!==n){const s=1/n;t=Math.floor(t*s)/s}const r=s.o7(),o=i.o7(),a=s.n7("cubic-bezier"),u=i.n7("cubic-bezier"),l=a&&a.iot()&&u&&u.eot();if(!l&&r===o)return r;const c=s.EO(),f=i.EO();"step"===h&&0!==n&&(t=Bm.Zh(t,c,f));const d=Bm.normalize(t,c,f),p=s.fht();let m;if(l){const t=f-c;m=Um.hc(p)(t*d,0,1,t),m=Um.hc("cubicbezier")(m,r,r+a.l7(),o+u.d7(),o)}else m=Um.hc(p)((f-c)*d,r,o-r,f-c);return"integer"===e.Ret()?Math.floor(m):m}}}}{const Wm=self.Gs;Wm.Yst.bht=class{constructor(){}static Znt(t,s,i,e){let h;switch(e){case"behavior":case"plugin":h=s.Wnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Knt(t)}return h!==i}static Mc(t,s,i,e){if(!i){let t=e.yet();return t=e.Qst().Dnt(t),t.o7()}let h=e.K9();if("default"===h&&(h="continuous"),"combo"===e.Ret()&&(h="discrete"),"discrete"===h)return s.o7();if("continuous"===h||"step"===h){const n=e.Vst().X9();if("step"===h&&0!==n){const s=1/n;t=Math.floor(t*s)/s}const r=s.EO(),o=i.EO(),a=s.o7(),u=i.o7();"step"===h&&0!==n&&(t=Wm.Zh(t,r,o));const l=s.n7("angle");if(!l){if(a===u)return a;const i=Wm.normalize(t,r,o),e=self.Bl.hc(s.fht());return Wm.cn(a,u,e(i,0,1,1))}{const i=l.hot();if(a===u&&0===i)return a;const e=Wm.normalize(t,r,o),h=self.Bl.hc(s.fht())(e,0,1,1);switch(l.not()){case"closest":return Wm.cn(a,u,h,i);case"clockwise":return Wm.fn(a,u,h,i);case"anti-clockwise":return Wm.dn(a,u,h,i)}}}}}}self.Gs.Yst.xht=class{constructor(){}static Znt(t,s,i,e){let h;switch(e){case"behavior":case"plugin":h=s.Wnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Knt(t)}return!!h!=!!i}static Mc(t,s,i,e){if(!i){let t=e.yet();return t=e.Qst().Dnt(t),t.o7()?1:0}return s.o7()?1:0}};{const Qm=self.Gs,Ym=[0,0,0],Vm=[0,0,0],Jm=[0,0,0];Qm.Yst.vht=class{constructor(){}static Znt(t,s,i,e){let h;switch(e){case"behavior":case"plugin":h=s.Wnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Knt(t)}return Array.isArray(i)?(Ym[0]=i[0],Ym[1]=i[1],Ym[2]=i[2]):(Jm.na(i),Ym[0]=Math.floor(255*Jm.Po()),Ym[1]=Math.floor(255*Jm.Fo()),Ym[2]=Math.floor(255*Jm.jo())),Array.isArray(h)?(Vm[0]=h[0],Vm[1]=h[1],Vm[2]=h[2]):(Jm.na(h),Vm[0]=Math.floor(255*Jm.Po()),Vm[1]=Math.floor(255*Jm.Fo()),Vm[2]=Math.floor(255*Jm.jo())),Ym[0]!==Vm[0]||Ym[1]!==Vm[1]||Ym[2]!==Vm[2]}static Mc(t,s,i,e){if(!i){let t=e.yet();t=e.Qst().Dnt(t);const s=t.o7();return Ym[0]=s[0],Ym[1]=s[1],Ym[2]=s[2],Ym}let h=e.K9();if("default"===h&&(h="continuous"),"discrete"===h){const t=s.o7();return Ym[0]=t[0],Ym[1]=t[1],Ym[2]=t[2],Ym}if("continuous"===h||"step"===h){const n=e.Vst().X9();if("step"===h&&0!==n){const s=1/n;t=Math.floor(t*s)/s}const r=s.EO(),o=i.EO(),a=s.o7(),u=i.o7();"step"===h&&0!==n&&(t=Qm.Zh(t,r,o));const l=Qm.normalize(t,r,o),c=s.fht(),f=a[0],d=a[1],p=a[2],m=u[0],g=u[1],y=u[2],M=self.Bl.hc(c),w=o-r,S=w*l;return Ym[0]=f===m?f:M(S,f,m-f,w),Ym[1]=d===g?d:M(S,d,g-d,w),Ym[2]=p===y?p:M(S,p,y-p,w),Ym}}}}self.Gs.Yst.Cht=class{constructor(){}static Znt(t,s,i,e){let h;switch(e){case"behavior":case"plugin":h=s.Wnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Knt(t)}return h!==i}static Mc(t,s,i,e){if(!i){let t=e.yet();return t=e.Qst().Dnt(t),t.o7()}return s.o7()}};{const Hm=self.Gs;Hm.W5=class{constructor(){this.rot=new Map}Vh(){for(const t of this.rot.values())t.Vh();this.rot.clear(),this.rot=null}Fl(t){const s=new Hm.oot(t),i=s._c();this.rot.set(i,s)}Ys(t){return this.rot.get(t)}P9(){return 0}static aot(t,s,i,e){if(s)for(const h of s)Hm.W5.uot("create",h,t,i,e)}static lot(t,s,i,e){if(s)for(const h of s)Hm.W5.uot("create-including-disabled",h,t,i,e)}static cot(t,s,i,e){t.length?s.forEach(((s,i)=>{t[i].s3(s)})):s.forEach((s=>{Hm.W5.uot("load",s,t,i,e)}))}static uot(t,s,i,e,h){let n;if("function"==typeof e)switch(t){case"load":n=new e(null,h);break;case"create":case"create-including-disabled":n=new e(s,h)}else if("object"==typeof e){const i=s[e.fot],r=e.map.get(i);switch(t){case"load":n=new r(null,h);break;case"create":case"create-including-disabled":n=new r(s,h)}}switch(t){case"load":n.s3(s),i.push(n);break;case"create":if("function"==typeof n.mit&&!n.mit())return n.Vh();i.push(n);break;case"create-including-disabled":i.push(n)}}}}{const qm=self.Gs;qm.oot=class{constructor(t){this.qh="",this.$tt=NaN,this.dot=0,this.pot="default",this.mot="default",this.got=!1,this.yot=!1,this.Mot=1,this.Ist=null,this.wot="",this.Sot=!1,this.Tot=!0,t&&(this.qh=t[0],this.$tt=t[1],this.dot=t[2],this.pot=t[3],this.mot=t[4],this.got=!!t[6],this.yot=!!t[7],this.Mot=t[8],this.wot=t[9],this.Sot=!!t[10],this.Tot=!!t[11],this.Ist=new qm.bot(t[5],this))}Vh(){this.Ist.Vh(),this.Ist=null}U9(){return this.Ist||(this.Ist=new qm.bot(null,this)),this.Ist}_c(){return this.qh}yq(t){this.qh=t}xJ(){return this.$tt}bJ(t){this.$tt=t}X9(){return this.dot}Z9(t){this.dot=t}K9(){return this.pot}ttt(t){this.pot=t}K8(){return this.mot}stt(t){this.mot=t}CJ(){return this.got}vJ(t){this.got=t}IJ(){return this.yot}GJ(t){this.yot=t}UV(){return this.Mot}itt(t){this.Mot=t}S8(){return this.wot}ett(){return this.Sot}htt(){return this.Tot}t3(){return{trackDataJson:this.Ist.t3(),name:this.qh,totalTime:this.$tt,step:this.dot,interpolationMode:this.pot,resultMode:this.mot,loop:this.got,pingPong:this.yot,repeatCount:this.Mot,startOnLayout:this.wot,transformWithSceneGraph:!!this.Sot,useSystemTimescale:this.Tot}}s3(t){t&&(this.U9().s3(t.trackDataJson),this.qh=t.name,this.$tt=t.totalTime,this.dot=t.step,this.pot=t.interpolationMode,this.mot=t.resultMode,this.got=t.loop,this.yot=t.pingPong,this.Mot=t.repeatCount,this.wot=t.startOnLayout,this.Sot=!!t.transformWithSceneGraph,this.Tot=!!t.useSystemTimescale)}}}{const Xm=self.Gs;class Zm{constructor(t,s){this.Ist=s,this.xot=null,this.vot=null,this._st=NaN,this.Est=NaN,this.pot="default",this.mot="default",this.cl=!1,this.Cot=null,this.net=null,this.jc="",this.Got=null,this.Iot=0,this._ot=this.Ist.q9().xJ(),this.Yc=0,this.qh="",t&&(t[0]&&(this.xot=t[0],this._st=t[0][2],this.Est=t[0][1]),this.pot=t[1],this.mot=t[2],this.cl=!!t[3],t[6]&&(this.jc=t[6]),t[7]&&(this.Got=t[7],this.Iot=t[7][0],this._ot=t[7][1]),t[8]&&(this.vot=t[8]),t[8]&&(this.vot=t[8]),t[9]&&(this.Yc=t[9]),t[10]&&(this.qh=t[10]),this.Cot=new Xm.Eot(t[4],this),this.net=new Xm.Aot(t[5],this))}Vh(){this.xot=null,this.Ist=null,this.Cot&&(this.Cot.Vh(),this.Cot=null),this.net&&(this.net.Vh(),this.net=null),this.Got=null}U9(){return this.Ist}hst(){return this.Cot||(this.Cot=new Xm.Eot(null,this)),this.Cot}Qst(){return this.net||(this.net=new Xm.Aot(null,this)),this.net}Dot(){return this.xot}Xst(){return this.Est}yit(t){this.Est=t}qst(){return this._st}fit(t){this._st=t}K9(){return this.pot}ttt(t){this.pot=t}K8(){return this.mot}stt(t){this.mot=t}mit(){return this.cl}git(t){this.cl=!!t}VJ(){return this.jc}ist(){return this.Iot}dit(){return this._ot}pit(t){this._ot=t}wit(){return this.vot[0]}Mit(t){this.vot||(this.vot=[]),this.vot[0]=t}bit(){return this.vot||(this.vot=[]),this.vot[1]}Tit(t){this.vot||(this.vot=[]),this.vot[1]=t}NG(){return this.Yc}_c(){return this.qh}t3(){return{keyframeDataJson:this.Cot.t3(),propertyTrackDataJson:this.net.t3(),instanceData:this.xot,additionalInstanceData:this.vot,instanceUid:this._st,objectClassIndex:this.Est,interpolationMode:this.pot,resultMode:this.mot,enabled:this.cl,id:this.jc,nestedData:this.Got,type:this.Yc,name:this.qh}}s3(t){t&&(this.xot=t.instanceData,this._st=t.instanceUid,this.Est=t.objectClassIndex,this.pot=t.interpolationMode,this.mot=t.resultMode,this.cl=t.enabled,this.jc=t.id,this.Yc=t.type?t.type:0,this.qh=t.name?t.name:"",this._ot=this.Ist.q9().xJ(),t.nestedData&&(this.Got=t.nestedData,this.Iot=this.Got[0],this._ot=this.Got[1]),t.additionalInstanceData&&(this.vot=t.additionalInstanceData),this.hst().s3(t.keyframeDataJson),this.Qst().s3(t.propertyTrackDataJson))}}Xm.bot=class{constructor(t,s){this.n9=s,this.Not=[],Xm.W5.aot(this.Not,t,Zm,this)}Vh(){this.n9=null;for(const t of this.Not)t.Vh();Xm.wr(this.Not),this.Not=null}q9(){return this.n9}ust(){const t=new Zm(null,this);return this.Not.push(t),t}Lot(t){return t.hst().Fst()[0]}Oot(t){return t.hst().Fst().at(-1)}Rit(t,s){const i=s.hst().Fst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()===t)return e}}Rot(t,s){const i=s.hst().Fst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()>t)return e}}Lit(t,s){const i=s.hst().Fst(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()>=t)return e}}Nit(t,s){const i=s.hst().Fst();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.EO()<=t)return e}}*B9(){for(const t of this.Not)yield t}t3(){return{trackDataItemsJson:this.Not.map((t=>t.t3()))}}s3(t){t&&Xm.W5.cot(this.Not,t.trackDataItemsJson,Zm,this)}}}{const Km=self.Gs;class $m{constructor(t,s){this.net=s,this.kot="",this.Pot=null,this.Tnt=null,this.Yc=null,this.Fot=NaN,this.jot=NaN,this.pot="default",this.mot="default",this.cl=!1,this.zot=null,this.Bot=!0,t&&(this.kot=t[0][0],this.Pot=t[0].slice(1),this.Tnt=t[1],this.Yc=t[2],this.Fot=t[3],this.jot=t[4],this.pot=t[5],this.mot=t[6],this.cl=!!t[7],this.zot=new Km.Uot(t[8],this),this.Bot=t[9])}Vh(){this.zot.Vh(),this.zot=null,this.net=null,this.Pot=null}Qst(){return this.net}uet(){return this.zot||(this.zot=new Km.Uot(null,this)),this.zot}sit(){return this.kot}Get(t){this.kot=t}_et(){return this.Pot}Aet(t){this.Pot=t}Net(){return this.Tnt}Oet(t){this.Tnt=t}NG(){return this.Yc}Pet(t){this.Yc=t}zet(){return this.Fot}Bet(t){this.Fot=t}Uet(){return this.jot}Wet(t){this.jot=t}K9(){return this.pot}ttt(t){this.pot=t}K8(){return this.mot}stt(t){this.mot=t}mit(){return this.cl}git(t){this.cl=!!t}Yet(){return!!this.Bot}t3(){return{propertyKeyframeDataJson:this.zot.t3(),sourceAdapterId:this.kot,sourceAdapterArguments:this.Pot,property:this.Tnt,type:this.Yc,min:this.Fot,max:this.jot,interpolationMode:this.pot,resultMode:this.mot,enabled:this.cl,canHavePropertyKeyframes:this.Bot}}s3(t){t&&(this.kot=t.sourceAdapterId,this.Pot=t.sourceAdapterArguments,this.Tnt=t.property,this.Yc=t.type,this.Fot=t.min,this.jot=t.max,this.pot=t.interpolationMode,this.mot=t.resultMode,this.cl=t.enabled,this.Bot=t.canHavePropertyKeyframes,this.uet().s3(t.propertyKeyframeDataJson))}}Km.Aot=class{constructor(t,s){this.Gst=s,this.Wot=[],Km.W5.aot(this.Wot,t,$m,this)}Vh(){this.Gst=null;for(const t of this.Wot)t.Vh();Km.wr(this.Wot),this.Wot=null}est(){return this.Gst}Uit(){const t=new $m(null,this);return this.Wot.push(t),t}jet(t){return t.uet().aet()[0]}Dnt(t){return t.uet().aet().at(-1)}Vet(t,s){const i=s.uet().aet(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()===t)return e}}qet(t,s){const i=s.uet().aet(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()>t)return e}}Xet(t,s){const i=s.uet().aet(),e=i.length;for(let s=0;s<e;s++){const e=i[s];if(e.EO()>=t)return e}}Jet(t,s){const i=s.uet().aet();for(let s=i.length-1;s>=0;s--){const e=i[s];if(e.EO()<=t)return e}}*Wst(){for(const t of this.Wot)yield t}t3(){return{propertyTrackDataItemsJson:this.Wot.map((t=>t.t3()))}}s3(t){t&&Km.W5.cot(this.Wot,t.propertyTrackDataItemsJson,$m,this)}}}{const tg=self.Gs;class sg{constructor(t,s){if(this.Cot=s,this.CR=-1,this.Qot="noease",this.Yot=!1,this.D9=null,this.Vot=null,!t)return;this.CR=t[0],this.Qot=t[1],this.Yot=!!t[2];const i=t[3];this.D9=i?i.split(" "):[],this.Vot=new Set(this.D9.map((t=>t.toLowerCase()))),this.Jot=null,this.Hot=null}Vh(){this.Cot=null,tg.wr(this.D9),this.D9=null,this.Vot.clear(),this.Vot=null,this.Jot=null}hst(){return this.Cot}Q8(){return this.Jot}qot(t){this.Jot=t}Oit(){return this.Hot}Xot(t){this.Hot=t}EO(){return this.CR}TJ(t){this.CR=t,this.Cot.Zot()}fht(){return this.Qot}BJ(t){this.Qot=t}mit(){return this.Yot}git(t){this.Yot=!!t}AJ(){return this.D9}att(t){this.D9=t?t.split(" "):[],this.Vot=new Set(this.D9.map((t=>t.toLowerCase())))}Kot(){return this.Vot}bst(t){return this.Vot.has(t.toLowerCase())}t3(){return{time:this.CR,ease:this.Qot,enable:this.Yot,tags:this.D9}}s3(t){t&&(this.CR=t.time,this.Qot=t.ease,this.Yot=t.enable,this.D9=t.tags,this.Vot=new Set(this.D9.map((t=>t.toLowerCase()))))}}tg.Eot=class{constructor(t,s){this.Gst=s,this.Pst=[],tg.W5.aot(this.Pst,t,sg,this),this.Zot()}Vh(){this.Gst=null;for(const t of this.Pst)t.Vh();tg.wr(this.Pst),this.Pst=null}Zot(){this.Pst.sort(((t,s)=>t.EO()-s.EO()));for(let t=0;t<this.Pst.length;t++){const s=this.Pst[t];s.qot(this.Pst[t+1]),s.Xot(this.Pst[t-1])}}est(){return this.Gst}$ot(){return this.Pst.length}Fst(){return this.Pst}zit(){const t=new sg(null,this);return this.Pst.push(t),this.Zot(),t}Qit(t){for(const s of this.Pst){if(!t(s))continue;const i=this.Pst.indexOf(s);-1!==i&&(s.Vh(),this.Pst.splice(i,1))}this.tat(),this.Zot()}tat(){this.Pst.sort(((t,s)=>t.EO()-s.EO()))}tet(t){return this.Pst.indexOf(t)}iet(t){return this.Pst[t]}*sat(){for(const t of this.Pst)yield t}*iat(){for(let t=this.Pst.length-1;t>=0;t--)yield this.Pst[t]}t3(){return{keyframeDataItemsJson:this.Pst.map((t=>t.t3()))}}s3(t){t&&(tg.W5.cot(this.Pst,t.keyframeDataItemsJson,sg,this),this.Zot())}}}{const ig=self.Gs;class eg{constructor(t,s){this.zot=s,this.Wht=null,this.eat=null,this.Yc="",this.CR=NaN,this.Qot="noease",this.Yot=!1,this.hat=null,this.nat=void 0,this.rat="line",t&&(this.Wht=t[0][0],this.eat=t[0][1],this.Yc=t[0][2],this.CR=t[1],this.Qot=t[2],this.Yot=!!t[3],this.rat=t[5],this.hat=null,t[4]&&(this.hat=new ig.oat(t[4],this)),this.Jot=null,this.aat=null)}Vh(){this.zot=null,this.hat&&(this.hat.Vh(),this.hat=null),this.Jot=null,this.aat=null}uat(){return this.hat}qot(t){this.Jot=t}Q8(){return this.Jot}lat(t){this.aat=t}Y8(){return this.aat}Det(){return this.Wht}dht(t){"color"===this.Yc&&ig.$i(t)?(this.Wht[0]=ig.En(t),this.Wht[1]=ig.An(t),this.Wht[2]=ig.Dn(t)):this.Wht=t}Ent(){return this.eat}uht(t){"color"===this.Yc&&ig.$i(t)?(this.eat[0]=ig.En(t),this.eat[1]=ig.An(t),this.eat[2]=ig.Dn(t)):this.eat=t}o7(){const t=this.zot.yet().K8();return"relative"===t?this.Det():"absolute"===t?this.Ent():void 0}NG(){return this.Yc}Pet(t){this.Yc=t}EO(){return this.CR}TJ(t){this.CR=t,this.zot.cat()}fht(){return this.Qot}BJ(t){this.Qot=t}mit(){return this.Yot}git(t){this.Yot=!!t}V8(){return this.rat}n7(t){if(!this.hat)return;if(this.nat||null===this.nat)return this.nat;const s=this.hat.fat();if(!s)return this.nat=null,this.nat;const i=s.length;for(let e=0;e<i;e++){const i=s[e];if(i.VJ()===t)return this.nat=i,this.nat}return this.nat=null,this.nat}t3(){const t=this.hat;return{addonDataJson:t?t.t3():t,value:this.Wht,aValue:this.eat,type:this.Yc,time:this.CR,ease:this.Qot,enable:this.Yot}}s3(t){t&&(t.addonDataJson&&this.hat.dat(t.addonDataJson),this.Wht=t.value,this.eat=t.aValue,this.Yc=t.type,this.CR=t.time,this.Qot=t.ease,this.Yot=t.enable)}}ig.Uot=class{constructor(t,s){this.het=s,this.oet=[],this.pat=[],ig.W5.aot(this.oet,t,eg,this),ig.W5.lot(this.pat,t,eg,this),this.cat()}Vh(){this.het=null;for(const t of this.oet)t.Vh();ig.wr(this.oet),this.oet=null;for(const t of this.pat)t.Vh();ig.wr(this.pat),this.pat=null}cat(){let t=this.oet;t.sort(((t,s)=>t.EO()-s.EO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.qot(t[s+1]),s-1>=0&&i.lat(t[s-1])}t=this.pat,t.sort(((t,s)=>t.EO()-s.EO()));for(let s=0;s<t.length;s++){const i=t[s];s+1<t.length&&i.qot(t[s+1]),s-1>=0&&i.lat(t[s-1])}}oht(){const t=new eg(null,this);return this.oet.push(t),this.cat(),t}aht(t){for(const s of this.oet){if(!t(s))continue;const i=this.oet.indexOf(s);-1!==i&&(s.Vh(),this.oet.splice(i,1))}this.mat(),this.cat()}mat(){this.oet.sort(((t,s)=>t.EO()-s.EO()))}yet(){return this.het}gat(){return this.oet.length}Dnt(){return this.oet[this.oet.length-1]}aet(){return this.oet}W8(){return this.pat}*yat(){for(const t of this.oet)yield t}*Mat(){for(let t=this.oet.length-1;t>=0;t--)yield this.oet[t]}t3(){const t=this.oet,s=this.pat;return{propertyKeyframeDataItemsJson:t.map((t=>t.t3())),propertyKeyframeDataItemsIncludingDisabledJson:s.map((t=>t.t3()))}}s3(t){t&&(ig.W5.cot(this.oet,t.propertyKeyframeDataItemsJson,eg,this),ig.W5.cot(this.pat,t.propertyKeyframeDataItemsIncludingDisabledJson,eg,this),this.cat())}}}{const hg=self.Gs;class ng{constructor(t,s){this.hat=s,this.jc=t[0],this.wat=t[1]}Vh(){this.hat=null,this.wat=null}uat(){return this.hat}VJ(){return this.jc}t3(){return{id:this.jc,data:this.wat}}s3(t){t&&(this.jc=t.id,this.wat=t.data)}}class rg extends ng{constructor(t,s){super(t,s),this.Sat=this.wat[0],this.Tat=!!this.wat[1],this.bat=this.wat[2],this.xat=!!this.wat[3]}Vh(){super.Vh()}l7(){return this.Sat}iot(){return this.Tat}d7(){return this.bat}eot(){return this.xat}t3(){return Object.assign(super.t3(),{startAnchor:this.Sat,startEnable:!!this.Tat,endAnchor:this.bat,endEnable:!!this.xat})}s3(t){t&&(super.s3(t),this.Sat=t.startAnchor,this.Tat=!!t.startEnable,this.bat=t.endAnchor,this.xat=!!t.endEnable)}}class og extends ng{constructor(t,s){super(t,s),this.vat=this.wat[0],this.Cat=this.wat[1]}Vh(){super.Vh()}not(){return this.vat}hot(){return this.Cat}t3(){return Object.assign(super.t3(),{direction:this.vat,revolutions:this.Cat})}s3(t){t&&(super.s3(t),this.vat=t.direction,this.Cat=t.revolutions)}}hg.oat=class{constructor(t,s){this.Gat=s,this.Iat=[],hg.W5.aot(this.Iat,t,{fot:0,map:new Map([["cubic-bezier",rg],["angle",og]])},this)}Vh(){this.Gat=null;for(const t of this.Iat)t.Vh();hg.wr(this.Iat),this.Iat=null}_at(){return this.Gat}fat(){return this.Iat}*Eat(){for(const t of this.Iat)yield t}t3(){return{addonDataItemsJson:this.Iat.map((t=>t.t3()))}}s3(t){t&&hg.W5.cot(this.Iat,t.addonDataItemsJson,{fot:"id",map:new Map([["cubic-bezier",rg],["angle",og]])},this)}}}{const ag=self.Gs;let ug=0;ag.krt=class extends ag.x6{constructor(t,s){super("tween-"+ug++,t,s),this.jc="",this.Aat=!1,this.Dat="start-value",this.Ast=null,this.Nat=null,this.Lat=null,this.eet=null,this.Oat=null}j9(t){const s=ag.Yh(ag.Event,"tweenstatereleased");s.Rat=this,t.dispatchEvent(s)}NG(){return 1}l9(){for(const t of this.n9.U9().B9())this.r9.push(ag.kat.AC(this,t));this.eet=this.r9[0]}ast(){const t=this.n9.U9().ust(),s=ag.kat.AC(this,t);return this.r9.push(s),this.Pat(),s}Pat(){this.eet=this.r9[0]}HJ(t){return this.eet.yst()[0]}ket(t){this.Fat=t}UJ(){const t=this.z8();if(!t||!t.length)return;const s=t[0];if(this.eet=s,!s)return;const i=s.UJ();return s.Hst()?i:void 0}jat(t){this.Lat||(this.Lat=[]),this.Lat.push(t)}zat(t){this.Nat||(this.Nat=[]),this.Nat.push(t)}Bat(t){if(!this.Lat)return;const s=this.Lat.indexOf(t);-1!==s&&this.Lat.splice(s,1)}Uat(t){if(!this.Nat)return;const s=this.Nat.indexOf(t);-1!==s&&this.Nat.splice(s,1)}Wat(t,s){for(const i of this.r9)for(const e of i.jst){if(e.Mst()!==s)continue;const i=e.Qst(),h=e.yet(),n=i.jet(h);n.dht(t),n.uht(t)}}Qat(t){for(const s of this.r9)for(const i of s.jst)if(i.Mst()===t)return i}Yat(t){for(const s of t){const t=this.Qat(s);this.Wat(t.$et(),s)}if(this.ott()){const t=this.xJ()-this.EO();this.bJ(t);for(const s of this.r9)s.pit(t);this.Ltt(0)}else{const t=this.EO();this.bJ(t);for(const s of this.r9)s.pit(t);this.Ltt(t)}this.Ott()}Vat(t,s){const i=this.Qat(s),e=i.Qst(),h=i.yet(),n=e.Dnt(h);n.TJ(this.xJ()),n.dht(t),n.uht(t)}Jat(t){this.jc=t}VJ(){return this.jc}Hat(t){this.Dat=t}qat(){return this.Dat}YJ(t){this.Aat=t}QJ(){return this.Aat}ftt(){if(this.Lat)for(const t of this.Lat)t(this);if(!this.g8())for(const t of this.r9)t.Hit()}Stt(){this.C9=this.Pc.Ttt()}M8(){if(!this._9&&(this._9=!0,this.Nat))for(const t of this.Nat)t(this)}TJ(t){this.Xat(),super.TJ(t)}jtt(t){ag.$i(t)||(t=this.xJ()),t<0?this.d9=0:t>=this.xJ()?this.d9=this.xJ():this.d9=t,this.eet.ztt()}a8(t){if(!this.y8()&&"current-state"===this.qat())for(const t of this.r9)t.Jit();super.a8(t)}MJ(t=!1){if(super.MJ(t),!this.g8())for(const t of this.r9)t.Vit()}Ff(t=!0,s=!1){this.Xat(),super.Ff(t,s)}Xat(){for(const t of this.r9){const s=t=>{const s=t.EO(),i=this.xJ();return 0!==s&&s!==i};t.Wit(s),t.Yit(s)}}o6(){if(this.gJ())return!0;const t=this.UJ();return!(t&&t.IW().e0()||(this.h9.h8(this),this.Htt(),0))}f8(t,s,i){if(this.Ast||(this.Ast=this.UJ()),!this.Ast||this.Ast.DH())return this.MJ(!0),void this.Stt();const e=this.Ast.mF();if(-1!==e&&(t=i*e),0===t&&0===this.A9)return;this.A9=t;const h=this.d9+this.p9+t*this.m9,n=this.n9.$tt;h<0?(this.d9=0,this.p9=-h):h>=n?(this.d9=n,this.p9=this.d9-h):(this.d9=h,this.p9=0);let r=!1,o=!1;const a=this.CJ(),u=this.IJ();if(a||u?a&&!u?this.m9>0?this.d9>=n&&(this.jtt(0),this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),o=!0):this.d9<=0&&(this.jtt(n),this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),o=!0):!a&&u?this.m9>0?this.d9>=n&&(this.Ltt(n),this._J(-1*this.EJ()),o=!0,1===this.g9?this.M9<this.UV()?(this.M9++,this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut),this.IsPlaying()?this.g9=0:this.y9=0):(this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut),r=!0):0===this.g9&&(this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut),this.IsPlaying()?this.g9=1:this.y9=1)):this.d9<=0&&(this.Ltt(0),this._J(-1*this.EJ()),o=!0,1===this.g9?this.M9<this.UV()?(this.M9++,this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut),this.IsPlaying()?this.g9=0:this.y9=0):(r=!0,this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut)):0===this.g9&&(this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut),this.IsPlaying()?this.g9=1:this.y9=1)):a&&u&&(this.m9>0?this.d9>=n&&(this.Ltt(n),this._J(-1*this.EJ()),o=!0,0===this.g9&&(this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut)),1===this.g9&&(this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut)),this.IsPlaying()?(this.g9++,this.g9=ag.wrap(this.g9,0,2)):(this.y9=this.g9+1,this.y9=ag.wrap(this.y9,0,2))):this.d9<=0&&(this.Ltt(0),this._J(-1*this.EJ()),o=!0,0===this.g9&&(this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut)),1===this.g9&&(this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),this.Zat(ag.tut.$at.Gj.iut),this.Zat(ag.tut.$at.Gj.eut)),this.IsPlaying()?(this.g9++,this.g9=ag.wrap(this.g9,0,2)):(this.y9=this.g9+1,this.y9=ag.wrap(this.y9,0,2)))):this.m9>0?this.d9>=n&&(this.M9<this.UV()?(this.M9++,this.jtt(0),this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),o=!0):(this.Ltt(n),r=!0)):this.d9<=0&&(this.M9<this.UV()?(this.M9++,this.jtt(n),this.Zat(ag.tut.$at.Gj.Kat),this.Zat(ag.tut.$at.Gj.sut),o=!0):(this.Ltt(0),r=!0)),this.IsPlaying()){if(r)return this.eet.tst(),this.MJ(!0),void this.Stt();this.eet.Mc(this.d9,!0,!1,o,this.E9,!1),this.E9&&(this.E9=!1)}}Zat(t){const s=this.UJ(),i=s.hut(ag.tut.$at);i.nut(this),this.Pc.uQ(t,s,i.GV()),i.rut()}t3(){const t=super.t3(),s=this.q9();return Object.assign(t,{tweenDataItemJson:s.t3(),id:this.jc,destroyInstanceOnComplete:this.Aat,initialValueMode:this.Dat})}s3(t){t&&(this.q9().s3(t.tweenDataItemJson),super.s3(t),this.jc=t.id,this.Aat=t.destroyInstanceOnComplete,this.Dat=t.initialValueMode,this.Pat())}static IsPlaying(t){return t.IsPlaying()}static OJ(t){return t.OJ()}static out(t){return!!t.IJ()&&0===t.ntt()}static aut(t){return!!t.IJ()&&1===t.ntt()}static uut(t){const s=t.runtime.Q9(),i=new ag.oot;if(t.json){i.s3(t.json.tweenDataItemJson);const e=new ag.krt(i,s);return e.s3(t.json),e}{const e=new ag.krt(i,s);ag.xe(t.lut)||(t.lut=[t.lut]),e.Jat(t.id),e.att(t.tags),e.Hat(t.cut),e.YJ(t.fut),e.vJ(t.loop),e.GJ(t.dut),e.bJ(t.time),e.Z9(0),e.ttt("default"),e.stt(t.lut[0].mut),e.itt(t.BV);const h=e.ast();h.fit(t.IV.zW()),h.ttt("default"),h.stt(t.lut[0].mut),h.git(!0),h.yit(t.IV.IW().eP());const n=t.IV.gV(),r=n.Sit()?n.wit():t.IV.oj().Bg(),o=n.Sit()?n.bit():t.IV.oj().Zg();h.Mit(r),h.Tit(o);const a=h.jit();a.TJ(0),a.BJ("noease"),a.git(!0),a.att("");const u=h.jit();u.TJ(t.time),u.BJ("noease"),u.git(!0),u.att("");for(const s of t.lut){const i=h.Bit();i.Get(s.gut),i.Eet(s.yut),i.Let(s.uit),i.ket(s.type),i.Bet(NaN),i.Wet(NaN),i.ttt("default"),i.stt(s.mut),i.git(!0);const e=i.rht();e.Pet(s.valueType),e.TJ(0),e.BJ(s.Mut),e.git(!0),e.dht(s.wut),e.uht(s.wut);const n=i.rht();n.Pet(s.valueType),n.TJ(t.time),n.BJ(s.Mut),n.git(!0),n.dht(s.Sut),n.uht(s.Sut),i.V9()}return e}}static fit(t,s){if(!isNaN(s))for(const i of t.z8())i.fit(s)}Tut(t,s){return this.Oat||(this.Oat=ag.Yh(self.PJ,this,t,s)),this.Oat}}}{const lg=self.Gs;lg.kat=class extends lg.W9{constructor(t,s){super(t,s),this.but=null,this.xut=null}static AC(t,s){return lg.Yh(lg.kat,t,s)}vut(){1===this.jst.length?this.but=this.jst[0]:(this.but=this.jst[0],this.xut=this.jst[1])}zst(){for(const t of this.Gst.Qst().Wst())this.jst.push(lg.Cut.AC(this,t));this.vut()}Bit(){const t=this.Gst.Qst().Uit(),s=lg.Cut.AC(this,t);return this.jst.push(s),this.vut(),s}a8(){if(this.Jst(),!this.Hst()&&this.H9())return;const t=this.Vst().ott()?0:this.dit();for(const s of this.jst)s.a8(t),0===this.Bst&&1===s.Cit()&&(this.Bst=1),0===this.w6&&1===s.u8()&&(this.w6=1);this.Ust=0,this.jst.some((t=>t.Ktt()))&&(this.Ust=1),this.kst=this.Git(t),this.Lst=!1,this.Ost=!1,this.Mc(t)}sst(){}Mc(t,s=!1,i=!1,e=!1,h=!1,n=!1,r=!1){if(this.Ast||this.UJ(),this.Ast)return!this.Ast.DH()&&(!n||!this.IW().e0())&&(this.xut?(this.but.Mc(t,i,e,r),this.xut.Mc(t,i,e,r)):this.but.Mc(t,i,e,r),void(0!==this.but.Cit()&&(this.Dst||(this.Dst=this.Ast.oj()),this.Dst&&this.Dst.FQ())))}nst(){}s3(t){super.s3(t),this.vut()}}}{const cg=self.Gs;cg.Cut=class extends cg.Yst{constructor(t,s){super(t,s),this.Gut=!1}static AC(t,s){return cg.Yh(cg.Cut,t,s)}Mc(t,s=!1,i=!1,e=!1){let h,n;if(this.Gut)h=this.oet[0],n=this.oet[1];else if(s)h=this.net.Jet(t,this.het),n=h.Q8();else{if(this.let){const s=this.Vst(),i=this.let.Q8(),e=this.let.EO(),h=i?i.EO():s.xJ();(t<=e||t>=h)&&(this.let=this.net.Jet(t,this.het))}else this.let=this.net.Jet(t,this.het);h=this.let,n=h.Q8()}this.ret.Mc(t,h,n,s,i,e)}rht(){const t=this.het.uet().oht();return this.let=null,this.Gut=this.Qet().length<=2,t}Yit(t){this.let=null,this.het.uet().aht(t),this.Gut=this.Qet().length<=2}t3(){return{sourceAdapterJson:this.V9().t3(),basic:this.Gut}}s3(t){t&&(this.V9().s3(t.sourceAdapterJson),this.Gut=t.basic)}}}{const fg=self.Gs,dg=self.Bl;fg.wc=class extends fg.Wh{constructor(t,s=!0){super(),this.qh=t[0],this.Iut=t[2],this._ut=[];for(const s of t[1]){const t=fg.Eut.AC(this,s);this._ut.push(t)}for(let t=0;t<this._ut.length;t++){const s=this._ut[t],i=this._ut[t+1],e=this._ut[t-1];s.qot(i),s.lat(e)}this.Aut=new Map,this.Dut=new Map,this.Nut(),s&&dg.Tc(this.qh,((t,s,i,e)=>this.Mc(t,s,i,e)),null,{transition:this})}static AC(t){return fg.Yh(fg.wc,t)}Vh(){for(const t of this._ut)t.Vh();fg.wr(this._ut),this._ut=null,this.Aut.clear(),this.Aut=null,this.Dut.clear(),this.Dut=null}Sc(t){this.Iut=!!t}Lut(t){const s=this.Dut.get(t);if(s)return s;for(const s of this._ut)if(s.Out()===t)return this.Dut.set(t,s),s}Rut(t){for(let s=this._ut.length-1;s>=0;s--){const i=this._ut[s],e=i.Out();if(e<=t){let s=i;if(e<t)return s;if(e===t){for(;s;){const t=s.Y8();if(!t)break;if(t.Out()!==s.Out())break;s=t}return s}}}}Mc(t,s,i,e){let h=t/e;if(this.Iut){const h=this.Lut(0),n=this.Lut(1),r=s+(s+i)*h.kut(),o=(s+i)*n.kut()-r;return 0===e?r+o:dg.xc(t,r,o,e)}0===e&&(h=1);let n=this.Rut(h),r=n.Q8();if(!r){const t=n.Y8(),s=n;n=t,r=s}const o=r.Out()-n.Out(),a=fg.Xh(h,n.Out(),r.Out(),0,o);if(n.Put()||0===o){const t=s+(s+i)*n.kut(),e=(s+i)*r.kut()-t;return 0===o?1===a?t+e:t:dg.xc(a,t,e,o)}const u=n.Out(),l=n.kut(),c=n.Out()+n.Fut(),f=n.kut()+n.jut(),d=r.Out()+r.zut(),p=r.kut()+r.But(),m=r.Out(),g=r.kut();let y=dg.hc("spline")(a,u,l,c,f,d,p,m,g,this.Aut.get(n));return y+=n.kut(),(1-y)*s+y*(s+i)}Nut(){this.Aut.clear();for(let t=0;t<this._ut.length-1;t++){const s=this._ut[t];if(!s.iot())continue;const i=s,e=this._ut[t+1];if(!e.eot())continue;const h=i.Out(),n=i.Out()+i.Fut(),r=e.Out()+e.zut(),o=e.Out();this.Aut.set(i,dg.vc(h,n,r,o))}}}}{const pg=self.Gs;pg.Eut=class extends pg.Wh{constructor(t,s){super(),this.Uut=t,this.Wut=s[0],this.Qut=s[1],this.Yut=s[2],this.Vut=s[3],this.Jut=s[4],this.Hut=s[5],this.Tat=s[6],this.xat=s[7],this.qut=s[8],this.Jot=null,this.aat=null}Vh(){this.Uut=null}static AC(t,s){return pg.Yh(pg.Eut,t,s)}qot(t){this.Jot=t}Q8(){return this.Jot}lat(t){this.aat=t}Y8(){return this.aat}Out(){return this.Wut}kut(){return this.Qut}Fut(){return this.Yut}jut(){return this.Vut}zut(){return this.Jut}But(){return this.Hut}iot(){return this.Tat}eot(){return this.xat}Put(){return"linear"===this.qut}Xut(){return"cubic"===this.qut}}}{const mg=self.Gs;mg.Zut=class extends mg.Wh{constructor(t){super(),this.Pc=t,this.Kut=[]}Vh(){for(const t of this.Kut)t.Vh();mg.wr(this.Kut),this.Kut=null}AC(t){this.Kut.push(mg.wc.AC(t))}}}{const gg=self.Gs;gg.$ut=class extends gg.Wh{constructor(t){super(),this.Pc=t,this.tlt=null,this.slt=null,this.l6=t=>this.c6(t.IV)}Vh(){if(this.S6(),this.tlt){for(const t of this.tlt.values())t.clear();this.tlt.clear()}this.tlt=null,this.Pc=null}AC(t){if(this.tlt||(this.tlt=new Map),!t)return;const s=t[0][16][0],i=t[1];this.tlt.has(i)||this.tlt.set(i,new Map),this.tlt.get(i).set(s,t)}T6(){const t=this.Pc.yf();t&&t.addEventListener("instancedestroy",this.l6)}S6(){const t=this.Pc.yf();t&&t.removeEventListener("instancedestroy",this.l6)}ilt(){return!!this.tlt&&0!==this.tlt.size}elt(t,s){let i=0;if(i=t instanceof gg.hlt?t.eP():t,!this.tlt.has(i))return;const e=this.tlt.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}nlt(t,s){this.slt||(this.slt=new WeakMap),this.slt.has(t)||this.slt.set(t,s)}rlt(t){if(!this.slt)return"";return this.slt.get(t)||""}c6(t){this.slt&&this.slt.has(t)&&this.slt.delete(t)}}}{const yg=self.Gs;yg.olt=class{constructor(t){this.Pc=t,this.ult=new yg.llt}Vh(){this.ult.Vh(),this.ult=null,this.Pc=null}Rj(){return this.Pc}AC(t){this.ult.Fl(t)}clt(t){return this.ult.Ys(t)}flt(){return this.ult.flt()}}}{const Mg=self.Gs;Mg.dlt=class{constructor(t,s,i,e,h,n,r){this.Pc=h.Rj(),this.plt=h,this.mlt=t,this.glt=i,this.ylt=e,this._M=s,this.Q5=n,this.Mlt=r??n.UJ().zW(),this.wlt(),this.Slt=this.blt?.Tlt()??-1,this.xlt=[],this.vlt=null,this.Clt=NaN,this.Glt=null,this.Ilt=null,this._lt=null,this.Elt="",this.Alt=null,this.Dlt="",this.Nlt="",this.Llt=0,this.Olt=!1,this.x9=!1}Vh(){this.x9||(Mg.wr(this.xlt),this.xlt=null,this.Pc=null,this.plt=null,this.ylt=null,this.Q5=null,this.vlt=null,this.Clt=NaN,this.Glt&&this.Glt.clear(),this.Glt=null,this.Ilt=null,this._lt=null,this.Elt="",this.Alt=null,this.Dlt="",this.Nlt="",this.x9=!0)}Jh(){return this.x9}Rlt(){return this.plt}Rj(){return this.Pc}_c(){return this.mlt}klt(){return this.ylt}mJ(){return this._M}O6(){return this.Q5||(this.Q5=this.Pc.ij(this.Mlt).gV()),this.Q5}Plt(){return this.Flt(this.Slt)}jlt(){const t=this.Plt();return t?t.mJ():""}zlt(){const t=this.Plt();return t?t.AJ():[]}Blt(t){const s=this.zlt();if(!s)return!1;if(!s.length)return!1;const i=Mg.dlt.utt(t);return!(!i||!i.length)&&i.every(Mg.dlt.ctt,s)}Ult(t,s){const i=this.zlt();if(!i)return!1;if(!i.length)return!1;const e=Mg.dlt.utt(t);return!(!e||!e.length)&&e.every((t=>Mg.dlt.Wlt.call(i,t,s)))}static ctt(t){const s=this;return""===t?1===s.length&&""===s[0]:s.map((t=>t.trim().toLowerCase())).includes(t.trim().toLowerCase())}static utt(t){return t.trim().split(" ")}static Wlt(t,s){const i=this;return""===t?1===i.length&&""===i[0]:i.some((i=>Mg.compare(i.trim(),s,t.trim())))}Qlt(t){const s=this.Plt();if(s){if(Mg.$i(t)){const i=s.Ylt(),e=i?i[t]:void 0;if(Mg.$i(e))return this.Flt(e)}if("string"==typeof t)for(const i of s.Ylt()){const s=this.Flt(i);if(s.SJ(t))return this.Flt(s.Tlt())}}}Vlt(t){const s=this.Qlt(t);return s?s.mJ():""}Jlt(t){const s=this.Qlt(t);return s?s.AJ():""}Hlt(t){const s=this.Plt();if(!s)return-1;const i=s.Ylt();if(!i)return-1;const e=this.Qlt(t);return e?i.indexOf(e.Tlt()):-1}qlt(){const t=this.Plt();if(!t)return 0;const s=t.Ylt();return s?s.length:0}Flt(t){return this.ylt.Flt(t)}Ff(){this.Zlt().Xlt(!0)}Xlt(t){if(this.Klt()){for(const[t,s]of this.Klt().entries())s.Xlt(!1);this.Klt().clear()}if(this.Glt=null,this.vlt=null,this.$lt=null,this.Ilt=null,this.Elt="",this.Alt=null,this.Dlt="",this.Nlt="",this.xlt=[],t){this.plt.tct(this);const t=this.blt.Tlt();t!==this.Slt&&this.sct(t)}else this.Slt=this.blt.Tlt()}ict(){const t=this.ylt.Flt(this.Slt);return t?t.hct().ect():0}nct(t){return!(t<0)&&t===this.rct()}rct(){const t=this.ylt.Flt(this.Slt);if(!t)return-1;let s=t.hct().oct();return s?t.hct().act().indexOf(s):-1}uct(t){const s=this.lct(t);return s?s._c():""}cct(t){let s;return Mg.$i(t)&&(s=this.lct(t)),"string"==typeof t&&(s=this.fct(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Det():""}dct(t,s){if(t.mit())return t.Tlt();{const i=t.hct().oct();if(!i)return s.Tlt();const e=i.pct();if(!Mg.$i(e))return s.Tlt();const h=this.Flt(e);return h?this.dct(h,s):s.Tlt()}}mct(t,s){if(t.mit()){if("reference"===t.NG()){const s=t.gct(),i=t.yct(),e=this.plt.clt(s);if(!e)return[-1,null];const h=e.Mct(i);return h?this.mct(h,e):this.mct(e.wct(),e)}return[t.Tlt(),s]}{const i=t.hct().oct();if(!i)return[-1,null];const e=i.pct();if(!Mg.$i(e))return[-1,null];const h=s.Flt(e);return h?this.mct(h,s):[-1,null]}}Sct(t,s){let i=this.Flt(t);if(i){if(!i.mit()){const s=this.Flt(this.Slt);t=this.dct(i,s)}if(Mg.$i(t)&&t!==this.Slt)if(i=this.Flt(t),"reference"===i.NG()){const e=i.gct(),h=i.yct(),n=this.plt.clt(e);let r=n.Mct(h);if(r){const i=this.mct(r,n);if(-1===i[0])return;s(this.Slt,t,i[1],i[0])}else s(this.Slt,t)}else s(this.Slt,t)}}Tct(t){let s;if(Mg.$i(t)&&(s=this.lct(t)),"string"==typeof t&&(s=this.fct(t)),!s)return;let i=s.pct();Mg.$i(i)&&this.Sct(i,((t,s,i,e)=>{this.xlt.push(t),this.sct(s,i,e)}))}bct(){const t=this.xct();if(!t)return;const s=t.pct();Mg.$i(s)&&this.Sct(s,((t,s,i,e)=>{this.xlt.push(t),this.sct(s,i,e)}))}vct(t){const s=this.ylt.Mct(t);if(!s)return;const i=s.Tlt();Mg.$i(i)&&this.Sct(i,((t,s,i,e)=>{this.xlt.push(t),this.sct(s,i,e)}))}Cct(){const t=this.xlt.pop();Mg.$i(t)?this.sct(t):this.Gct()&&(this.plt.tct(this.Gct(),!0,!1,!1),this.Gct().sct(this.Ict()),this.Zlt()._ct(this.Gct()))}Ect(t){if(!this.Plt())return;const s=this.Qlt(t);if(s){if(!s.mit())return;const t=s.Tlt();if(!Mg.$i(t))return;this.xlt.push(this.Slt),this.sct(s.Tlt())}}Act(t){if(Mg.$i(t))return!!this.ylt.Flt(this.Slt).hct().act()[t];if("string"==typeof t){const s=this.ylt.Flt(this.Slt).hct().act();for(let i=0;i<s.length;i++)if(s[i]._c()===t)return!0;return!1}return!1}Dct(){this.Olt=!0}Nct(){return this.Llt>0}Lct(){this.Llt++}Oct(){this.Llt--,0===this.Llt&&this.Olt&&this.plt.Rct(this)}sct(t,s,i){const e=this.Slt,h=this.O6().UJ();this.Lct(),this.plt.kct(this),this.Pc.uQ(Mg._j.Fct.Gj.Pct,h),this.Pc.uQ(Mg._j.Fct.Gj.jct,h),this.Pc.uQ(Mg._j.Fct.Gj.zct,h),this.Pc.uQ(Mg._j.Fct.Gj.Bct,h),this.Slt=t;let n=this.Flt(this.Slt);if("dictionary"===n.NG()&&(this.Pc.uQ(Mg._j.Fct.Gj.Uct,h),this.Pc.uQ(Mg._j.Fct.Gj.Wct,h),this.Pc.uQ(Mg._j.Fct.Gj.Qct,h),this.Pc.uQ(Mg._j.Fct.Gj.Yct,h)),this.plt.Vct(),this.Oct(),!this.Jh()&&(n=this.Flt(this.Slt),"reference"===n.NG())){const t=s?s._c():n.gct();if(this.Jct(n)){this.xlt.pop();const t=this.Hct(n);this.plt.tct(t,!0,!0,!1),t.qct(this,e),this.Zlt()._ct(t)}else{const s="number"==typeof i?i:n.yct();if(t){this.xlt.pop();let i=n.Xct();if(i){let t=this.plt.Zct(i);for(;t;)i=Mg.Cm(i),t=this.plt.Zct(i)}else{i=`${t}-ref`;let s=this.plt.Zct(i);for(;s;)i=Mg.Cm(i),s=this.plt.Zct(i)}const h=this.plt.Kct(t,s,i,this.Q5,!0);h.qct(this,e),this.$ct(n,h);const r=this.Zlt();h.tft(r),r._ct(h)}}}}xct(){const t=this.ylt.Flt(this.Slt);return t?t.hct().oct():null}lct(t){const s=this.ylt.Flt(this.Slt);if(!s)return null;const i=s.hct().act();if(!i)return null;return i[t]||null}fct(t){const s=this.ylt.Flt(this.Slt);if(!s)return null;return s.hct().sft(t)||null}wlt(t){if("number"==typeof t){let s=this.Flt(t);s||(s=this.ylt.wct()),this.blt=s}else if("number"==typeof this.glt){let t=this.Flt(this.glt);t||(t=this.ylt.wct()),this.blt=t}else{let t=this.ylt.Mct(this.glt);t||(t=this.ylt.wct()),this.blt=t}}t3(){return this.Olt?null:{flowchartName:this.mlt,flowchartTag:this._M,startNodeTag:this.glt,currentNodeId:this.Slt,previousNodeIds:this.xlt,pluginUID:this.Q5.UJ().zW(),reference:{previousFlowchartTag:this.Gct()?this.Gct().mJ():"",previousStartNodeId:Mg.$i(this.Ict())?this.Ict():NaN,referencesJson:this.ift(),currentReferenceFlowchartTag:this.eft()?this.eft().mJ():"",rootFlowchartTag:this.Zlt()?this.Zlt().mJ():""}}}ift(){if(!this.hft())return null;const t=[];for(const[s,i]of this.Klt().entries())t.push({flowchartElementId:s.Tlt(),flowchartStateTag:i.mJ()});return t.length?t:null}s3(t){if(t){if(this.mlt=t.flowchartName,this._M=t.flowchartTag,this.glt=t.startNodeTag,this.Slt=t.currentNodeId,this.xlt=t.previousNodeIds,this.Mlt=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.Elt=s.previousFlowchartTag,this.Clt=s.previousStartNodeId,this.Alt=s.referencesJson,this.Dlt=s.currentReferenceFlowchartTag,this.Nlt=s.rootFlowchartTag}this.wlt()}}Gct(){return"string"==typeof this.Elt&&this.Elt&&(this.vlt=this.plt.Zct(this.Elt),this.Elt=""),this.vlt}Ict(){return this.Clt}qct(t,s){this.vlt=t,this.Clt=s}eft(){return"string"==typeof this.Dlt&&this.Dlt&&(this.Ilt=this.plt.Zct(this.Dlt),this.Dlt=""),this.Ilt}_ct(t){this.Ilt=t,this.Ilt===this&&(this.Ilt=null)}Zlt(){return"string"==typeof this.Nlt&&this.Nlt&&(this._lt=this.plt.Zct(this.Nlt),this.Nlt=""),this._lt?this._lt:this}tft(t){this._lt=t}hft(){return this.nft(),!!this.Glt}Jct(t){return this.nft(),this.Glt&&this.Glt.has(t)}nft(){if(this.Alt){this.Glt&&this.Glt.clear(),this.Glt||(this.Glt=new Map);for(const t of this.Alt){const s=this.plt.Zct(t.flowchartStateTag),i=s.Flt(t.flowchartElementId);this.Glt.set(i,s)}this.Alt=null}}Klt(){return this.nft(),this.Glt}Hct(t){return this.nft(),this.Glt.get(t)}$ct(t,s){this.Glt||(this.Glt=new Map),this.Glt.set(t,s)}}}{const wg=self.Gs;wg.rft=class{constructor(t){this.Pc=t,this.oft=new Map,this.aft=null,this.uft=[],this.lft=()=>this.m6(),this.cft=null}Vh(){wg.wr(this.uft),this.uft=null,this.oft.clear(),this.oft=null,this.aft=null,this.Pc=null,this.cft=null}Rj(){return this.Pc}clt(t){return this.Pc.Rlt().clt(t)}Kct(t,s,i,e,h,n){const r=this.Pc.Rlt().clt(t);if(!r)return void console.warn(`[Flowcharts] no flowchart found with name '${t}'`);if(this.oft.has(i)){const t=this.oft.get(i);return void(t&&this.Rct(t))}const o=new wg.dlt(t,i,s,r,this,e,n);return this.oft.set(i,o),h&&this.tct(o,!0),o}Rct(t){if(t.Dct(),t.Nct())return;const s=t.mJ();this.oft.delete(s),t.Vh(),this.aft===t&&(this.aft=null)}fft(t){t.Ff()}Zct(t){return this.oft.get(t)}kct(t){this.uft.push(t)}Vct(){this.uft.pop()}tct(t,s=!1,i=!1,e=!0){if(e){const s=t.eft();t=s||t}t!==this.aft&&(this.dft(),this.pft(t,s,i))}mft(t){return"string"==typeof t?this.Zct(t):this.uft.length?this.uft[this.uft.length-1]:this.aft}dft(){if(!this.aft)return;if(this.aft.Jh())return;const t=this.aft.O6().UJ();this.aft.Lct(),this.kct(this.aft),this.Pc.uQ(wg._j.Fct.Gj.gft,t),this.Vct(),this.aft.Oct()}pft(t,s=!1,i=!1){if(this.aft=t,!this.aft)return;if(this.aft.Jh())return;const e=this.aft.O6().UJ();this.aft.Lct(),this.kct(this.aft),this.Pc.uQ(wg._j.Fct.Gj.yft,e),!0!==i&&"number"!=typeof i||this.aft.wlt(i),s&&(this.Pc.uQ(wg._j.Fct.Gj.Uct,e),this.Pc.uQ(wg._j.Fct.Gj.Wct,e),this.Pc.uQ(wg._j.Fct.Gj.Qct,e),this.Pc.uQ(wg._j.Fct.Gj.Yct,e)),this.Vct(),this.aft.Oct()}t3(){return{flowchartJsonObjects:[...this.oft.values()].map((t=>t.t3())),currentFlowchartTag:this.aft?this.aft.mJ():null}}s3(t){if(!t)return;this.cft=t;const s=new Map;for(const t of this.cft.flowchartJsonObjects){const i=t.flowchartTag;if(this.oft.has(i)){const e=this.oft.get(i);e.s3(t),s.set(i,e)}else{const i=this.Kct(t.flowchartName,t.startNodeTag,t.flowchartTag,null,!1,t.pluginUID);i.s3(t),s.set(t.flowchartTag,i)}}for(const[t,i]of this.oft.entries())s.has(t)||i.Vh();this.oft.clear(),this.oft=s,this.Pc.F4()?this.Pc.yf().addEventListener("afterload",this.lft):this.m6()}m6(){this.Pc.yf().removeEventListener("afterload",this.lft);const t=this.oft.get(this.cft.currentFlowchartTag);t&&this.tct(t,!0),this.cft=null}}}{const Sg=self.Gs;Sg.llt=class{constructor(){this.Mft=new Map}Vh(){for(const t of this.Mft.values())t.Vh();this.Mft.clear(),this.Mft=null}Fl(t){const s=new Sg.wft(t),i=s._c();this.Mft.set(i,s)}Ys(t){return this.Mft.get(t)}flt(){return!!this.Mft.size}static Sft(t,s,i,e){if(s)for(const h of s){const s=new i(h,e);t.push(s)}}}}{const Tg=self.Gs;Tg.wft=class{constructor(t){this.qh=t[0],this.Tft=new Tg.bft(t[1],this)}Vh(){this.Tft.Vh(),this.Tft=null}xft(){return this.Tft}Flt(t){return this.Tft.Flt(t)}Mct(t){return this.Tft.Mct(t)}wct(){return this.Tft.wct()}_c(){return this.qh}}}{const bg=self.Gs;class xg{constructor(t,s){this.Tft=s,this.Yc=t[7],this.vft=t[0],this._M=t[1],this._M?this.D9=this._M.trim().split(" ").map((t=>t.trim())):this.D9=[],this.Cft=t[2],this.Gft=null,this.Ift=null,this.Yot=!1,"dictionary"===this.Yc&&(this.Gft=t[3],this.Ift=t[4],this.Yot=t[8]),this._ft=t[6],this.Eft=null,this.Aft=null,this.Dft=null,"reference"===this.Yc&&(this.Eft=t[8],this.Aft=t[9],this.Dft=t[10],this.Yot=t[11]),this.Nft=new bg.Lft(t[5],this)}Vh(){this.Tft=null}xft(){return this.Tft}hct(){return this.Nft}Tlt(){return this.vft}mJ(){return this._M}AJ(){return this.D9}SJ(t){if(!this.D9)return!1;if(!this.D9.length)return!1;const s=bg.dlt.utt(t);return!(!s||!s.length)&&s.every(bg.dlt.ctt,this.D9)}Oft(){return this._ft}Rft(t){this._ft=!!t}kft(){if("dictionary"===this.Yc)return!0;if("reference"===this.Yc)return!1;throw new Error(`unexpected flowchart node type: ${this.Yc}`)}Ylt(){return this.Cft}Pft(){return this.Gft}Fft(){return this.Ift}NG(){return this.Yc}mit(){return this.Yot}gct(){return this.Eft}yct(){return this.Aft}Xct(){return this.Dft}}bg.bft=class{constructor(t,s){this.ylt=s,this.jft=[],this.zft=new Map,this.Bft=new Map,this.Uft=null,bg.llt.Sft(this.jft,t,xg,this);for(const t of this.jft){const s=t.Tlt(),i=t.mJ(),e=t.AJ(),h=t.Oft();if(this.zft.set(s,t),i)for(const s of e)this.Bft.has(s)||this.Bft.set(s,new Set),this.Bft.get(s).add(t);h&&(this.Uft=t);const n=t.hct();for(const t of n.Wft()){const s=t.Tlt();this.zft.set(s,t)}}this.Uft||this.Qft()}Vh(){this.ylt=null;for(const t of this.jft)t.Vh();bg.wr(this.jft),this.jft=null}klt(){return this.ylt}Flt(t){return this.zft.get(t)}Mct(t){if(!t||!t.length)return null;const s=[];for(const i of t.trim().split(" ")){let t=this.Bft.get(i.trim())??new Set;if(0===t.size)return null;s.push(t)}return[...s.reduce(((t,s)=>s.size<t.size?s:t))].filter((t=>s.every((s=>s.has(t)))))[0]}wct(){return this.Uft}*Yft(){for(const t of this.jft)yield t}Qft(){let t=0;for(const s of this.Yft())s.Oft()&&t++;if(0===t){for(const t of this.Yft())if(t.kft()&&!t.Oft())return void t.Rft(!0)}else{if(1===t)return;if(t>1){let t=!0;for(const s of this.Yft())s.kft()&&(s.Oft()&&t?t=!1:s.Oft()&&!t&&s.Rft(!1))}}for(const t of this.Yft())if(t.kft()&&t.Oft())return void(this.Uft=t)}}}{const vg=self.Gs;class Cg{constructor(t,s){this.Nft=s,this.vft=t[0],this.qh=t[1],this.Wht=t[2],this.Vft=t[3],this.Yot=t[4],this.Jft=t[5]}Vh(){this.Nft=null}hct(){return this.Nft}Tlt(){return this.vft}_c(){return this.qh}Det(){return this.Wht}pct(){return this.Vft}mit(){return this.Yot}Hft(){return this.Jft}}vg.Lft=class{constructor(t,s){this.qft=s,this.Xft=[],this.Zft=new Map,vg.llt.Sft(this.Xft,t,Cg,this),this.Kft=this.Xft.filter((t=>t.mit()));for(const t of this.Kft)this.Zft.set(t._c(),t)}Vh(){this.qft=null;for(const t of this.Xft)t.Vh();vg.wr(this.Xft),this.Xft=null,vg.wr(this.Kft),this.Kft=null}$ft(){return this.qft}ect(){return this.Kft.length}act(){return this.Kft}sft(t){return this.Zft.get(t)}oct(){for(const t of this.Kft)if(t.Hft())return t}*Wft(){for(const t of this.Kft)yield t}}}{const Gg=self.Gs;Gg.tdt=class extends Gg.Wh{constructor(t){super(),this.sdt=t,this.idt=[],this.idt.push(Gg.Yh(Gg.edt,this)),this.IM=0,this.hdt=this.idt[0]}Vh(){for(const t of this.idt)t.Vh();Gg.wr(this.idt),this.hdt=null,this.sdt=null}IW(){return this.sdt}AB(){return this.hdt}ndt(){return this.idt[this.IM-1]}_l(){this.AB()._l()}rdt(){const t=this.idt,s=++this.IM;if(s===t.length){const s=Gg.Yh(Gg.edt,this);t.push(s),this.hdt=s}else{const i=t[s];i.Ff(),this.hdt=i}}odt(){const t=this.idt,s=++this.IM;s===t.length&&t.push(Gg.Yh(Gg.edt,this));const i=t[s];i.hd(t[s-1]),this.hdt=i}Gq(){this.hdt=this.idt[--this.IM]}adt(t){const s=this.idt;for(let i=0,e=s.length;i<e;++i)s[i].adt(t)}}}{const Ig=self.Gs;Ig.edt=class extends Ig.Wh{constructor(t){super(),this.idt=t,this.sdt=this.idt.IW(),this.udt=this.sdt.Rj().ZP(),this.ldt=!0,this.dK=[],this.cdt=[]}Vh(){this.fdt(),this.idt=null,this.sdt=null,this.udt=null}fdt(){Ig.wr(this.dK),Ig.wr(this.cdt)}IW(){return this.sdt}ddt(){return this.ldt}pdt(){return this.ldt?!!this.sdt.NB():!!this.dK.length}EB(){return this.ldt?this.sdt.EB():this.dK}mdt(){return!!this.cdt.length}gdt(){return this.cdt}ydt(){const t=this.EB();return t.length?t:this.cdt}Ff(){this.ldt=!0,Ig.wr(this.cdt)}_l(){this.ldt=!0}hd(t){t.ddt()?this.Ff():(this.ldt=!1,Ig.vr(this.dK,t.dK),Ig.wr(this.cdt))}Mdt(t){this.dK.push(t)}wdt(t){this.cdt.push(t)}Sdt(t){this.ldt=!!t}Tdt(){return this.dK}bdt(){return this.cdt}xdt(t){this.ldt=!1,Ig.wr(this.dK),this.dK.push(t)}vdt(t){this.ldt=!1,Ig.vr(this.dK,t)}Cdt(t){this.ldt=!1,Ig.wr(this.dK);for(const s of t)this.dK.push(s)}Gdt(t,s){for(const i of s)t.has(i)||this.cdt.push(i)}Idt(t){for(const s of t)this.dK.push(s);Ig.Er(this.cdt,t)}_dt(){Ig.wr(this.cdt)}Edt(t){if(t)if(this.udt.pq().QP().Adt()){this.ddt()&&(Ig.wr(this.dK),Ig.vr(this.cdt,t.IW().EB()),this.ldt=!1);const s=this.cdt.indexOf(t);-1!==s&&(this.dK.push(this.cdt[s]),this.cdt.splice(s,1))}else this.xdt(t)}adt(t){Ig.Er(this.dK,t),Ig.Er(this.cdt,t)}}}{const _g=self.Gs;_g.Ddt=class extends _g.Wh{constructor(t){super(),this.Ndt=t,this.Pc=this.Ndt.Rj(),this.idt=[],this.idt.push(_g.Yh(_g.Ldt,this,null)),this.IM=0,this.Odt=[]}Vh(){for(const t of this.idt)t.Vh();_g.wr(this.idt),_g.wr(this.Odt),this.Ndt=null,this.Pc=null}FP(){return this.Ndt}Rj(){return this.Pc}pq(){return this.idt[this.IM]}Rdt(){return this.idt}kdt(){return this.IM}mq(t){const s=this.idt,i=++this.IM;if(i===s.length){const i=_g.Yh(_g.Ldt,this,t);return s.push(i),i}{const e=s[i];return e.Ff(t),e}}Gq(){--this.IM}Pdt(t){this.Odt.push(t)}Fdt(){this.Odt.pop()}XP(){const t=this.Odt;return 0===t.length?null:t.at(-1)}}}{const Eg=self.Gs;Eg.Ldt=class extends Eg.Wh{constructor(t,s){super(),this.idt=t,this.Pc=this.idt.Rj(),this.jdt=s,this.zdt=0,this.Bdt=0,this.Udt=!1,this.Wdt=!1,this.Qdt=null,this.Ydt=0,this.Vdt=0,this.Jdt=null}Vh(){this.Ff(null),this.idt=null,this.Pc=null}Ff(t){this.jdt=t,this.zdt=0,this.Bdt=0,this.Udt=!1,this.Wdt=!1,this.Jdt=null}Hdt(t,s){this.jdt=t,this.zdt=0,this.Bdt=s}qdt(){this.zdt=0,this.Bdt=0}QP(){return this.jdt}Xdt(t){this.jdt=t}Zdt(){return this.zdt}Kdt(t){this.zdt=t}$dt(){return this.Bdt}tpt(t){this.Bdt=t}spt(t){this.Udt=!!t}ipt(){return this.Udt}ept(t){this.Wdt=!!t}hpt(){return this.Wdt}npt(t){this.Qdt=t}rpt(){return this.Qdt}opt(t,s){this.Ydt=t,this.Vdt=s}KP(){return this.Ydt}$P(t){this.Vdt=t}apt(){return this.Vdt}upt(){const t=this.jdt;return!!t.lpt()||this.zdt<t.cpt()-1&&!!t.fq().length}fpt(t){this.Jdt=t}dpt(){return this.Jdt}}}{const Ag=self.Gs;Ag.ppt=class extends Ag.Wh{constructor(t){super(),this.Ndt=t,this.Pc=this.Ndt.Rj(),this.idt=[],this.IM=-1,this.hdt=null,this.mpt=[]}Vh(){Ag.wr(this.idt),this.Ndt=null,this.Pc=null}gpt(t){this.mpt=t;const s=this.mpt.slice(0);this.idt.push(s),this.IM=0,this.hdt=s}FP(){return this.Ndt}Rj(){return this.Pc}ypt(){return this.hdt}mq(){const t=++this.IM,s=this.idt;t===s.length?s.push(this.mpt.slice(0)):Ag.vr(s[t],this.mpt),this.hdt=s[t]}Gq(){this.hdt=this.idt[--this.IM]}}}{const Dg=self.Gs;Dg.Mpt=class extends Dg.Wh{constructor(t){super(),this.Ndt=t,this.Pc=this.Ndt.Rj(),this.idt=[],this.IM=-1}Vh(){Dg.wr(this.idt),this.Ndt=null,this.Pc=null}FP(){return this.Ndt}Rj(){return this.Pc}wpt(){return this.IM>=0}ypt(){return this.idt[this.IM]}mq(){if(++this.IM,this.IM===this.idt.length){const t=Dg.Yh(Dg.Spt,this);return this.idt.push(t),t}{const t=this.idt[this.IM];return t.Ff(),t}}Gq(){--this.IM}Tpt(t){const s=this.idt;for(let i=this.IM;i>=0;--i){const e=s[i];if(e._c()===t)return e}return null}bpt(){return this.idt.slice(0,this.IM+1)}}}{const Ng=self.Gs;Ng.Spt=class extends Ng.Wh{constructor(t){super(),this.xpt=t,this.qh="",this.IM=0,this.vpt=!1,this.Cpt=NaN}Ff(){this.qh="",this.IM=0,this.vpt=!1,this.Cpt=NaN}yq(t){this.qh=t}_c(){return this.qh}xq(t){this.IM=t}eP(){return this.IM}MJ(){this.vpt=!0}Cq(){return this.vpt}Gpt(t){this.Cpt=t}Ipt(){return this.Cpt}}}{const Lg=self.Gs;Lg._pt=class extends Lg.Wh{constructor(){super(),this.idt=[],this.IM=-1}Vh(){Lg.wr(this.idt)}ypt(){return this.idt[this.IM]}mq(){if(++this.IM,this.IM===this.idt.length){const t=[];return this.idt.push(t),t}return this.idt[this.IM]}Gq(){--this.IM}}}{let Og=function(t,s){return t.eP()-s.eP()},Rg=function(t,s){for(let i=0,e=t.length;i<e;++i)if(t[i]!==s[i])return!1;return!0};0;const kg=self.Gs;self.assert;kg.Ept=class extends kg.Wh{constructor(t){super(),this.Pc=t,this.Apt=[],this.Dpt=new Map,this.Npt=[],this.Lpt=new Map,this.Opt=new Map,this.Rpt=new Map,this.kpt=new Map,this.Ppt=new Map,this.Fpt=new Map,this.jpt=0,this.zpt=[],this.Bpt=[],this.Upt=[],this.Wpt=new Map,this.Qpt=new Map,this.udt=kg.Yh(kg.Ddt,this),this.Ypt=kg.Yh(kg.ppt,this),this.xpt=kg.Yh(kg.Mpt,this),this.Vpt=[],this.Jpt=[],this.Hpt=[],this.qpt=0,this.Xpt=0,this.Zpt=0,this.Kpt=[],this.$pt=[],this.tmt=[],this.smt=new Map,this.imt=new Map,self.c3_callFunction=(t,s)=>this.emt(t,s)}Vh(){this.h5(),this.udt.Vh(),this.udt=null,this.Ypt.Vh(),this.Ypt=null,kg.wr(this.Jpt),kg.wr(this.Hpt),this.Pc=null,kg.wr(this.Apt),this.Dpt.clear()}AC(t){const s=kg.Yh(kg.hmt,this,t);this.Apt.push(s),this.Dpt.set(s._c().toLowerCase(),s)}nmt(t){this.Vpt.push(t)}rmt(){for(const t of this.Qpt.values())t.omt();for(const t of this.Wpt.values())t.rmt();for(const t of this.Qpt.values())t.rmt();for(const t of this.Apt)t.rmt();for(const t of this.Apt)t.G4();for(const t of this.Vpt)t.rmt(!1);kg.wr(this.Vpt),this.Ypt.gpt(this.Upt)}Rj(){return this.Pc}C4(t){return this.Dpt.get(t.toLowerCase())||null}amt(t){this.Npt.push(t),this.Lpt.set(t.umt(),t)}lmt(t){this.Opt.set(t.C0(),t)}cmt(t){this.Rpt.set(t.C0(),t)}fmt(t){this.kpt.set(t.C0(),t)}dmt(t){switch(t.pmt()){case 0:this.Wpt.set(t.mmt().toLowerCase(),t);break;case 1:this.Qpt.set(t.mmt().toLowerCase(),t)}}gmt(t){this.Fpt.set(t.C0(),t),t.e0()?this.zpt.push(t):this.Bpt.push(t)}ymt(t){t.length>=2&&t.sort(Og);let s=this.Ppt.get(t.length);s||(s=[],this.Ppt.set(t.length,s));for(let i=0,e=s.length;i<e;++i){const e=s[i];if(Rg(t,e))return e}return s.push(t),t}Mmt(t){return this.Upt.push(t.wmt()),this.jpt++}ZP(){return this.udt}Smt(){return this.ZP().pq()}QP(){return this.Smt().QP()}Tmt(){const t=this.Smt();return t.QP().bmt(t.Zdt())}xmt(){const t=this.Smt();return t.QP().vmt(t.$dt())}Cmt(){return this.Ypt}gq(){return this.xpt}Gmt(t){const s=[];for(t=t.Imt();t;)kg.Lh(s,t._mt()),t=t.Imt();return s}Emt(t){const s={};for(const i of this.Gmt(t))s[i.Amt()]=i.Dmt();return Object.create(Object.prototype,s)}Nmt(t){return this.Fpt.get(t)||null}Lmt(t){return this.Opt.get(t)||null}Omt(t){return this.Rpt.get(t)||null}Rmt(t){return this.kpt.get(t)||null}jP(t){return this.Wpt.get(t.toLowerCase())||null}kmt(t,s){let i=this.Qpt.get((t._c()+"."+s).toLowerCase());if(i)return i;if(!t.y0())for(const e of t.Pmt())if(i=this.Qpt.get((e._c()+"."+s).toLowerCase()),i)return i;return null}Fmt(){return this.zpt}jmt(){return this.Bpt}zmt(t){for(const t of this.zpt)t.Bmt();if(t)for(const t of this.Bpt)t.Lv()&&t.Bmt()}Umt(t){return this.Lpt.get(t.toLowerCase())||null}Wmt(t){const s=this.Opt.get(t);return s&&s.Qmt()?s:null}Ymt(){return this.Npt}Vmt(){for(const t of this.Npt)t.Jmt()}Hmt(){for(const t of this.Apt)t.qmt()}Xmt(t){this.Hmt(),this.qpt++;for(const s of t.k5()){const t=s.Z3();t&&(this.Pc.Zmt(s),t.K_(),this.Pc.Kmt())}this.qpt--}async $mt(t){this.Hmt(),this.qpt++;for(const s of this.tgt(t))await this.Pc.sgt(s);this.qpt--}*tgt(t){for(const s of t.k5()){const t=s.Z3();t&&(this.Pc.Zmt(s),yield*t.igt(),this.Pc.Kmt())}}egt(t,s,i,e){let h=!1;if(!t.jF())return this.hgt(s,i,e);this.Xpt++;for(const n of t.k5()){const t=n.Z3();if(!t)continue;this.Pc.Zmt(n);for(const n of t.ngt()){const t=n.egt(s,i,e);h=h||t}const r=t.egt(s,i,e);h=h||r,this.Pc.Kmt()}return this.Xpt--,h}*rgt(t,s,i,e){let h=!1;if(!t.jF())return this.hgt(s,i,e);this.Xpt++;for(const n of t.k5()){const t=n.Z3();if(!t)continue;this.Pc.Zmt(n);for(const n of t.ngt()){const t=yield*n.rgt(s,i,e);h=h||t}const r=yield*t.rgt(s,i,e);h=h||r,this.Pc.Kmt()}return this.Xpt--,h}hgt(t,s,i){return this.Jpt.push([t,s,i]),!1}ogt(t,s,i){let e=null;const h=new Promise((t=>e=t));return this.Hpt.push([t,s,i,e]),h}*agt(){if(this.Pc.ugt())throw new Error("should not be in breakpoint");const t=this.Pc.UF();for(;this.Hpt.length;){const[s,i,e,h]=this.Hpt.shift();h(yield*this.rgt(t,s,i,e))}}async lgt(){for(const t of this.agt())await this.Pc.sgt(t)}cgt(t,s,i,e){let h=!1;const n=t.jF(),r=n.Z3();if(!r)return;this.Xpt++,this.Pc.Zmt(n);const o=r.ngt();for(let t=0,n=o.length;t<n;++t){const n=o[t].cgt(s,i,e);h=h||n}const a=r.cgt(s,i,e);return h=h||a,this.Pc.Kmt(),this.Xpt--,h}*fgt(t,s,i,e){let h=!1;const n=t.jF(),r=n.Z3();if(!r)return;this.Xpt++,this.Pc.Zmt(n);const o=r.ngt();for(let t=0,n=o.length;t<n;++t){const n=yield*o[t].fgt(s,i,e);h=h||n}const a=yield*r.fgt(s,i,e);return h=h||a,this.Pc.Kmt(),this.Xpt--,h}dgt(){return this.Xpt}pgt(){return this.dgt()>0}mgt(){return++this.Xpt}ggt(){--this.Xpt}ygt(){return this.qpt>0}jB(){return this.ygt()||this.pgt()}J4(t){for(const[s,i,e]of this.Jpt)this.egt(t,s,i,e);kg.wr(this.Jpt)}kB(t){t?this.Zpt++:this.Zpt--}OW(){return this.Zpt>0}Mgt(t){for(let s=0,i=t.length;s<i;++s)t[s].wgt()._l()}Sgt(t){for(let s=0,i=t.length;s<i;++s)t[s].wgt().rdt()}Sq(t){for(let s=0,i=t.length;s<i;++s)t[s].wgt().odt()}bq(t){for(let s=0,i=t.length;s<i;++s)t[s].wgt().Gq()}YP(t){const s=new Set,i=this.udt.Rdt(),e=this.udt.kdt();for(let h=0;h<=e;++h){const e=i[h].dpt();if(e)for(const i of e)t&&t.has(i)||s.add(i)}return s}Tgt(t){const s=new Set([...t]),i=this.YP(s);if(i.size>0){for(const t of i)t.wgt().rdt();return[...i]}return null}bgt(){const t=kg.Yh(kg.xgt,this);return this.Kpt.push(t),t}vgt(){return this.Kpt}Cgt(){if(!this.Kpt.length)return;const t=this.Smt();let s=!1;this.qpt++;for(let i=0,e=this.Kpt.length;i<e;++i){const e=this.Kpt[i];e.Ggt()&&e.Igt(t),e._gt()&&(s=!0)}s&&(this.Egt(),t.Ff(null)),this.qpt--}async Agt(){if(!this.Kpt.length)return;const t=this.Smt();let s=!1;this.qpt++;for(let i=0,e=this.Kpt.length;i<e;++i){const e=this.Kpt[i];e.Ggt()&&await e.Dgt(t),e._gt()&&(s=!0)}s&&(this.Egt(),t.Ff(null)),this.qpt--}Egt(){const t=kg._r(this.Kpt,(t=>t._gt()));for(const s of t)s.Vh()}h5(){for(const t of this.Kpt)t.Vh();kg.wr(this.Kpt)}Ngt(t){for(const s of this.Kpt)s.adt(t);for(const s of t){const t=this.imt.get(s);if(this.imt.delete(s),t)for(const{resolve:s}of t.Lgt.values())s(!0)}}Ogt(t){this.$pt.push({promise:t,Rgt:this.dgt()})}kgt(){kg.wr(this.$pt)}Pgt(){const t=this.dgt();this.$pt=this.$pt.filter((s=>s.Rgt<=t))}Fgt(){const t=Promise.all(this.$pt.map((t=>t.promise)));return this.$pt=[],t}tF(t){const s=t.toLowerCase();this.tmt.push(s),this.Pc.uQ(kg._j.Ij.Gj.jgt,null),this.tmt.pop();for(const t of this.Pc.FP().vgt())t.zgt()&&t.Bgt()===s&&t.Ugt();const i=this.smt.get(s);i&&(i.resolve(),this.smt.delete(s))}iF(t){const s=t.toLowerCase(),i=this.smt.get(s);if(i)return i.promise;{let t=null;const i=new Promise((s=>t=s));return this.smt.set(s,{promise:i,resolve:t}),i}}Wgt(){if(0===this.tmt.length)throw new Error("not in a signal");return this.tmt.at(-1)}Qgt(t){let s=this.imt.get(t);return s||(s={Ygt:[],Lgt:new Map},this.imt.set(t,s)),s}$W(t,s){const i=this.Qgt(t),e=s.toLowerCase();i.Ygt.push(e),this.Pc.uQ(t.MB().Jgt().Gj.Vgt,t),i.Ygt.pop();for(const s of this.Pc.FP().vgt())s.Hgt()&&s.Bgt()===e&&s.qgt(t);const h=i.Lgt.get(e);h&&(h.resolve(!1),i.Lgt.delete(e)),0===i.Ygt.length&&0===i.Lgt.size&&this.imt.delete(t)}tQ(t,s){const i=this.Qgt(t),e=s.toLowerCase(),h=i.Lgt.get(e);if(h)return h.promise;{let t=null;const s=new Promise((s=>t=s));return i.Lgt.set(e,{promise:s,resolve:t}),s}}Xgt(t){const s=this.Qgt(t);if(!s||0===s.Ygt.length)throw new Error("not in a signal");return s.Ygt.at(-1)}t3(){return{groups:this.Zgt(),cnds:this.Kgt(),acts:this.$gt(),vars:this.tyt(),waits:this.syt()}}s3(t){this.iyt(t.groups),this.eyt(t.cnds),this.hyt(t.acts),this.nyt(t.vars),this.ryt(t.waits)}Zgt(){const t={};for(const s of this.Ymt())t[s.C0().toString()]=s.oyt();return t}iyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.Wmt(t);e&&e.ayt(i)}}Kgt(){const t={};for(const[s,i]of this.Rpt){const e=i.t3();e&&(t[s.toString()]=e)}return t}eyt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.Rpt)i.s3(s.get(t)||null)}$gt(){const t={};for(const[s,i]of this.kpt){const e=i.t3();e&&(t[s.toString()]=e)}return t}hyt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[t,i]of this.kpt)i.s3(s.get(t)||null)}tyt(){const t={};for(const[s,i]of this.Fpt)i.uyt()||!i.e0()&&!i.Lv()||(t[s.toString()]=i.Det());return t}nyt(t){for(const[s,i]of Object.entries(t)){const t=parseInt(s,10),e=this.Nmt(t);e&&e.dht(i)}}syt(){return this.Kpt.filter((t=>!t.lyt())).map((t=>t.t3()))}ryt(t){this.h5();for(const s of t){const t=kg.xgt.cyt(this,s);t&&this.Kpt.push(t)}}fyt(){return[...this.Pc.UF().k5()].map((t=>t.Z3())).filter((t=>t)).map((t=>t.dyt()))}pyt(t){for(;t;){const s=t.Imt();if(s instanceof kg.myt)return s;t=s}return null}emt(t,s){Array.isArray(s)||(s=[]);const i=this.jP(t.toLowerCase());if(!i)return null;if(!i.Cl())return i.zP();const e=i.gyt();if(s.length<e.length){s=s.slice(0);do{s.push(e[s.length].wmt())}while(s.length<e.length)}const h=i.UP();return h.VP(h.WP(),!1,i.HP(),i.zP(),...s)}}}{const Pg=self.Gs;Pg.hmt=class extends Pg.Wh{constructor(t,s){super(),this.Ndt=t,this.Pc=t.Rj(),this.qh=s[0],this.yyt=[],this.Myt=new Map,this.wyt=new Map,this.Syt=new Map,this.Tyt=!1,this.byt=[],this.xyt=[],this.vyt=new Set;for(const t of s[1])this.Cyt(t,null,this.yyt);this.Gyt=this.Pc.yQ()?{type:"sheet",name:this.qh,Iyt:0,children:[]}:null}Vh(){this.Ndt=null,this.Pc=null}Cyt(t,s,i){switch(t[0]){case 0:case 3:this._yt(t,s,i);break;case 1:this.Eyt(t,s,i);break;case 2:this.Ayt(t,s,i);break;case 4:this.Dyt(t,s);break;case 5:this.Nyt(t,s,i);break;case 6:this.Lyt(t,s);break;default:throw new Error("invalid event type")}}_yt(t,s,i){const e=Pg.Oyt.AC(this,s,t);if(e.Adt()){i.push(e);const t=e.Ryt();for(let s=0,i=t.length;s<i;++s)t[s].kyt()&&this.Pyt(e,s)}else e.kyt()?this.Pyt(e,0):i.push(e)}Dyt(t,s){const i=Pg.myt.Fyt(this,s,t);this.Ndt.dmt(i)}Lyt(t,s){const i=Pg.myt.jyt(this,s,t);this.Ndt.dmt(i)}Eyt(t,s,i){const e=Pg.zyt.AC(this,s,t);i.push(e)}Ayt(t,s,i){const e=Pg.Byt.AC(this,s,t);i.push(e)}Nyt(t,s,i){const e=Pg.Uyt.AC(this,s,t);i.push(e)}Pyt(t,s){t.Adt()||this.Ndt.nmt(t);const i=t.bmt(s),e=i.Wyt(),h=i.IW();if(i.Qyt()){let n=this.wyt.get(h);n||(n=new Map,this.wyt.set(h,n));const r=i.Yyt().toLowerCase();let o=n.get(e);o||(o=new Map,n.set(e,o));let a=o.get(r);a||(a=[],o.set(r,a)),a.push([t,s])}else{let n=this.Myt.get(h);n||(n={Vyt:new Map,Jyt:new Map},this.Myt.set(h,n));const r=i.GV();let o;r?(o=n.Jyt.get(r),o||(o=new Map,n.Jyt.set(r,o))):o=n.Vyt;let a=o.get(e);a||(a=[],o.set(e,a)),a.push([t,s])}}rmt(){const t=this.yyt;for(let s=0,i=t.length;s<i;++s){const e=s<i-1&&t[s+1]instanceof Pg.Oyt&&t[s+1].Hyt();t[s].rmt(e)}}qyt(t){this.byt.push(t)}G4(){Pg.wr(this.xyt),this.Xyt(this),this.vyt.clear()}Xyt(t){const s=t.xyt,i=t.vyt;for(const e of this.byt){const h=e.Zyt();e.Kyt()&&t!==h&&!i.has(h)&&(i.add(h),h.Xyt(t),s.push(h))}}ngt(){return this.xyt}FP(){return this.Ndt}Rj(){return this.Pc}_c(){return this.qh}$yt(t,s){this.Syt.set(s,t)}tMt(t){return this.Syt.get(t)||null}qmt(){this.Tyt=!1}K_(){if(this.Tyt)return;const t=this.Pc,s=t.sMt(),i=s?performance.now():0;this.Tyt=!0;const e=this.FP(),h=e.Smt();for(const s of this.yyt)s.K_(h),e.Mgt(s.fq()),e.kgt(),t.BB();h.Ff(null),s&&(this.Gyt.Iyt+=performance.now()-i)}*igt(){if(this.Tyt)return;this.Tyt=!0;const t=this.Pc,s=this.FP(),i=s.Smt();for(const e of this.yyt)yield*e.igt(i),s.Mgt(e.fq()),s.kgt(),t.BB();i.Ff(null)}egt(t,s,i){if(!s)return this.iMt(t,s,null,null);{const e=s.IW();let h=!1,n=this.iMt(t,s,e,i);h=h||n;for(const r of e.Pmt())n=this.iMt(t,s,r,i),h=h||n}}iMt(t,s,i,e){const h=this.Myt.get(i);if(!h)return!1;const n=e?h.Jyt.get(e):h.Vyt;if(!n)return!1;const r=n.get(t);if(!r)return!1;let o=!1;for(const[t,i]of r){const e=this.eMt(s,t,i);o=o||e}return o}*rgt(t,s,i){if(!s)return yield*this.hMt(t,s,null,null);{const e=s.IW();let h=!1,n=yield*this.hMt(t,s,e,i);h=h||n;for(const r of e.Pmt())n=yield*this.hMt(t,s,r,i),h=h||n}}*hMt(t,s,i,e){const h=this.Myt.get(i);if(!h)return!1;const n=e?h.Jyt.get(e):h.Vyt;if(!n)return!1;const r=n.get(t);if(!r)return!1;let o=!1;for(const[t,i]of r){let e;e=t.nMt()?this.eMt(s,t,i):yield*this.rMt(s,t,i),o=o||e}return o}cgt(t,s,i){const e=s.IW(),h=this.wyt.get(e);if(!h)return!1;const n=h.get(t);if(!n)return!1;const r=n.get(i);if(!r)return!1;let o=!1;for(let t=0,s=r.length;t<s;++t){const s=r[t],i=this.eMt(null,s[0],s[1]);o=o||i}return o}*fgt(t,s,i){const e=s.IW(),h=this.wyt.get(e);if(!h)return!1;const n=h.get(t);if(!n)return!1;const r=n.get(i);if(!r)return!1;let o=!1;for(let t=0,s=r.length;t<s;++t){const s=r[t],i=s[0],e=s[1];let h;h=i.nMt()?this.eMt(null,i,e):yield*this.rMt(null,i,e),o=o||h}return o}eMt(t,s,i){const e=this.Pc,h=this.Ndt,n=h.QP(),r=h.ZP(),o=h.dgt();let a=!1;n&&h.Sgt(n.WP()),h.Sgt(s.WP());const u=o>1;u&&h.Cmt().mq();const l=r.mq(s);t&&(s.Ryt()[i].IW().AB().xdt(t),t.FW()&&t.oMt());let c=!0;if(s.SY()){const t=s.aMt();for(let s=0,i=t.length;s<i;++s)if(!t[s].uMt(l)){c=!1;break}}return c&&(s.Adt()?s.lMt(l,i):s.K_(l),a=l.ipt()),r.Gq(),u&&h.Cmt().Gq(),h.bq(s.WP()),n&&h.bq(n.WP()),n||1!==o||(h.kgt(),h.OW()||e.BB()),a}*rMt(t,s,i){const e=this.Pc,h=this.Ndt,n=h.QP(),r=h.ZP(),o=h.dgt();let a=!1;n&&h.Sgt(n.WP()),h.Sgt(s.WP());const u=o>1;u&&h.Cmt().mq();const l=r.mq(s);t&&(s.Ryt()[i].IW().AB().xdt(t),t.FW()&&t.oMt());let c=!0;if(s.SY()){const t=s.aMt();for(let s=0,i=t.length;s<i;++s)if(!(yield*t[s].cMt(l))){c=!1;break}}return c&&(s.Adt()?yield*s.fMt(l,i):yield*s.igt(l),a=l.ipt()),r.Gq(),u&&h.Cmt().Gq(),h.bq(s.WP()),n&&h.bq(n.WP()),n||1!==o||(h.kgt(),h.OW()||e.BB()),a}dyt(){return this.Gyt}}}{let Fg=function(t,s){return!0};0;const jg=self.Gs,zg=[];function*Bg(t,s){return!0}jg.Oyt=class extends jg.Wh{constructor(t,s,i){super(),this.m3=t,this.Pc=t.Rj(),this.dMt=s,this.pMt=null,this.udt=this.Pc.FP().ZP(),this.mMt=[],this.gMt=[],this.yMt=!1,this.MMt=!1,this.wMt=!1,this.SMt=!1,this.TMt=!!i[2],this.bMt=!1,this.xMt=null,this.vMt=[],this.Jht=[],this.CMt=[],this.GMt=Fg,this.IMt=Bg,this._Mt=!1,this.EMt=!1,this.AMt="",this.DMt=!1,this.NMt=null,this.Gyt=null,this.JK=i[4],this.LMt=i[5],this.m3.$yt(this,this.LMt),this.OMt=this.Pc.yQ()?{RMt:i[3][0],kMt:i[3][1],PMt:!1,FMt:!1,jMt:!1,zMt:!1}:null,this.FP().lmt(this),3===i[0]&&this.BMt(i[1]);let e=0;for(const t of i[6]){const s=jg.UMt.AC(this,t,e++);this.vMt.push(s),this.WMt(s.IW())}e=0;for(const t of i[7]){const s=jg.QMt.AC(this,t,e++);this.Jht.push(s)}if(9===i.length){const t=i[8];for(const s of t)this.m3.Cyt(s,this,this.CMt)}this.vMt.length&&(this.bMt=null===this.vMt[0].IW()&&this.vMt[0].Wyt()===jg._j.Ij.Gj.YMt),0===this.vMt.length&&(this.vMt=zg),0===this.Jht.length&&(this.Jht=zg),0===this.CMt.length&&(this.CMt=zg)}static AC(t,s,i){return jg.Yh(jg.Oyt,t,s,i)}BMt(t){this._Mt=!0,this.EMt=!!t[0],this.DMt=this.EMt,this.AMt=t[1].toLowerCase(),this.NMt=[],this.FP().amt(this),this.Pc.yQ()&&(this.Gyt={type:"group",name:t[1],Iyt:0,children:[]})}VMt(t){this.NMt.push(t)}JMt(t,s){for(const i of t.c4().q4())s.includes(i)||s.push(i)}HMt(t,s){if(t)if(s.includes(t)||s.push(t),t.y0())for(const i of t.qMt())i.FW()&&this.JMt(i,s);else t.FW()&&this.JMt(t,s)}WMt(t){this.HMt(t,this.mMt)}XMt(t){this.HMt(t,this.gMt)}ZMt(){this.mMt=this.Pc.g0()}rmt(t){this.SMt=!!t,this.KMt(),this.$Mt();for(const t of this.vMt)t.rmt();if(this.Jht.length>0){let t=!1;for(const s of this.Jht)s.rmt(),s.twt()&&(t=!0);t?(this.GMt=this.swt,this.IMt=this.iwt):(this.GMt=this.ewt,this.IMt=this.hwt)}const s=this.CMt;for(let t=0,i=s.length;t<i;++t){const e=t<i-1&&s[t+1]instanceof jg.Oyt&&s[t+1].Hyt();s[t].rmt(e)}this.OMt&&this.nwt(),this.Gyt&&this.rwt().dyt().children.push(this.Gyt)}dyt(){return this.Gyt}rwt(){let t=this.SY();for(;t;){if(t.Qmt())return t;t=t.SY()}return this.m3}nwt(){const t=this.OMt;t.PMt=this.vMt.every((t=>t.nMt())),t.FMt=this.Jht.every((t=>t.nMt())),t.jMt=this.CMt.every((t=>t.nMt())),t.zMt=t.PMt&&t.FMt&&t.jMt}owt(){let t=this;do{t.nwt(),t=t.SY()}while(t)}KMt(){if(!this.Qmt())return;let t=this.SY();for(this.wMt=!0;t;){if(!t.Qmt()){this.wMt=!1;break}t=t.SY()}}awt(){const t=this.Pc.g0();if(this.mMt===t)this.gMt=t;else{this.gMt=jg.Nr(this.mMt);let t=this.SY();for(;t;){for(const s of t.mMt)this.XMt(s);t=t.SY()}const s=this.FP();this.mMt=s.ymt(this.mMt),this.gMt=s.ymt(this.gMt)}}$Mt(){if(!this.uwt())return;this.xMt=[];let t=this.SY();for(;t;)this.xMt.push(t),t=t.SY();this.xMt.reverse()}lwt(){this.MMt=!0,this.dMt&&this.dMt.lwt()}lpt(){return this.MMt}fq(){return this.mMt}WP(){return this.yMt||(this.yMt=!0,this.awt()),this.gMt}cwt(t){return this.mMt.includes(t)}aMt(){return this.xMt}Z3(){return this.m3}FP(){return this.m3.FP()}Rj(){return this.Pc}SY(){return this.dMt}fwt(t){this.pMt=t}Imt(){return this.pMt||this.dMt}dwt(){return this.LMt}pwt(){return this.OMt&&this.OMt.kMt}mwt(){return this.pwt()&&this.OMt.RMt}gwt(t){this.OMt.RMt=!!t,this.owt()}Qmt(){return this._Mt}ywt(){return this.wMt}Hyt(){return this.bMt}Mwt(){return this.SMt}umt(){return this.AMt}oyt(){return this.DMt}Jmt(){this.ayt(this.EMt)}ayt(t){if(t=!!t,!this._Mt)throw new Error("not a group");if(this.DMt!==t){this.DMt=t;for(const t of this.NMt)t.wwt();if(this.NMt.length){const t=this.Pc.nj().Z3();t&&t.G4()}}}C0(){return this.JK}Adt(){return this.TMt}kyt(){return this.vMt.length&&this.vMt[0].kyt()}Swt(){return this.pMt&&this.pMt instanceof jg.myt}uwt(){return this.Swt()||this.vMt.some((t=>t.kyt()))}Ryt(){return this.vMt}cpt(){return this.vMt.length}bmt(t){if((t=Math.floor(t))<0||t>=this.vMt.length)throw new RangeError("invalid condition index");return this.vMt[t]}Twt(t){return this.bmt(t)}bwt(t){let s=t.eP();if(0===s)return!0;--s;const i=t.xwt()?t.vwt():t.IW();for(;s>=0;--s){const t=this.vMt[s];if(i===t.IW()||t.xwt()&&t.vwt()===i)return!1}return!0}Cwt(){return this.Jht}Gwt(){return this.Jht.length}vmt(t){if((t=Math.floor(t))<0||t>=this.Jht.length)throw new RangeError("invalid action index");return this.Jht[t]}Iwt(t){t=Math.floor(t);const s=this.Jht.find((s=>s._wt()===t));if(!s)throw new RangeError("invalid action debug index");return s}Ewt(t){return(t=Math.floor(t))>=0&&t<this.Jht.length}Awt(){return this.CMt}_mt(){return this.CMt.filter((t=>t instanceof jg.zyt))}uMt(t){t.Xdt(this);const s=this.vMt;let i=0===s.length;for(let e=0,h=s.length;e<h;++e){const h=s[e];if(t.Kdt(e),h.zV())throw new Error("trigger cannot be used as sub-event to a loop");if(h.K_())i=!0;else if(!this.TMt)return!1}return!this.TMt||i}lMt(t,s){t.Xdt(this),t.Kdt(s),this.vMt[s].K_()&&(this.GMt(t,0)&&this.Dwt(t),t.spt(!0))}*cMt(t){t.Xdt(this);const s=this.vMt;let i=0===s.length;for(let e=0,h=s.length;e<h;++e){const h=s[e];if(t.Kdt(e),h.zV())throw new Error("trigger cannot be used as sub-event to a loop");let n;if(n=h.nMt()?h.K_():yield*h.igt(),n)i=!0;else if(!this.TMt)return!1}return!this.TMt||i}*fMt(t,s){t.Xdt(this),t.Kdt(s);const i=this.vMt[s];let e;if(e=i.nMt()?i.K_():yield*i.igt(),e){let s;s=this.Nwt()?this.GMt(t,0):yield*this.IMt(t,0),s&&(this.Lwt()?this.Dwt():yield*this.Owt()),t.spt(!0)}}K_(t){t.Xdt(this),this.bMt||t.ept(!1),this.TMt?this.Rwt(t):this.kwt(t)}*igt(t){(this.mwt()||this.Pc.Pwt())&&(yield this),t.Xdt(this),this.bMt||t.ept(!1),this.TMt?yield*this.Fwt(t):yield*this.jwt(t)}Rwt(t){const s=this.vMt;let i=0===s.length;for(let e=0,h=s.length;e<h;++e){const h=s[e];if(h.kyt())continue;t.Kdt(e);const n=h.K_();i=i||n}t.spt(i),i&&(this.GMt(t,0)&&this.Dwt(t),this.SMt&&t.ept(!0))}*Fwt(t){const s=this.vMt;let i=0===s.length;for(let e=0,h=s.length;e<h;++e){const h=s[e];if(h.kyt())continue;let n;t.Kdt(e),n=h.nMt()?h.K_():yield*h.igt(),i=i||n}if(t.spt(i),i){let s;s=this.Nwt()?this.GMt(t,0):yield*this.IMt(t,0),s&&(this.Lwt()?this.Dwt():yield*this.Owt()),this.SMt&&t.ept(!0)}}kwt(t){const s=this.vMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];if(t.Kdt(i),!e.K_())return void t.spt(!1)}t.spt(!0),this.GMt(t,0)&&this.Dwt(t),t.ipt()&&this.SMt&&t.ept(!0)}*jwt(t){const s=this.vMt;for(let i=0,e=s.length;i<e;++i){const e=s[i];let h;if(t.Kdt(i),h=e.nMt()?e.K_():yield*e.igt(),!h)return void t.spt(!1)}let i;t.spt(!0),i=this.Nwt()?this.GMt(t,0):yield*this.IMt(t,0),i&&(this.Lwt()?this.Dwt():yield*this.Owt()),t.ipt()&&this.SMt&&t.ept(!0)}ewt(t,s){const i=this.Jht;for(let e=s,h=i.length;e<h;++e){const s=i[e];t.tpt(e),s.K_()}return!0}*hwt(t,s){const i=this.Jht;for(let e=s,h=i.length;e<h;++e){const s=i[e];t.tpt(e),s.nMt()?s.K_():yield*s.igt()}return!0}swt(t,s){const i=this.FP(),e=this.Jht;for(let h=s,n=e.length;h<n;++h){const s=e[h];t.tpt(h);const n=s.K_();if(s.zwt()&&!0===n)return!1;s.Bwt()&&n instanceof Promise&&i.Ogt(n)}return!0}*iwt(t,s){const i=this.FP(),e=this.Jht;for(let h=s,n=e.length;h<n;++h){const s=e[h];let n;if(t.tpt(h),n=s.nMt()?s.K_():yield*s.igt(),s.zwt()&&!0===n)return!1;s.Bwt()&&n instanceof Promise&&i.Ogt(n)}return!0}Uwt(t){this.GMt(t,t.$dt())&&this.Dwt()}*Wwt(t){(yield*this.IMt(t,t.$dt()))&&(yield*this.Owt())}Dwt(){if(!this.CMt.length)return;const t=this.Qmt()&&this.Pc.sMt(),s=t?performance.now():0,i=this.udt,e=i.mq(this);this.MMt?this.Qwt(e):this.Ywt(e),i.Gq(),t&&(this.Gyt.Iyt+=performance.now()-s)}Qwt(t){const s=this._Mt,i=this.wMt,e=this.FP(),h=this.CMt;for(let n=0,r=h.length,o=r-1;n<r;++n){const r=h[n],a=r.fq(),u=!i||!s&&n<o;u&&e.Sq(a),r.K_(t),u?e.bq(a):e.Mgt(a)}}Ywt(t){const s=this.CMt;for(let i=0,e=s.length;i<e;++i)s[i].K_(t)}*Owt(){if(!this.CMt.length)return;const t=this.udt,s=t.mq(this);this.MMt?yield*this.Vwt(s):yield*this.Jwt(s),t.Gq()}*Vwt(t){const s=this._Mt,i=this.wMt,e=this.FP(),h=this.CMt;for(let n=0,r=h.length,o=r-1;n<r;++n){const r=h[n],a=r.fq(),u=!i||!s&&n<o;u&&e.Sq(a),yield*r.igt(t),u?e.bq(a):e.Mgt(a)}}*Jwt(t){const s=this.CMt;for(let i=0,e=s.length;i<e;++i)yield*s[i].igt(t)}Tq(t,s){s.qdt();const i=this.vMt;if(!this.Adt())for(let e=t.Zdt()+1,h=i.length;e<h;++e){const t=i[e];if(s.Kdt(e),!t.K_())return!1}return this.GMt(s,0)&&this.Dwt(s),!0}*Hwt(t,s){s.qdt();const i=this.vMt;if(!this.Adt())for(let e=t.Zdt()+1,h=i.length;e<h;++e){const t=i[e];let h;if(s.Kdt(e),h=t.nMt()?t.K_():yield*t.igt(),!h)return!1}let e;return e=this.Nwt()?this.GMt(s,0):yield*this.IMt(s,0),e&&(this.Lwt()?this.Dwt():yield*this.Owt()),!0}nMt(){return!this.mwt()&&!this.Pc.Pwt()&&this.OMt.zMt}Nwt(){return!this.Pc.Pwt()&&this.OMt.FMt}Lwt(){return!this.Pc.Pwt()&&this.OMt.jMt}qwt(t){if(this.SY()){const s=this.aMt();for(let i=0,e=s.length;i<e;++i)if(!s[i].uMt(t))return!1}return!0}*Xwt(t){if(this.SY()){const s=this.aMt();for(let i=0,e=s.length;i<e;++i)if(!(yield*s[i].cMt(t)))return!1}return!0}Zwt(t,s,i){if(s.length>0)if(i){const i=s.map((t=>t.Ys(0)));t.Cmt().mq(),this.pMt.Kwt(i)}else this.pMt.$wt(s);else i&&t.Cmt().mq()}tSt(t,s,i,e){let h,n;const r=t.length>0;let o=null;const a=this.Pc,u=this.udt,l=a.FP(),c=this.pMt,f=c.Bwt(),d=l.mgt()>1;if(this.Zwt(l,s,d),r&&(i?l.Sq(t):l.Sgt(t)),null!==e){if(e.sSt){const t=i?e.sSt.AB():e.sSt.wgt().ndt(),s=e.iSt.AB();s.vdt(t.EB()),s._dt(),i||e.iSt.eSt()}else if(e.hSt){const t=e.hSt.AB();t.vdt(e.nSt),t._dt()}e.rSt&&(o=l.Tgt(t))}const p=u.mq(this);return i&&p.fpt(t),this.qwt(p)&&(p.Xdt(this),f&&([n,h]=c.oSt()),this.kwt(p),f&&c.aSt(n)),u.Gq(),d&&l.Cmt().Gq(),null!==o&&l.bq(o),r&&l.bq(t),l.ggt(),f||l.Pgt(),h}*uSt(t,s,i,e){let h,n;(this.mwt()||this.Pc.Pwt())&&(yield this);const r=t.length>0;let o=null;const a=this.Pc,u=this.udt,l=a.FP(),c=this.pMt,f=c.Bwt(),d=l.mgt()>1;if(this.Zwt(l,s,d),r&&(i?l.Sq(t):l.Sgt(t)),null!==e){if(e.sSt){const t=i?e.sSt.AB():e.sSt.wgt().ndt(),s=e.iSt.AB();s.vdt(t.EB()),s._dt(),i||e.iSt.eSt()}else if(e.hSt){const t=e.hSt.AB();t.vdt(e.nSt),t._dt()}e.rSt&&(o=l.Tgt(t))}const p=u.mq(this);return i&&p.fpt(t),(yield*this.Xwt(p))&&(p.Xdt(this),f&&([n,h]=c.oSt()),yield*this.jwt(p),f&&c.aSt(n)),u.Gq(),d&&l.Cmt().Gq(),null!==o&&l.bq(o),r&&l.bq(t),l.ggt(),f||l.Pgt(),h}lSt(t,s){const i=this.WP(),e=i.length>0,h=this.Pc,n=this.udt,r=h.FP(),o=r.mgt()>1;o&&r.Cmt().mq(),this.pMt.Kwt(t),e&&(s?r.Sq(i):r.Sgt(i));const a=n.mq(this);this.qwt(a)&&(a.Xdt(this),this.kwt(a)),n.Gq(),o&&r.Cmt().Gq(),e&&r.bq(i),r.ggt(),r.Pgt()}*cSt(t,s){(this.mwt()||this.Pc.Pwt())&&(yield this);const i=this.WP(),e=i.length>0,h=this.Pc,n=this.udt,r=h.FP(),o=r.mgt()>1;o&&r.Cmt().mq(),this.pMt.Kwt(t),e&&(s?r.Sq(i):r.Sgt(i));const a=n.mq(this);(yield*this.Xwt(a))&&(a.Xdt(this),yield*this.jwt(a)),n.Gq(),o&&r.Cmt().Gq(),e&&r.bq(i),r.ggt(),r.Pgt()}VP(t,s,i,e,...h){let n,r;const o=t.length>0,a=this.Pc,u=this.udt,l=a.FP(),c=this.pMt,f=c.Bwt(),d=l.mgt()>1;d&&l.Cmt().mq(),h.length>0&&this.pMt.Kwt(h),o&&(s?l.Sq(t):l.Sgt(t));const p=u.mq(this);return p.opt(i,e),u.Pdt(p),a.Mq(!1),this.qwt(p)&&(p.Xdt(this),f&&([r,n]=c.oSt()),this.kwt(p),f&&c.aSt(r)),a.Mq(!0),u.Gq(),u.Fdt(),d&&l.Cmt().Gq(),o&&l.bq(t),l.ggt(),f||l.Pgt(),n||p.apt()}}}{const Ug=self.Gs,Wg=[];let Qg=!1;Ug.Uyt=class extends Ug.Wh{constructor(t,s,i){super();const e=t.Rj(),h=t.FP();this.m3=t,this.Ndt=h,this.Pc=t.Rj(),this.dMt=s;const n=e.fSt(i[1]);this.dSt=n,this.LMt=i[2],this.m3.$yt(this,this.LMt),this.OMt=e.yQ()?{RMt:i[3][0],kMt:i[3][1]}:null}static AC(t,s,i){return Ug.Yh(Ug.Uyt,t,s,i)}rmt(){const t=this.dSt,s=this.Pc.FP().Emt(this);this.dSt=t.bind(null,this.Pc.Uz(),s)}SY(){return this.dMt}Imt(){return this.dMt}Z3(){return this.m3}dwt(){return this.LMt}pwt(){return this.OMt&&this.OMt.kMt}mwt(){return this.pwt()&&this.OMt.RMt}gwt(t){this.OMt.RMt=!!t}Hyt(){return!1}fq(){return Wg}WP(){return this.dMt?this.dMt.WP():Wg}K_(t){t.Xdt(this),this.Ndt.Ogt(this.pSt())}async pSt(){try{await this.dSt()}catch(t){console.error(`Unhandled exception running script %c${this.Z3()._c()}, event ${this.dwt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.MQ&&self.MQ.mSt(this),Qg||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Qg=!0)}}*igt(t){t.Xdt(this),(this.mwt()||this.Pc.Pwt())&&(yield this),this.K_(t)}nMt(){return!this.mwt()&&!this.Pc.Pwt()}static gSt(){return Qg}static ySt(){Qg=!0}}}{const Yg=self.Gs;self.assert;Yg.myt=class extends Yg.Wh{constructor(t,s,i){super(),this.m3=t,this.Pc=t.Rj(),this.dMt=s,this.MSt=0,this.wSt="",this.SSt=0,this.TSt=[],this.bSt=!0,this.xSt="",this.sdt=null,this.vSt=!1,this.CSt=[],this.GSt=!1,this.ISt=!1,this._St=0,this.ESt=-1,this.ASt=new Map,this.DSt=Yg.Oyt.AC(t,s,i),this.DSt.fwt(this)}NSt(t){this.MSt=0,this.wSt=t[0],this.SSt=t[1],this.TSt=t[2].map((t=>Yg.zyt.AC(this.m3,this,t))),this.bSt=t[3],this.ISt=t[4],this.GSt=t[5]}LSt(t){this.MSt=1,this.xSt=t[1],this.sdt=this.Pc.J$(t[2]),this.DSt.WMt(this.sdt),this.wSt=this.sdt._c()+"."+this.xSt,this.SSt=t[3],this.TSt=t[4].map((t=>Yg.zyt.AC(this.m3,this,t))),this.bSt=t[5],this.ISt=t[6],this.GSt=t[7],this.sdt.OSt(this)}static Fyt(t,s,i){const e=Yg.Yh(Yg.myt,t,s,i),h=i[1];return e.NSt(h),e}static jyt(t,s,i){const e=Yg.Yh(Yg.myt,t,s,i),h=i[1];return e.LSt(h),e}omt(){if(this.sdt&&this.sdt.y0())for(const t of this.sdt.qMt())if(t.RSt(this.xSt)){this.vSt=!0;break}}rmt(){for(const t of this.TSt)t.rmt();this.DSt.rmt(!1)}pmt(){return this.MSt}_mt(){return this.TSt}gyt(){return this.TSt}BP(){return this.TSt.length}kSt(t){this.CSt.push(t)}PSt(){return this.CSt}$wt(t){const s=this.TSt;for(let i=0,e=s.length;i<e;++i)s[i].dht(t[i].Ys(0))}Kwt(t){const s=this.TSt;for(let i=0,e=s.length;i<e;++i)s[i].dht(t[i])}FSt(){return this.TSt.map((t=>t.Det()))}SY(){return this.dMt}Imt(){return this.dMt}mmt(){return this.wSt}jSt(){return this.xSt}zSt(){return this.vSt}HP(){return this.SSt}IW(){return this.sdt}Cl(){return this.bSt}zP(){switch(this.SSt){case 0:return null;case 2:return"";default:return 0}}UP(){return this.DSt}JP(){return this.GSt}Bwt(){return this.ISt}oSt(){const t=this._St++;let s;this.ESt=t;const i=new Promise((t=>s=t));return this.ASt.set(t,{resolve:s,BSt:0}),[t,i]}aSt(t){const s=this.ASt.get(t);0===s.BSt&&(s.resolve(),this.ASt.delete(t)),this.ESt=-1}USt(){return this.ASt.get(this.ESt).BSt++,this.ESt}WSt(t){this.ESt=t,this.ASt.get(t).BSt--}QSt(t,s){const i=new Map,e=[];for(const t of this.sdt.AB().EB()){const s=t.IW();if(s.RSt(this.xSt)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&this.DSt.tSt(t,s,this.GSt,{hSt:this.sdt,nSt:e}),i.size>0)for(const[e,h]of i){const i=e.YSt(this.xSt).UP(),n=[...new Set([...t,...i.fq()])];i.tSt(n,s,this.GSt,{hSt:e,nSt:h})}}*VSt(t,s){const i=new Map,e=[];for(const t of this.sdt.AB().EB()){const s=t.IW();if(s.RSt(this.xSt)){const e=i.get(s);Array.isArray(e)?e.push(t):i.set(s,[t])}else e.push(t)}if(e.length>0&&(yield*this.DSt.uSt(t,s,this.GSt,{hSt:this.sdt,nSt:e})),i.size>0)for(const[e,h]of i){const i=e.YSt(this.xSt).UP(),n=[...new Set([...t,...i.fq()])];yield*i.uSt(n,s,this.GSt,{hSt:e,nSt:h})}}}}{const Vg=self.Gs,Jg=[];Vg.zyt=class extends Vg.Wh{constructor(t,s,i){super();const e=t.FP();this.m3=t,this.Ndt=e,this.Pc=t.Rj(),this.dMt=s,this.Ypt=e.Cmt(),this.qh=i[1],this.Yc=i[2],this.JSt=i[3],this.nv=!!i[4],this.HSt=!!i[5],this.qSt=s instanceof Vg.myt,this.JK=i[6],this.XSt=this.Pc.Amt(i[8]),this.ZSt=t=>this.dht(t),this.KSt=()=>this.Det(),this.$St=!this.dMt||this.nv||this.HSt,this.Wht=this.JSt,this.tTt=-1,this.sTt()&&(this.Wht=this.Wht?1:0),!this.iTt()||this.Lv()||this.uyt()||(this.tTt=e.Mmt(this)),e.gmt(this)}static AC(t,s,i){return Vg.Yh(Vg.zyt,t,s,i)}rmt(){if(this.iTt()&&!this.Lv()&&!this.uyt()&&!this.eTt()){const t=this.Ndt.pyt(this);t&&t.kSt(this)}}_c(){return this.qh}Amt(){return this.XSt}SY(){return this.dMt}Imt(){return this.SY()}e0(){return!this.SY()}iTt(){return!this.e0()}eTt(){return this.qSt}Lv(){return this.nv}uyt(){return this.HSt}Ki(){return 0===this.Yc}ae(){return 1===this.Yc}sTt(){return 2===this.Yc}Hyt(){return!1}C0(){return this.JK}wmt(){return this.JSt}fq(){return Jg}K_(t){!this.iTt()||this.Lv()||this.uyt()||this.dht(this.wmt())}nMt(){return!0}*igt(t){this.K_(t)}dht(t){this.Ki()?"number"!=typeof t&&(t=parseFloat(t)):this.ae()?"string"!=typeof t&&(t=t.toString()):this.sTt()&&(t=t?1:0),this.$St?this.Wht=t:this.Ypt.ypt()[this.tTt]=t}Det(){return this.$St?this.Wht:this.Ypt.ypt()[this.tTt]}hTt(){let t=this.Det();return this.sTt()&&(t=!!t),t}Bmt(){this.Wht=this.JSt}Dmt(){return{configurable:!1,enumerable:!0,get:this.KSt,set:this.ZSt}}}}{const Hg=self.Gs,qg=(self.assert,[]);Hg.Byt=class extends Hg.Wh{constructor(t,s,i){super();const e=t.FP();this.m3=t,this.Ndt=e,this.Pc=t.Rj(),this.dMt=s,this.nTt=null,this.rTt=i[1],this.Pf=!0}static AC(t,s,i){return Hg.Yh(Hg.Byt,t,s,i)}rmt(){this.nTt=this.Ndt.C4(this.rTt),this.m3.qyt(this);let t=this.SY();for(;t;)t instanceof Hg.Oyt&&t.Qmt()&&t.VMt(this),t=t.SY();this.wwt(),this.Pc.yQ()&&this.m3.dyt().children.push(this.nTt.dyt())}SY(){return this.dMt}fq(){return qg}Zyt(){return this.nTt}K_(t){const s=!!this.SY(),i=this.Pc.g0();s&&this.Ndt.Sgt(i),this.nTt.K_(),s&&this.Ndt.bq(i)}*igt(t){const s=!!this.SY(),i=this.Pc.g0();s&&this.Ndt.Sgt(i),yield*this.nTt.igt(),s&&this.Ndt.bq(i)}nMt(){return!1}Kyt(){return this.Pf}wwt(){let t=this.SY();for(;t;){if(t instanceof Hg.Oyt&&t.Qmt()&&!t.oyt())return void(this.Pf=!1);t=t.SY()}this.Pf=!0}}}{let Xg=function(t,s){return t>=s?t%s:t<0?(t<=-s&&(t%=s),t<0&&(t+=s),t):t};0;const Zg=self.Gs;self.assert;Zg.oTt=class extends Zg.Wh{constructor(t){super(),this.yx=t,this.Pc=t.Rj()}rmt(){}static aTt(t,s){const i=s[0],e=[iy,ty,sy,ey,Kg,$g];return Zg.Yh(e[i],t,s)}};class Kg extends Zg.oTt{constructor(t,s){super(t),this.uTt=this.Pc.NZ(),this.dSt=this.Pc.fSt(s[1]),this.dSt!==Zg._j.Ij.rnt.random&&this.dSt!==Zg._j.Ij.rnt.lTt||this.yx.cTt()}fTt(){return this.uTt.dTt(this.dSt,this.uTt)}}class $g extends Zg.oTt{constructor(t,s){super(t),this.pTt=null,this.wSt=s[1],this.yx.cTt()}rmt(){const t=this.Pc.FP();this.pTt=t.jP(this.wSt),this.wSt=null;const s=this.yx.UP(),i=this.pTt.UP();this.mTt=[...new Set([...s.WP(),...i.WP()])],this.mTt=t.ymt(this.mTt)}fTt(){const t=this.pTt;if(t.Cl()){const s=t.UP();return Zg.Oyt.prototype.VP.bind(s,this.mTt,t.JP(),t.HP(),t.zP())}{const s=t.zP();return()=>s}}}class ty extends Zg.oTt{constructor(t,s){super(t),this.sdt=this.Pc.J$(s[1]),this.dSt=this.Pc.fSt(s[2]),this.gTt=!!s[3],this.udt=this.Pc.FP().ZP(),this.yx.yTt(this.sdt)}fTt(){return this.sdt.MB().dTt(this.dSt,this.sdt.mB().gV())}MTt(...t){const s=this.sdt,i=s.AB().ydt(),e=i.length;if(0===e)return this.gTt?"":0;const h=Xg(this.yx.wTt(),e);return this.udt.pq().npt(s),this.dSt.apply(i[h].gV(),t)}STt(t,...s){const i=this.sdt,e=i.EB(),h=e.length;if(0===h||"number"!=typeof t)return this.gTt?"":0;const n=Xg(t,h);return this.udt.pq().npt(i),this.dSt.apply(e[n].gV(),s)}}class sy extends Zg.oTt{constructor(t,s){super(t),this.sdt=this.Pc.J$(s[1]),this.TTt=s[3],this.gTt=!!s[2],this.yx.yTt(this.sdt)}bTt(){const t=this.sdt.AB().ydt(),s=t.length;return 0===s?this.gTt?"":0:t[Xg(this.yx.wTt(),s)].xTt(this.TTt)}vTt(){const t=this.sdt,s=t.AB().ydt(),i=s.length;if(0===i)return this.gTt?"":0;const e=s[Xg(this.yx.wTt(),i)],h=e.IW().CTt(t.GTt());return e.xTt(this.TTt+h)}ITt(t){const s=this.sdt,i=s.EB(),e=i.length;if(0===e||"number"!=typeof t)return this.gTt?"":0;const h=i[Xg(t,e)];let n=0;return s.y0()&&(n=h.IW().CTt(s.GTt())),h.xTt(this.TTt+n)}}class iy extends Zg.oTt{constructor(t,s){super(t),this.sdt=this.Pc.J$(s[1]),this._Tt=this.sdt.Pht(s[2]),this.ETt=this.sdt.oit(s[2]),this.dSt=this.Pc.fSt(s[3]),this.gTt=!!s[4],this.udt=this.Pc.FP().ZP(),this.yx.yTt(this.sdt)}ATt(...t){const s=this.sdt,i=s.AB().ydt(),e=i.length;if(0===e)return this.gTt?"":0;const h=Xg(this.yx.wTt(),e);this.udt.pq().npt(s);const n=i[h];let r=0;return s.y0()&&(r=n.IW().DTt(s.GTt())),this.dSt.apply(n.kht()[this.ETt+r].gV(),t)}NTt(t,...s){const i=this.sdt,e=i.EB(),h=e.length;if(0===h||"number"!=typeof t)return this.gTt?"":0;const n=Xg(t,h);this.udt.pq().npt(i);const r=e[n];let o=0;return i.y0()&&(o=r.IW().DTt(i.GTt())),this.dSt.apply(r.kht()[this.ETt+o].gV(),s)}}class ey extends Zg.oTt{constructor(t,s){super(t),this.LTt=null,this.OTt=s[1]}rmt(){this.LTt=this.Pc.FP().Nmt(this.OTt)}RTt(){return this.LTt}}}{let hy=function(t){const s=self.kTt[t];if(!s)throw new Error("invalid expression number");return s};0;const ny=self.Gs;self.assert;ny.PTt=class extends ny.Wh{constructor(t,s,i){super(),this.yx=t,this.IM=i,this.Yc=s,this.Ys=null,this.FTt=!1,this.HSt=!1}static AC(t,s,i){const e=s[0],h=[ry,oy,py,uy,cy,ay,fy,ry,uy,uy,my,gy,py,My,oy,dy,ly,yy,wy,Sy,Ty,by];return ny.Yh(h[e],t,e,i,s)}rmt(){}cTt(){this.FTt=!0}yTt(t){this.FTt||t&&(t.MB().Yz()||(this.FTt=!0))}jTt(){return this.FTt}eP(){return this.IM}Rj(){return this.yx.Rj()}UP(){return this.yx.UP()}uyt(){return this.HSt}zTt(){return 4===this.Yc}};class ry extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.BTt=0;const h=e[1];this.UTt=h[0],this.WTt=[],this.QTt=null;for(let t=1,s=h.length;t<s;++t)this.WTt.push(ny.oTt.aTt(this,h[t]));this.WTt.length?this.Ys=this.YTt:(this.Ys=hy(this.UTt),this.HSt=!0)}VTt(t){if(t<0||t>=this.WTt.length)throw new RangeError("invalid numbered node");return this.WTt[t]}rmt(){for(const t of this.WTt)t.rmt();const t=hy(this.UTt);this.WTt.length?this.QTt=t(this):this.QTt=t}wTt(){return this.BTt}YTt(t){return this.BTt=t,this.QTt()}}class oy extends ry{constructor(t,s,i,e){super(t,s,i,e),this.Ys=this.JTt,14===s&&(this.UP().ZMt(),this.yx instanceof ny.QMt&&this.UP().lwt())}JTt(t){this.BTt=t;const s=this.QTt();return"string"==typeof s?s:""}HTt(){return hy(this.UTt)()}}class ay extends ry{constructor(t,s,i,e){super(t,s,i,e),t.qTt()>=2?this.Ys=this.eU:this.Ys=this.aj,this.HSt=!1}aj(t){this.BTt=t;const s=this.QTt();return this.Rj().nj().aj(s)}eU(t){const s=this.aj(t);return s?s.eU():null}}class uy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.XTt=e[1],this.Ys=this.ZTt,this.HSt=!0}ZTt(){return this.XTt}}class ly extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.KTt=e[1],this.Ys=this.$Tt,this.HSt=!0}$Tt(){return this.KTt}}class cy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.sdt=this.Rj().J$(e[1]),t.qTt()>=2?this.Ys=this.fB:this.Ys=this.IW;const h=this.UP();h.WMt(this.sdt),this.yx instanceof ny.QMt?h.lwt():h.SY()&&h.SY().lwt(),this.HSt=!0}IW(){return this.sdt}fB(){return this.sdt?this.sdt.fB():null}}class fy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.WK=this.Rj().UF().D5(e[1]),t.qTt()>=2?this.Ys=this.zF:this.Ys=this.WF,this.HSt=!0}WF(){return this.WK}zF(){return this.WK?this.WK.zF():null}}class dy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.P8=this.Rj().Q9().U6(e[1]),t.qTt()>=2?this.Ys=this.Cst:this.Ys=this.Vst,this.HSt=!0}Vst(){return this.P8}Cst(){return this.P8?this.P8.Cst():null}}class py extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.tbt=e[1],this.Ys=this.sbt,this.HSt=!0}sbt(){return this.tbt}}class my extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.ibt=e[1];const h=this.yx.IW();this.yx instanceof ny.UMt&&this.yx.Lv()?(this.Ys=this.ebt,this.HSt=!0):h&&h.y0()?(this.Ys=this.hbt,this.cTt()):(this.Ys=this.ebt,this.HSt=!0)}ebt(){return this.ibt}hbt(t){t=t||0;const s=this.yx.IW(),i=s.AB(),e=i.EB();let h=null;if(e.length)h=e[t%e.length].IW();else if(i.mdt()){const s=i.gdt();h=s[t%s.length].IW()}else{if(!(s.NB()>0))return 0;{const i=s.EB();h=i[t%i.length].IW()}}return this.ibt+h.CTt(s.GTt())}}class gy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.OTt=e[1],this.LTt=null,t.qTt()>=2?this.Ys=this.nbt:this.Ys=this.rbt,this.HSt=!0}rmt(){this.LTt=this.Rj().FP().Nmt(this.OTt)}rbt(){return this.LTt}nbt(){return null}}class yy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.obt=e[1],this.pTt=null,t.qTt()>=2?this.Ys=this.abt:this.Ys=this.ubt,this.HSt=!0}rmt(){this.pTt=this.Rj().FP().jP(this.obt),this.obt=null}ubt(){return this.pTt}abt(){return null}}class My extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.lbt=[],this.cbt=[],this.HSt=!0;for(let t=1,s=e.length;t<s;++t){const s=ny.PTt.AC(this.yx,e[t],0);this.lbt.push(s),this.cbt.push(0),s.uyt()||(this.HSt=!1)}this.Ys=this.fbt}rmt(){for(const t of this.lbt)t.rmt()}fbt(){const t=this.lbt,s=this.cbt;for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0);return s}}class wy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.dbt=e[1],this.Ys=this.fht,this.HSt=!0}fht(){return this.dbt}}class Sy extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.pbt=e[1],this.Ys=this.mbt,this.HSt=!0}mbt(){return this.pbt}}class Ty extends ry{constructor(t,s,i,e){super(t,s,i,e),this.Ys=this.QW,this.HSt=!1}QW(){return this.QTt()}}class by extends ny.PTt{constructor(t,s,i,e){super(t,s,i),this.ylt=this.Rj().Rlt().clt(e[1]),this.Ys=this.gbt,this.HSt=!0}gbt(){return this.ylt._c()}}}{let xy=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0)};0;const vy=self.Gs,Cy=(self.assert,[]),Gy=function(){};vy.UMt=class extends vy.Wh{constructor(t,s,i){if(super(),this.DSt=t,this.Pc=t.Rj(),this.IM=i,this.dSt=this.Pc.fSt(s[1]),this.ybt=s[3]>0,this.Mbt=2===s[3],this.wbt=!!s[4],this.Sbt=!!s[5],this.nv=!!s[6],this.JK=s[7],this.Tbt=this.DSt.Adt(),this.sdt=null,this._Tt=null,this.ETt=-1,this.uTt=null,this.K_=Gy,this.igt=Gy,this.zs=[],this.bbt=[],this.xbt=!1,this.vbt=null,this.Cbt=null,this.OMt=this.Pc.yQ()?{RMt:s[8][0],Gbt:s[8][1]}:null,-1===s[0]?this.uTt=this.Pc.NZ():(this.sdt=this.Pc.J$(s[0]),s[2]&&(this._Tt=this.sdt.Pht(s[2]),this.ETt=this.sdt.oit(s[2])),this.DSt.SY()&&this.DSt.SY().lwt()),10===s.length){let t=s[9];for(let s of t)this.zs.push(vy.PTt.AC(this,s,this.zs.length)),this.bbt.push(0)}0===this.zs.length&&(this.zs=Cy,this.bbt=Cy),this.DSt.FP().cmt(this)}static AC(t,s,i){return vy.Yh(vy.UMt,t,s,i)}rmt(){for(const t of this.zs)t.rmt(),t.jTt()&&(this.xbt=!0);this.Mbt?(this.K_=this.Ibt,this.igt=this._bt):this.uTt?(this.Ebt(),this.igt=this.Abt):this.sdt.MB().Yz()?(this.Dbt(),this.igt=this.Nbt):this.nv?(this.K_=this.Lbt,this.igt=this.Obt):(this.K_=this.Rbt,this.igt=this.kbt)}Ebt(){const t=this.uTt,s=this.uTt;this.Pbt(t,s,this.Fbt)}Dbt(){const t=this.sdt.MB(),s=this.sdt.mB().gV();this.Pbt(t,s,this.jbt)}Pbt(t,s,i){const e=this.dSt,h=this.Sbt,n=this.zs;if(0===n.length){const i=t.dTt(e,s);this.K_=h?function(){return vy.xor(i(),h)}:i}else if(1===n.length){const i=n[0];if(!h&&i.uyt())this.K_=t.zbt(e,s,i.Ys(0));else{const n=t.dTt(e,s);this.K_=function(){return vy.xor(n(i.Ys(0)),h)}}}else if(2===n.length){const i=n[0],r=n[1];if(!h&&i.uyt()&&r.uyt())this.K_=t.Bbt(e,s,i.Ys(0),r.Ys(0));else{const n=t.dTt(e,s);this.K_=function(){return vy.xor(n(i.Ys(0),r.Ys(0)),h)}}}else if(3===n.length){const i=n[0],r=n[1],o=n[2];if(!h&&i.uyt()&&r.uyt()&&o.uyt())this.K_=t.Ubt(e,s,i.Ys(0),r.Ys(0),o.Ys(0));else{const n=t.dTt(e,s);this.K_=function(){return vy.xor(n(i.Ys(0),r.Ys(0),o.Ys(0)),h)}}}else this.K_=i}C0(){return this.JK}Wyt(){return this.dSt}IW(){return this.sdt}GV(){return this._Tt}Wbt(){return this._Tt?this._Tt.xV():this.sdt?this.sdt.MB():null}qTt(){const t=this.Wbt();return t?t.Qbt():1}UP(){return this.DSt}Rj(){return this.Pc}eP(){return this.IM}_wt(){return this.eP()}kyt(){return this.ybt}Qyt(){return this.Mbt}Ybt(){return this.Sbt}zV(){return this.wbt}Lv(){return this.nv}Vbt(){return this.OMt.RMt}Jbt(){return!!this.uTt}xwt(){return this.Jbt()||this.sdt.MB().Yz()}vwt(){for(const t of this.zs)if(t.zTt())return t.IW();return null}Hbt(t){this.OMt.RMt=!!t,this.DSt.owt()}qbt(){return this.OMt.Gbt}nMt(){return!this.Vbt()&&!this.Pc.Pwt()&&!this.qbt()}Xbt(){return this.vbt||(this.vbt=new Map),this.vbt}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}Fbt(){const t=this.bbt;return xy(this.zs,t),vy.xor(this.dSt.apply(this.uTt,t),this.Sbt)}*Abt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;xy(this.zs,t);let s=this.dSt.apply(this.uTt,t);return vy.To(s)&&(s=yield*s),vy.xor(s,this.Sbt)}return this.K_()}jbt(){const t=this.bbt;xy(this.zs,t);const s=this.sdt.mB().gV();return vy.xor(this.dSt.apply(s,t),this.Sbt)}*Nbt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;xy(this.zs,t);const s=this.sdt.mB().gV();let i=this.dSt.apply(s,t);return vy.To(i)&&(i=yield*i),vy.xor(i,this.Sbt)}return this.K_()}Ibt(){return!0}*_bt(){return(this.Vbt()||this.Pc.Pwt())&&(yield this),!0}Kbt(){return this._Tt?this._Tt.xV().Qbt()>=2?this._Tt.CV():this._Tt:this.sdt.MB().Qbt()>=2?this.sdt.fB():this.sdt}Lbt(){const t=this.bbt;xy(this.zs,t);const s=this.dSt.apply(this.Kbt(),t);return this.sdt.eSt(),s}*Obt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;xy(this.zs,t);let s=this.dSt.apply(this.Kbt(),t);return vy.To(s)&&(s=yield*s),this.sdt.eSt(),s}return this.K_()}Rbt(){const t=this.zs,s=this.bbt,i=this.sdt.AB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.jTt()||(s[i]=e.Ys(0))}return i.ddt()?this.$bt(i):this.txt(i)}*kbt(){return(this.Vbt()||this.Pc.Pwt())&&(yield this),this.Rbt()}sxt(t){const s=this.zs,i=this.bbt;for(let e=0,h=s.length;e<h;++e){const h=s[e];h.jTt()&&(i[e]=h.Ys(t))}}$bt(t){const s=this.sdt,i=s.y0(),e=s.GTt(),h=this.ETt,n=h>=0,r=s.EB(),o=this.xbt,a=this.bbt,u=this.dSt,l=this.Sbt,c=this.Tbt&&!this.ybt;t.fdt();for(let s=0,f=r.length;s<f;++s){const f=r[s];let d;if(o&&this.sxt(s),n){const t=i?f.IW().DTt(e):0;d=u.apply(f.kht()[h+t].gV(),a)}else d=u.apply(f.gV(),a);vy.xor(d,l)?t.Mdt(f):c&&t.wdt(f)}return s.ixt(!0),t.Sdt(!1),s.eSt(),t.pdt()}txt(t){const s=this.sdt,i=s.y0(),e=s.GTt(),h=s.FW(),n=this.ETt,r=n>=0,o=this.xbt,a=this.bbt,u=this.dSt,l=this.Sbt,c=this.Tbt&&!this.ybt,f=t.Tdt(),d=t.bdt(),p=c&&!this.DSt.bwt(this),m=p?d:f;let g=0,y=!1;for(let t=0,s=m.length;t<s;++t){const s=m[t];let M;if(o&&this.sxt(t),r){const t=i?s.IW().DTt(e):0;M=u.apply(s.kht()[n+t].gV(),a)}else M=u.apply(s.gV(),a);vy.xor(M,l)?(y=!0,p?(f.push(s),h&&s.hxt()):(m[g]=s,h&&s.nxt(g),++g)):p?(m[g]=s,h&&s.rxt(g),++g):c&&(d.push(s),h&&s.oxt())}vy.Mr(m,g),h&&s.axt(p,g);const M=y;return p&&!y&&(y=this.uxt(f)),s.ixt(M||c),c?y:t.pdt()}uxt(t){const s=this.sdt,i=s.y0(),e=s.GTt(),h=this.xbt,n=this.ETt,r=n>=0,o=this.bbt,a=this.dSt,u=this.Sbt;for(let s=0,l=t.length;s<l;++s){const l=t[s];let c;if(h&&this.sxt(s),r){const t=i?l.IW().DTt(e):0;c=a.apply(l.kht()[n+t].gV(),o)}else c=a.apply(l.gV(),o);if(vy.xor(c,u))return!0}return!1}lxt(t,s){return this.zs[t].Ys(s)}Yyt(){const t=this.zs;if(!t.length)throw new Error("no parameters");return t[0].HTt()}t3(){if(!this.vbt||!this.vbt.size)return null;const t={};for(const[s,i]of this.vbt.entries()){let e=i;"collmemory"===s&&(e=[...i.entries()].map((t=>[t[0].zW(),t[1].zW(),t[2]]))),t[s]=e}return{ex:t}}s3(t){if(this.vbt&&(this.vbt.clear(),this.vbt=null),!t)return;const s=this.Pc,i=t.ex;if(i){const t=this.Xbt();t.clear();for(const[e,h]of Object.entries(i)){let i=h;"collmemory"===e&&(i=vy.Yh(vy.Gl,h.map((t=>[s.ij(t[0]),s.ij(t[1]),t[2]])).filter((t=>t[0]&&t[1])))),t.set(e,i)}}}}}{let Iy=function(t,s){for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(0)};0;const _y=self.Gs,Ey=(self.assert,[]),Ay=function(){},Dy=function*(){};_y.QMt=class extends _y.Wh{constructor(t,s,i){super(),this.DSt=t;const e=t.Rj();this.Pc=e,this.IM=i,this.JK=s.length>=4?s[3]:-1,this.cxt=s.length>=5?255&s[4]:0,this.fxt=s.length>=5?s[4]>>8:0,this.dSt=null,this.sdt=null,this._Tt=null,this.ETt=-1,this.uTt=null,this.dxt="",this.pxt=null,this.mxt=null,this.K_=Ay,this.igt=Ay,this.zs=[],this.bbt=[],this.xbt=!1,this.vbt=null,this.Cbt=null;const h=-3===s[0],n=h?s[2]:s[5];if(this.OMt=e.yQ()||h?{RMt:n[0],Gbt:n[1],index:n[2]}:null,-1===s[0])this.uTt=e.NZ(),this.dSt=e.fSt(s[1]);else if(-2===s[0])this.dxt=s[1];else if(h){const t=e.fSt(s[1]);this.dSt=t,this.K_=this.gxt,this.igt=this.yxt,this.fxt|=8}else this.sdt=e.J$(s[0]),4&this.fxt?(this.dxt=s[1],this.pxt=e.J$(s[2])):(s[2]&&(this._Tt=this.sdt.Pht(s[2]),this.ETt=this.sdt.oit(s[2])),this.dSt=e.fSt(s[1]));if(7===s.length){const t=s[6];for(const s of t)this.zs.push(_y.PTt.AC(this,s,this.zs.length)),this.bbt.push(0)}0===this.zs.length&&(this.zs=Ey,this.bbt=Ey),this.Mxt()&&(this.DSt.ZMt(),this.DSt.lwt()),this.DSt.FP().fmt(this)}static AC(t,s,i){return _y.Yh(_y.QMt,t,s,i)}rmt(){for(const t of this.zs)t.rmt(),t.jTt()&&(this.xbt=!0);if(this.uTt)this.Ebt(),this.igt=this.Abt;else if(this.dxt)4&this.fxt?this.wxt():this.Sxt(),this.dxt="",this.pxt=null;else if(this.K_===this.gxt){const t=this.dSt,s=this.Pc.FP().Emt(this.DSt);this.dSt=t.bind(null,this.Pc.Uz(),s)}else this._Tt?this.Bwt()?(this.K_=this.Txt,this.igt=this.bxt):(this.K_=this.xxt,this.igt=this.vxt):this.sdt.MB().Yz()?(this.Dbt(),this.igt=this.Nbt):this.Lv()?(this.K_=this.Cxt,this.igt=this.Gxt):this.Bwt()?(this.K_=this.Ixt,this.igt=this._xt):this.Ext()?(this.K_=this.Axt,this.igt=this.Dxt):this.zs.length?this.zs.every((t=>t.jTt()))?(this.K_=this.Nxt,this.igt=this.Lxt):this.xbt?(this.K_=this.Oxt,this.igt=this.Rxt):this.zs.every((t=>t.uyt()))?(Iy(this.zs,this.bbt),this.K_=this.kxt,this.igt=this.Pxt):(this.K_=this.Fxt,this.igt=this.jxt):(this.K_=this.kxt,this.igt=this.Pxt)}Ebt(){const t=this.uTt,s=this.uTt;this.Pbt(t,s,this.Fbt)}Dbt(){const t=this.sdt.MB(),s=this.sdt.mB().gV();this.Pbt(t,s,this.jbt)}Sxt(){const t=this.DSt.FP(),s=t.jP(this.dxt);if(s.Cl()){const i=!!(2&this.fxt);this.mxt=s.UP();let e=[...new Set([...this.DSt.WP(),...this.mxt.WP()])];e=t.ymt(e);const h=!s.JP()&&this.zxt()?{rSt:!0}:null;if(this.K_=_y.Oyt.prototype.tSt.bind(this.mxt,e,this.zs,i,h),this.Pc.yQ()){const t=this;this.igt=function*(){return(t.Vbt()||t.Pc.Pwt())&&(yield t),yield*t.mxt.uSt(e,t.zs,i,h)}}else this.igt=Dy}else this.K_=Ay,this.igt=Dy}wxt(){const t=this.DSt.FP(),s=t.kmt(this.pxt,this.dxt);if(s.Cl()){const i=!!(2&this.fxt);this.mxt=s.UP();let e=[...new Set([...this.DSt.WP(),...this.mxt.WP(),this.sdt,s.IW()])];e=t.ymt(e);const h=!this.sdt.y0()&&!s.IW().y0(),n=!this.sdt.y0()&&s.IW().y0(),r=this.sdt.y0();let o=null;if(!s.JP()&&this.zxt()&&(o=o||{},o.rSt=!0),!n&&i||(o=o||{},o.sSt=this.sdt,o.iSt=s.IW()),h||n||r&&!s.zSt()?this.K_=_y.Oyt.prototype.tSt.bind(this.mxt,e,this.zs,i,o):r&&(this.K_=_y.myt.prototype.QSt.bind(s,e,this.zs)),this.Pc.yQ()){const t=this;h||n||r&&!s.zSt()?this.igt=function*(){return(t.Vbt()||t.Pc.Pwt())&&(yield t),yield*t.mxt.uSt(e,t.zs,i,o)}:r&&(this.igt=function*(){return(t.Vbt()||t.Pc.Pwt())&&(yield t),yield*s.VSt(e,t.zs)})}else this.igt=Dy}else this.K_=Ay,this.igt=Dy}Pbt(t,s,i){const e=this.dSt,h=this.zs;if(0===h.length)this.K_=t.dTt(e,s);else if(1===h.length){const i=h[0];if(i.uyt())this.K_=t.zbt(e,s,i.Ys(0));else{const h=t.dTt(e,s);this.K_=function(){return h(i.Ys(0))}}}else if(2===h.length){const i=h[0],n=h[1];if(i.uyt()&&n.uyt())this.K_=t.Bbt(e,s,i.Ys(0),n.Ys(0));else{const h=t.dTt(e,s);this.K_=function(){return h(i.Ys(0),n.Ys(0))}}}else if(3===h.length){const i=h[0],n=h[1],r=h[2];if(i.uyt()&&n.uyt()&&r.uyt())this.K_=t.Ubt(e,s,i.Ys(0),n.Ys(0),r.Ys(0));else{const h=t.dTt(e,s);this.K_=function(){return h(i.Ys(0),n.Ys(0),r.Ys(0))}}}else this.K_=i}C0(){return this.JK}Bwt(){return!!(8&this.fxt)}zwt(){return!!(16&this.fxt)}Ext(){return 1===this.cxt}Lv(){return 2===this.cxt}Mxt(){return!!(1&this.fxt)}twt(){return this.Bwt()||this.zwt()}IW(){return this.sdt}Wbt(){return this._Tt?this._Tt.xV():this.sdt?this.sdt.MB():null}qTt(){const t=this.Wbt();return t?t.Qbt():1}UP(){return this.DSt}zxt(){let t=this.DSt;do{if(t instanceof _y.myt&&t.JP())return!0;t=t.Imt()}while(t);return!1}Rj(){return this.Pc}eP(){return this.IM}_wt(){return this.OMt.index}Vbt(){return this.OMt.RMt}Hbt(t){this.OMt.RMt=!!t,this.DSt.owt()}qbt(){return this.OMt.Gbt}nMt(){return!this.Vbt()&&!this.Pc.Pwt()&&!this.qbt()}Xbt(){return this.vbt||(this.vbt=new Map),this.vbt}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}Fbt(){const t=this.bbt;return Iy(this.zs,t),this.dSt.apply(this.uTt,t)}*Abt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;return Iy(this.zs,t),yield*this.dSt.apply(this.uTt,t)}return this.K_()}jbt(){const t=this.bbt;return Iy(this.zs,t),this.dSt.apply(this.sdt.mB().gV(),t)}*Nbt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;return Iy(this.zs,t),yield*this.dSt.apply(this.sdt.mB().gV(),t)}return this.K_()}kxt(){const t=this.bbt,s=this.sdt.AB().EB();for(let i=0,e=s.length;i<e;++i)this.dSt.apply(s[i].gV(),t)}*Pxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt,s=this.sdt.AB().EB();for(let i=0,e=s.length;i<e;++i)yield*this.dSt.apply(s[i].gV(),t)}else this.kxt()}Fxt(){const t=this.bbt;Iy(this.zs,t);const s=this.sdt.AB().EB();for(let i=0,e=s.length;i<e;++i)this.dSt.apply(s[i].gV(),t)}*jxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;Iy(this.zs,t);const s=this.sdt.AB().EB();for(let i=0,e=s.length;i<e;++i)yield*this.dSt.apply(s[i].gV(),t)}else this.Fxt()}Nxt(){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB();for(let h=0,n=e.length;h<n;++h){const n=e[h];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(h);i.apply(n.gV(),s)}}*Lxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB();for(let h=0,n=e.length;h<n;++h){const n=e[h];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(h);yield*i.apply(n.gV(),s)}}else this.Nxt()}Oxt(){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.jTt()||(s[i]=e.Ys(0))}for(let h=0,n=e.length;h<n;++h){const n=e[h];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.jTt()&&(s[i]=e.Ys(h))}i.apply(n.gV(),s)}}*Rxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB();for(let i=0,e=t.length;i<e;++i){const e=t[i];e.jTt()||(s[i]=e.Ys(0))}for(let h=0,n=e.length;h<n;++h){const n=e[h];for(let i=0,e=t.length;i<e;++i){const e=t[i];e.jTt()&&(s[i]=e.Ys(h))}yield*i.apply(n.gV(),s)}}else this.Oxt()}Axt(){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt,h=e.Bxt(),n=e.AB().EB();h.Uxt(i);for(let e=0,h=n.length;e<h;++e){const h=n[e];for(let i=0,h=t.length;i<h;++i)s[i]=t[i].Ys(e);i.apply(h.gV(),s)}h.Wxt(i)}*Dxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt,h=e.Bxt(),n=e.AB().EB();h.Uxt(i);for(let e=0,h=n.length;e<h;++e){const h=n[e];for(let i=0,h=t.length;i<h;++i)s[i]=t[i].Ys(e);yield*i.apply(h.gV(),s)}h.Wxt(i)}else this.Axt()}Qxt(){return this._Tt?this._Tt.xV().Qbt()>=2?this._Tt.CV():this._Tt:this.sdt.MB().Qbt()>=2?this.sdt.fB():this.sdt}Cxt(){const t=this.bbt;return Iy(this.zs,t),this.dSt.apply(this.Qxt(),t)}*Gxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.bbt;Iy(this.zs,t);let s=this.dSt.apply(this.Qxt(),t);return _y.To(s)&&(s=yield*s),s}return this.Cxt()}xxt(){const t=this.sdt,s=t.y0(),i=t.GTt(),e=this.zs,h=this.xbt,n=this.bbt,r=this.dSt,o=this.ETt,a=t.AB().EB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.jTt()||(n[t]=s.Ys(0))}for(let t=0,u=a.length;t<u;++t){const u=a[t];if(h)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.jTt()&&(n[s]=i.Ys(t))}const l=s?u.IW().DTt(i):0;r.apply(u.kht()[o+l].gV(),n)}}*vxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.sdt,s=t.y0(),i=t.GTt(),e=this.zs,h=this.xbt,n=this.bbt,r=this.dSt,o=this.ETt,a=t.AB().EB();for(let t=0,s=e.length;t<s;++t){const s=e[t];s.jTt()||(n[t]=s.Ys(0))}for(let t=0,u=a.length;t<u;++t){const u=a[t];if(h)for(let s=0,i=e.length;s<i;++s){const i=e[s];i.jTt()&&(n[s]=i.Ys(t))}const l=s?u.IW().DTt(i):0;yield*r.apply(u.kht()[o+l].gV(),n)}}else this.xxt()}Ixt(){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB(),h=[];for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(n);h.push(i.apply(r.gV(),s))}return Promise.all(h)}*_xt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.zs,s=this.bbt,i=this.dSt,e=this.sdt.AB().EB(),h=[];for(let n=0,r=e.length;n<r;++n){const r=e[n];for(let i=0,e=t.length;i<e;++i)s[i]=t[i].Ys(n);h.push(yield*i.apply(r.gV(),s))}return Promise.all(h)}return this.Ixt()}Txt(){const t=this.sdt,s=t.y0(),i=t.GTt(),e=this.zs,h=this.bbt,n=this.dSt,r=this.ETt,o=t.AB().EB(),a=[];for(let t=0,u=o.length;t<u;++t){const u=o[t];for(let s=0,i=e.length;s<i;++s)h[s]=e[s].Ys(t);const l=s?u.IW().DTt(i):0;a.push(n.apply(u.kht()[r+l].gV(),h))}return Promise.all(a)}*bxt(){if((this.Vbt()||this.Pc.Pwt())&&(yield this),this.qbt()){const t=this.sdt,s=t.y0(),i=t.GTt(),e=this.zs,h=this.bbt,n=this.dSt,r=this.ETt,o=t.AB().EB(),a=[];for(let t=0,u=o.length;t<u;++t){const u=o[t];for(let s=0,i=e.length;s<i;++s)h[s]=e[s].Ys(t);const l=s?u.IW().DTt(i):0;a.push(yield*n.apply(u.kht()[r+l].gV(),h))}return Promise.all(a)}return this.Txt()}async gxt(){try{await this.dSt()}catch(t){console.error(`Unhandled exception running script %c${this.DSt.Z3()._c()}, event ${this.DSt.dwt()}, action ${this._wt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.MQ&&self.MQ.mSt(this),_y.Uyt.gSt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),_y.Uyt.ySt())}}*yxt(){return(this.Vbt()||this.Pc.Pwt())&&(yield this),this.gxt()}t3(){return this.vbt&&this.vbt.size?{ex:_y.Mo(this.vbt)}:null}s3(t){if(this.vbt&&(this.vbt.clear(),this.vbt=null),!t)return;const s=t.ex;s&&(this.vbt=_y.wo(s))}}}{let Ny=function(t){return t instanceof $y?Ky.uU(t):t.UJ()},Ly=function(t){return Ny(t).oj()},Oy=function(t){return Ky.uU(t)},Ry=function(t){return Oy(t).oj()},ky=function(t){return t instanceof tM?Ky.uU(t):t},Py=function(t){return t instanceof sM?Ky.uU(t):t},Fy=function(t,s,i,e){s.zW()<i.zW()?t.Set(s,i,e):t.Set(i,s,e)},jy=function(t,s,i){s.zW()<i.zW()?t.Al(s,i):t.Al(i,s)},zy=function(t,s){t.Dl(s)},By=function(t,s,i){return s.zW()<i.zW()?t.Ys(s,i):t.Ys(i,s)},Uy=function(t,s,i,e){if(!s)return!1;const h=0!==i||0!==e,n=t.oj(),r=Ky.cP(),o=Ky.Tmt(),a=o.UP().Adt(),u=o.IW(),l=o.Ybt(),c=s.AB(),f=u!==s;let d;rM=s,nM=f&&!l,oM=!1;let p=0,m=0,g=!1;c.ddt()?(iM.m(n.tY()),iM.offset(i,e),r.Yxt(n.aj(),s,iM,hM),d=hM):a?Ky.Vxt()&&!c.bdt().length&&c.Tdt().length?d=c.Tdt():(d=c.bdt(),oM=!0):d=c.Tdt(),h&&(p=n.Wb(),m=n.Vb(),n.BQ(i,e),n.FQ());for(const s of d)if(r.iz(t,s)){if(g=!0,l)break;f&&aM.add(s)}return h&&(n.jQ(p,m),n.FQ()),Jy.wr(hM),g},Wy=function(t){const s=Ky.QP().Adt(),i=rM.AB(),e=i.Tdt(),h=i.bdt();i.ddt()?(i.Cdt(aM),s&&(Jy.wr(h),i.Gdt(aM,rM.EB()))):s?oM?i.Idt(aM):(i.Gdt(aM,e),i.Cdt(aM)):i.Cdt(aM),rM.eSt()},Qy=function(t,s){nM&&(s&&Wy(t),aM.clear(),rM=null,nM=!1)},Yy=function(t,s){const i=Ky.ij(s);if(!i)return!1;const e=t.AB();if(!e.ddt()&&!e.Tdt().includes(i))return!1;if(t.y0()){if(i.IW().Jxt(t))return e.Edt(i),t.eSt(),!0}else if(i.IW()===t)return e.Edt(i),t.eSt(),!0;return!1},Vy=function(t,s){const i=t.AB();if(i.ddt()){i.Sdt(!1),i.fdt();const e=t.EB();for(let t=0,h=e.length;t<h;++t){const h=e[t];h.zW()===s?i.wdt(h):i.Mdt(h)}return t.eSt(),!!i.Tdt().length}{const e=i.Tdt();let h=0;for(let t=0,n=e.length;t<n;++t){const n=e[t];e[h]=n,n.zW()===s?i.wdt(n):++h}return Jy.Mr(e,h),t.eSt(),!!e.length}};0;const Jy=self.Gs,Hy=new Jy.xo,qy={},Xy={},Zy={};let Ky=null;Jy.Hxt=function(t){Ky=t};const $y=self.GW,tM=self.gB,sM=self.aU;Xy.qxt=function(t,s){return Jy.compare(this.oj().Wb(),t,s)},Zy.qxt=function(t,s){return Jy.compare(this.x,t,s)},Xy.Xxt=function(t,s){return Jy.compare(this.oj().Vb(),t,s)},Zy.Xxt=function(t,s){return Jy.compare(this.y,t,s)},Xy.Zxt=function(){return this.oj().hY()},Zy.Zxt=function(){return this.eY()},qy.Kxt=function(){const t=Ly(this),s=t.WF(),i=t.tY();return i.$a()<0||i.tu()<0||i.Za()>s.Bg()||i.Ka()>s.Zg()},qy.$xt=function(t,s,i){const e=ky(this).AB(),h=e.EB();if(!h.length)return!1;let n=h[0],r=n.oj(),o=n,a=Jy.nn(r.Wb(),r.Vb(),s,i);for(let e=1,u=h.length;e<u;++e){n=h[e],r=n.oj();const u=Jy.nn(r.Wb(),r.Vb(),s,i);(0===t&&u<a||1===t&&u>a)&&(a=u,o=n)}return e.Edt(o),!0},Xy.Qb=function(t){const s=this.oj();s.Wb()!==t&&(s.Qb(t),s.FQ())},Zy.Qb=function(t){this.x=+t},Xy.Jb=function(t){const s=this.oj();s.Vb()!==t&&(s.Jb(t),s.FQ())},Zy.Jb=function(t){this.y=+t},Xy.tvt=function(t,s){const i=this.oj();i.svt(t,s)||(i.jQ(t,s),i.FQ())},Zy.tvt=function(t,s){this.setPosition(t,s)},qy.ivt=function(t,s){if(!(t=ky(t)))return;const i=Ny(this),e=t.IB(i);if(!e)return;const[h,n]=e.evt(s),r=i.oj();r.Wb()===h&&r.Vb()===n||(r.jQ(h,n),r.FQ())},qy.hvt=function(t){if(0===t)return;const s=Ly(this);s.BQ(s.nvt()*t,s.rvt()*t),s.FQ()},Xy.ovt=function(t,s){if(0===s)return;const i=this.oj();t=Jy.$h(t),i.BQ(Math.cos(t)*s,Math.sin(t)*s),i.FQ()},Zy.ovt=function(t,s){0!==s&&(t=Jy.$h(t),this.offsetPosition(Math.cos(t)*s,Math.sin(t)*s))},Xy.Wb=function(){return this.oj().Wb()},Zy.Wb=function(){return this.x},Xy.Vb=function(){return this.oj().Vb()},Zy.Vb=function(){return this.y},qy.oF=function(){return Ky.oF(Ny(this))},Xy.avt=function(t,s){return Jy.compare(this.oj().Bg(),t,s)},Zy.avt=function(t,s){return Jy.compare(this.width,t,s)},Xy.uvt=function(t,s){return Jy.compare(this.oj().Zg(),t,s)},Zy.uvt=function(t,s){return Jy.compare(this.height,t,s)},Xy.Hg=function(t){const s=this.oj();s.Bg()!==t&&(s.Hg(t),s.FQ())},Zy.Hg=function(t){this.width=t},Xy.Ug=function(t){const s=this.oj();s.Zg()!==t&&(s.Ug(t),s.FQ())},Zy.Ug=function(t){this.height=t},Xy.xA=function(t,s){const i=Ly(this);i.Bg()===t&&i.Zg()===s||(i.xA(t,s),i.FQ())},Zy.xA=function(t,s){this.VB(t,s)},Xy.Bg=function(){return this.oj().Bg()},Zy.Bg=function(){return this.width},Xy.Zg=function(){return this.oj().Zg()},Zy.Zg=function(){return this.height},qy.lvt=function(){return Ly(this).tY().Za()},qy.cvt=function(){return Ly(this).tY().Ka()},qy.fvt=function(){return Ly(this).tY().$a()},qy.dvt=function(){return Ly(this).tY().tu()},qy.pvt=function(){const t=Ly(this).tY();return(t.Za()+t.$a())/2},qy.mvt=function(){const t=Ly(this).tY();return(t.Ka()+t.tu())/2},qy.gvt=function(t,s){return Jy.an(Ly(this).XB(),Jy.$h(s))<=Jy.$h(t)},qy.yvt=function(t){return Jy.ln(Ly(this).XB(),Jy.$h(t))},qy.Mvt=function(t,s){const i=Jy.$h(t),e=Jy.$h(s),h=Ly(this).XB();return Jy.ln(e,i)?Jy.ln(h,i)&&!Jy.ln(h,e):!(!Jy.ln(h,i)&&Jy.ln(h,e))},Xy.qB=function(t){const s=this.oj(),i=Jy.Kh(Jy.$h(t));isNaN(i)||s.XB()===i||(s.qB(i),s.FQ())},Zy.qB=function(t){this.KQ=t},qy.wvt=function(t){if(isNaN(t)||0===t)return;const s=Ly(this);s.qB(s.XB()+Jy.$h(t)),s.FQ()},qy.Svt=function(t){if(isNaN(t)||0===t)return;const s=Ly(this);s.qB(s.XB()-Jy.$h(t)),s.FQ()},qy.Tvt=function(t,s){const i=Ly(this),e=i.XB(),h=Jy.un(e,Jy.$h(s),Jy.$h(t));isNaN(h)||e===h||(i.qB(h),i.FQ())},qy.bvt=function(t,s,i){const e=Ly(this),h=e.XB(),n=s-e.Wb(),r=i-e.Vb(),o=Math.atan2(r,n),a=Jy.un(h,o,Jy.$h(t));isNaN(a)||h===a||(e.qB(a),e.FQ())},qy.xvt=function(t,s){const i=Ly(this),e=i.XB(),h=t-i.Wb(),n=s-i.Vb(),r=Math.atan2(n,h);isNaN(r)||e===r||(i.qB(r),i.FQ())},Xy.XB=function(){return Jy.tn(this.oj().XB())},Zy.XB=function(){return this.KQ},qy.vvt=function(t,s){return Jy.compare(Jy.vn(100*Ly(this).tL(),6),t,s)},Xy.OU=function(){return this.oj().OU()},Zy.OU=function(){return this.isVisible},qy.NU=function(t){const s=Ly(this);t=2===t?!s.OU():0!==t,s.OU()!==t&&(s.NU(t),Ky.pj())},qy.iL=function(t){const s=Jy.Zh(t/100,0,1),i=Ly(this);if(i.HY()){if(i.urt().Cvt()===s)return}else if(i.tL()===s)return;i.iL(s),Ky.pj()},qy.Gvt=function(t){Hy.Ko(t);const s=Ly(this);s.rY().Qo(Hy)||(s.oY(Hy),Ky.pj())},qy.hL=function(){const t=Ly(this).rY();return Jy.In(t.Po(),t.Fo(),t.jo(),t.zo())},qy.tL=function(){return Jy.vn(100*Ly(this).tL(),6)},qy.Ivt=function(t){return!!(t=Py(t))&&Ly(this).aj()===t},qy._vt=function(t){const s=ky(this).AB(),i=s.EB();if(!i.length)return!1;let e=i[0];for(let s=1,h=i.length;s<h;++s){const h=i[s],n=h.oj(),r=e.oj(),o=n.aj().eP(),a=r.aj().eP();0===t?(o>a||o===a&&n.uj()>r.uj())&&(e=h):(o<a||o===a&&n.uj()<r.uj())&&(e=h)}return s.Edt(e),!0},Xy.Evt=function(t,s,i){const e=this.oj(),h=0===t?e.Hb():e.ZQ();return Jy.compare(h,s,i)},Zy.Evt=function(t,s,i){const e=0===t?this.sW:this.XQ;return Jy.compare(e,s,i)},Xy.Avt=function(){this.oj().uY()},Zy.Avt=function(){this.aY()},Xy.Dvt=function(){this.oj().cY()},Zy.Dvt=function(){this.lY()},qy.Nvt=function(t){(t=Py(t))&&Ly(this).dY(t)},qy.Lvt=function(t,s){const i=0===t;if(!(s=ky(s)))return;const e=Ny(this),h=s.Ovt(e);h&&e.oj().mY(h,i)},Xy.qb=function(t){const s=this.oj();s.Hb()!==t&&(s.qb(t),Ky.pj())},Zy.qb=function(t){this.sW=t},qy.Rvt=function(){return Ly(this).aj().eP()},qy.kvt=function(){return Ly(this).aj()._c()},Xy.Pvt=function(){return this.oj().uj()},Zy.Pvt=function(){return this.zIndex},Xy.Fvt=function(){return this.oj().Hb()},Zy.Fvt=function(){return this.sW},Xy.jvt=function(){return this.oj().ZQ()},Zy.jvt=function(){return this.XQ},qy.zvt=function(t){const s=Ny(this),i=s.IW().WB().jht(t);if(!i)return;const e=i.eP();return s.oj().kQ().NV(e)},qy.Bvt=function(t,s){const i=Ny(this),e=i.IW().WB().jht(s);if(!e)return;const h=e.eP(),n=1===t,r=i.oj().kQ();r.NV(h)!==n&&(r.LV(h,n),r.OV(),Ky.pj())},qy.Uvt=function(t,s,i){const e=Ny(this),h=e.IW().WB().jht(t);if(!h)return;s=Math.floor(s);const n=h.EG().DG(s);if(!n)return;"color"===n?(Hy.Ko(i),i=Hy):"percent"===n&&(i/=100);const r=h.eP(),o=e.oj().kQ();o.kV(r,s,i)&&o.NV(r)&&Ky.pj()};const iM=Jy.Yh(Jy.Rect),eM=[],hM=[];let nM=!1,rM=null,oM=!1;const aM=new Set;function*uM(t){if(!t)return!1;const s=this.Rj(),i=s.cP(),e=s.FP(),h=e.ZP(),n=e.Tmt(),r=n.IW(),o=n.Xbt(),a=n.Zbt(),u=h.pq(),l=s.Ttt(),c=l-1,f=u.QP(),d=h.mq(f);let p=o.get("collmemory");p||(p=Jy.Yh(Jy.Gl),o.set("collmemory",p)),a.get("collisionCreatedDestroyCallback")||(a.set("collisionCreatedDestroyCallback",!0),s.yf().addEventListener("instancedestroy",(t=>zy(p,t.IV))));const m=r.AB(),g=t.AB(),y=m.EB();let M=null;for(let s=0;s<y.length;++s){const h=y[s];g.ddt()?(i.Yxt(h.oj().aj(),t,h.oj().tY(),eM),M=eM,i.Wvt(h,t,M)):M=g.EB();for(let s=0;s<M.length;++s){const n=M[s];if(i.iz(h,n)||i.Qvt(h,n)){const s=By(p,h,n);let i=!1,o=-2;"number"==typeof s&&(i=!0,o=s);const a=!i||o<c;if(Fy(p,h,n,l),a){const s=f.fq();e.Sq(s);const i=r.AB(),o=t.AB();if(i.Sdt(!1),o.Sdt(!1),r===t){const t=i.Tdt();Jy.wr(t),t.push(h),t.push(n),r.eSt()}else{const s=i.Tdt(),e=o.Tdt();Jy.wr(s),Jy.wr(e),s.push(h),e.push(n),r.eSt(),t.eSt()}yield*f.Hwt(u,d),e.bq(s)}}else jy(p,h,n)}Jy.wr(eM)}return h.Gq(),!1}qy.Yvt=function(t){const s=ky(this);t=ky(t);const i=s.Rj();if(i.Vvt())return uM.call(s,t);if(!t)return!1;const e=i.cP(),h=i.FP(),n=h.ZP(),r=h.Tmt(),o=r.IW(),a=r.Xbt(),u=r.Zbt(),l=n.pq(),c=i.Ttt(),f=c-1,d=l.QP(),p=n.mq(d);let m=a.get("collmemory");m||(m=Jy.Yh(Jy.Gl),a.set("collmemory",m)),u.get("collisionCreatedDestroyCallback")||(u.set("collisionCreatedDestroyCallback",!0),i.yf().addEventListener("instancedestroy",(t=>zy(m,t.IV))));const g=o.AB(),y=t.AB(),M=g.EB();let w=null;for(let s=0;s<M.length;++s){const i=M[s];y.ddt()?(e.Yxt(i.oj().aj(),t,i.oj().tY(),eM),w=eM,e.Wvt(i,t,w)):w=y.EB();for(let s=0;s<w.length;++s){const n=w[s];if(e.iz(i,n)||e.Qvt(i,n)){const s=By(m,i,n);let e=!1,r=-2;"number"==typeof s&&(e=!0,r=s);const a=!e||r<f;if(Fy(m,i,n,c),a){const s=d.fq();h.Sq(s);const e=o.AB(),r=t.AB();if(e.Sdt(!1),r.Sdt(!1),o===t){const t=e.Tdt();Jy.wr(t),t.push(i),t.push(n),o.eSt()}else{const s=e.Tdt(),h=r.Tdt();Jy.wr(s),Jy.wr(h),s.push(i),h.push(n),o.eSt(),t.eSt()}d.Tq(l,p),h.bq(s)}}else jy(m,i,n)}Jy.wr(eM)}return n.Gq(),!1},qy.Jvt=function(t){return t=ky(t),Uy(Ny(this),t,0,0)},qy.Hvt=function(t,s,i){return t=ky(t),Uy(Ny(this),t,s,i)},qy.qvt=function(){return!0},qy.LY=function(){return Ly(this).LY()},qy.h3=function(){return Ly(this).h3()},qy.Xvt=function(t,s){const i=ky(this);t=ky(t);const e=i.Rj(),h=this.AB().EB();if(0===h.length)return!1;const n=t.AB();let r=n.EB();if(n.ddt()){const s=[...e.Zvt(t)];s.length>0&&(r=r.concat(s))}if(0===r.length)return!1;const o=n.ddt()?null:new Set(r),a=new Set;for(let i=0,e=h.length;i<e;++i){const e=h[i];if(1===s)for(const s of e.xY())s.Kvt(t)&&(null===o||o.has(s))&&a.add(s);else{let i;if(0===s){if(i=e.SY(),null===i)continue}else i=e.bY();i.Kvt(t)&&(null===o||o.has(i))&&a.add(i)}}return 0!==a.size&&(n.Cdt(a),t.eSt(),!0)},qy.$vt=function(t,s){const i=ky(this);t=ky(t);const e=i.Rj(),h=i.AB().EB();if(0===h.length)return!1;const n=t.AB();let r=n.EB();if(n.ddt()){const s=[...e.Zvt(t)];s.length>0&&(r=r.concat(s))}if(0===r.length)return!1;const o=n.ddt()?null:new Set(r),a=new Set;for(let i=0,e=h.length;i<e;++i){const e=h[i];2!==s||e.h3()||!e.Kvt(t)||null!==o&&!o.has(e)||a.add(e);for(const i of 0===s?e.children():e._Y())2===s&&i.h3()||i.Kvt(t)&&(null===o||o.has(i))&&a.add(i)}return 0!==a.size&&(n.Cdt(a),t.eSt(),!0)},qy.tCt=function(t,s,i){const e=ky(this);t=ky(t);const h=e.Rj(),n=e.AB().EB();if(0===n.length)return!1;const r=t.AB();let o=r.EB();if(r.ddt()){const s=[...h.Zvt(t)];s.length>0&&(o=o.concat(s))}if(0===o.length)return!1;const a=r.ddt()?null:new Set(o),u=[];for(let e=0,h=n.length;e<h;++e){const h=n[e];if(0===s){const s=h.IY(i);null!==s&&s.Kvt(t)&&(null===a||a.has(s))&&u.push(s)}else if(1===s)for(const s of h.children())if(s.Kvt(t)){if(0===i){(null===a||a.has(s))&&u.push(s);break}--i}}return 0!==u.length&&(r.vdt(u),t.eSt(),!0)},qy.sCt=function(t,s,i){const e=Ny(this);switch(t){case 0:default:return Jy.compare(e.CY(),s,i);case 1:return Jy.compare(e.iCt(),s,i)}},qy.AY=function(t,s,i,e,h,n,r,o,a,u){t=ky(t);const l=Ny(this),c=Ky.xmt().IW();for(const f of t.eCt(l,c)){if(!f.MB().hB())return;l.AY(f,{RY:s,PY:i,jY:e,BY:h,WY:n,JY:r,YY:o,qY:a,ZY:u})}},qy.DY=function(t){t=ky(t);const s=Ny(this),i=Ky.xmt().IW();for(const e of t.eCt(s,i))s.DY(e)},qy.hCt=function(){const t=Ny(this);t.LY()&&t.SY().DY(t)},qy.nCt=function(){const t=Ny(this).SY();return t?t.zW():-1},qy.rCt=function(){return Ny(this).CY()},qy.oCt=function(){return Ny(this).iCt()},qy.aCt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=Ly(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.iV(),i.FQ()):i.tV(t,s)},qy.hV=function(t,s,i,e,h,n,r,o){const a=Ly(this);a.hV(t,s,{mode:0===i?"absolute":"relative",x:e,y:h,sW:n,aV:r,uV:o})&&a.FQ()},qy.uCt=function(){const t=Ly(this);return t.rV()?t.oV().Cx():0},qy.lCt=function(){const t=Ly(this);return t.rV()?t.oV().Gx():0},qy.cCt=function(t){const s=Ly(this);t=2===t?!s.OU():0!==t,s.OU()!==t&&s.NU(t)},qy.SV=function(t,s){this instanceof self.GW?this.kH(t,s):this.SV(t,s)},qy.fCt=function(t,s){this instanceof self.GW?this.FH(t,""+s):this.fCt(t,""+s)},qy.dCt=function(t){this instanceof self.GW?this.jH(t):this.dCt(t)},qy.pCt=function(){this instanceof self.GW?this.LH():this.yV()},qy.mCt=function(){this instanceof self.GW?this.OH():this.MV()},qy.gCt=function(){return this instanceof self.GW?this.RH():this.gCt()},qy.yCt=function(t){this instanceof self.GW?this.MCt(0!==t):this.wCt(0!==t)},qy.SCt=function(){return this instanceof self.GW?this.bSt():this.TCt()},Xy.bCt=function(t,s,i){return Jy.compare(this.UJ().Knt(t),s,i)},Zy.bCt=function(t,s,i){return Jy.compare(Oy(this).Knt(t),s,i)},Xy.xCt=function(t){return!!this.UJ().Knt(t)},Zy.xCt=function(t){return!!Oy(this).Knt(t)},qy.vCt=function(t,s){const i=ky(this),e=i.AB(),h=e.EB();if(!h.length)return!1;const n=i.y0();let r=null,o=0;for(let e=0,a=h.length;e<a;++e){const a=h[e],u=n?a.IW().CTt(i.GTt()):0,l=a.Knt(u+s);(null===r||0===t&&l<o||1===t&&l>o)&&(o=l,r=a)}return e.Edt(r),!0},qy.CCt=function(t){const s=ky(this);return s.Rj().Tmt().Ybt()?Vy(s,t):Yy(s,t)},qy.SJ=function(t){const s=new Set(Jy.Rr(t)),i=Ny(this).qW();return s.isSubsetOf(i)},qy.GCt=function(){return Ny(this).ICt()},qy._Ct=function(){return Ny(this).qW().size},qy.ECt=function(t){return Ny(this).ACt(t)},qy.DCt=function(t,s){const i=Jy.Rr(s);if(0===i.length)return;const e=Ny(this),h=new Set(e.qW());if(0===t)for(const t of i)h.add(t);else if(1===t)for(const t of i)h.delete(t);e.ZW(h)},qy.NCt=function(){Ky.LW(Ny(this))},qy.LCt=function(){return!0},qy.OCt=function(){return!0},Xy.RCt=function(t,s){this.UJ().$nt(t,s)},Zy.RCt=function(t,s){Oy(this).$nt(t,s)},Xy.kCt=function(t,s){const i=this.UJ(),e=i.Knt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.$nt(t,e+s)},Zy.kCt=function(t,s){const i=Oy(this),e=i.Knt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.$nt(t,e+s)},Xy.PCt=function(t,s){const i=this.UJ(),e=i.Knt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.$nt(t,e-s))},Zy.PCt=function(t,s){const i=Oy(this),e=i.Knt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.$nt(t,e-s))},Xy.FCt=function(t,s){this.UJ().$nt(t,s?1:0)},Zy.FCt=function(t,s){Oy(this).$nt(t,s?1:0)},Xy.jCt=function(t){const s=this.UJ();s.$nt(t,0===s.Knt(t)?1:0)},Zy.jCt=function(t){const s=Oy(this);s.$nt(t,0===s.Knt(t)?1:0)},qy.zCt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=Ny(this),e="state";Ky.BCt(),i.d6(e),i.hx(s,e),Ky.UCt(e,{WCt:!0})},qy.QCt=function(){return JSON.stringify(Ny(this).ix("state"))},qy.YCt=function(){return Ny(this).IW()._c()},qy.VCt=function(){const t=Ky.Smt().rpt();let s=t.NB();for(const i of Ky.Zvt(t))++s;return s},qy.JCt=function(){return Ky.Smt().rpt().AB().EB().length},Xy.UW=function(){return this.UJ().UW()},Zy.UW=function(){return Oy(this).UW()},Xy.zW=function(){return this.UJ().zW()},Zy.zW=function(){return Oy(this).zW()},qy.Vgt=function(t){const s=Ny(this);return t.toLowerCase()===Ky.FP().Xgt(s)},qy.$W=function(t){const s=Ny(this);Ky.FP().$W(s,t)},qy.HCt=function(t){const s=ky(this);return Ky.FP().bgt().qCt(s.AB().EB(),t),!0},qy.XCt=function(){return Ny(this).QW()},Jy.ZCt=function(t,s,i){const e=t[1],h=t[3],n=t[4],r=t[5],o=t[6],a=t[7],u=t[8],l=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.Gj,M=s.nnt,w=s.rnt,S=Object.assign({},qy,i>=2?Zy:Xy);h&&(y.qxt=S.qxt,y.Xxt=S.Xxt,y.Zxt=S.Zxt,y.Kxt=S.Kxt,y.$xt=S.$xt,M.Qb=S.Qb,M.Jb=S.Jb,M.tvt=S.tvt,M.ivt=S.ivt,M.hvt=S.hvt,M.ovt=S.ovt,w.KCt=S.Wb,w.$Ct=S.Vb,w.rF=S.oF),n&&(y.avt=S.avt,y.uvt=S.uvt,M.Hg=S.Hg,M.Ug=S.Ug,M.xA=S.xA,w.tGt=S.Bg,w.sGt=S.Zg,w.iGt=S.lvt,w.eGt=S.cvt,w.hGt=S.fvt,w.nGt=S.dvt,w.rGt=S.pvt,w.oGt=S.mvt),r&&(y.aGt=S.gvt,y.uGt=S.yvt,y.Mvt=S.Mvt,M.qB=S.qB,M.wvt=S.wvt,M.Svt=S.Svt,M.Tvt=S.Tvt,M.bvt=S.bvt,M.xvt=S.xvt,w.lGt=S.XB),o&&(y.OU=S.OU,y.vvt=S.vvt,M.NU=S.NU,M.iL=S.iL,M.Gvt=S.Gvt,w.Opacity=S.tL,w.ColorValue=S.hL),a&&(y.Ivt=S.Ivt,y._vt=S._vt,y.Evt=S.Evt,M.Avt=S.Avt,M.Dvt=S.Dvt,M.Nvt=S.Nvt,M.Lvt=S.Lvt,M.qb=S.qb,w.Rvt=S.Rvt,w.kvt=S.kvt,w.Pvt=S.Pvt,w.Fvt=S.Fvt,w.jvt=S.jvt),u&&(y.zvt=S.zvt,M.Bvt=S.Bvt,M.Uvt=S.Uvt),d&&(y.qvt=S.qvt,y.LY=S.LY,y.h3=S.h3,y.Xvt=S.Xvt,y.$vt=S.$vt,y.tCt=S.tCt,y.sCt=S.sCt,M.AY=S.AY,M.DY=S.DY,M.hCt=S.hCt,w.nCt=S.nCt,w.rCt=S.rCt,w.oCt=S.oCt),p&&(M.aCt=S.aCt,M.hV=S.hV,w.uCt=S.uCt,w.lCt=S.lCt),l&&(y.OU=S.OU,M.NU=S.cCt,M.cGt=S.SV,M.fGt=S.fCt,M.dGt=S.dCt),c&&(y.pGt=S.gCt,M.mGt=S.pCt,M.gGt=S.mCt),f&&(y.Cl=S.SCt,M.yGt=S.yCt),m&&(y.Yvt=S.Yvt,y.Jvt=S.Jvt,y.Hvt=S.Hvt,s.MGt=Qy),e||(y.bCt=S.bCt,y.xCt=S.xCt,y.vCt=S.vCt,y.CCt=S.CCt,y.SJ=S.SJ,M.RCt=S.RCt,M.kCt=S.kCt,M.PCt=S.PCt,M.FCt=S.FCt,M.jCt=S.jCt,M.DCt=S.DCt,y.LCt=S.LCt,y.OCt=S.OCt,M.NCt=S.NCt,M.zCt||(M.zCt=S.zCt),w.QCt||(w.QCt=S.QCt),w.VCt=S.VCt,w.JCt=S.JCt,w.wGt=S.UW,w.SGt=S.zW,w.YCt=S.YCt,w.GCt=S.GCt,w._Ct=S._Ct,w.ECt=S.ECt,y.Vgt=S.Vgt,M.$W=S.$W,M.HCt=S.HCt),g&&(w.XCt=S.XCt)}}{const lM=self.Gs;lM.xgt=class extends lM.Wh{constructor(t){super(),this.Ndt=t,this.Yc="",this.CR=-1,this.TGt="",this.bGt=!1,this.xGt=null,this.Bdt=0,this.mMt=[],this.Jdt=null,this.vGt=new Map,this.CGt=null,this.GGt=null,this.IGt=-1,this.TSt=null,this._Gt=null,this.EGt=!1}Vh(){this.Yc="",this.CR=-1,this.TGt="",this.xGt=null,this.GGt=null,this.TSt=null,this._Gt=null,this.IGt=-1,lM.wr(this.mMt),this.Jdt&&(this.Jdt.clear(),this.Jdt=null);for(const t of this.vGt.values())t.Vh();this.vGt.clear(),this.CGt=null}Ub(){const t=this.Ndt,s=t.Rj().g0(),i=t.Smt();this.xGt=i.QP(),this.Bdt=i.$dt()+1;const e=t.pyt(this.xGt);e&&(this.GGt=e,this.TSt=e.FSt(),this._Gt=e.PSt().map((t=>t.Det())),e.Bwt()&&(this.IGt=e.USt()));for(const t of s){const s=t.AB();s.ddt()&&!this.xGt.cwt(t)||(this.mMt.push(t),this.vGt.set(t,lM.Yh(lM.AGt,s)))}const h=t.YP();this.Jdt=h.size>0?h:null}DGt(t){this.Yc="timer",this.Ub(),this.CR=this.Ndt.Rj().cF()+t}NGt(t){this.Yc="walltimer",this.Ub(),this.CR=this.Ndt.Rj().dF()+t}LGt(t){this.Yc="signal",this.Ub(),this.TGt=t.toLowerCase()}qCt(t,s){this.Yc="instance-signals",this.Ub(),this.TGt=s.toLowerCase(),this.CGt=new Set(t)}OGt(t){this.Yc="promise",this.Ub(),t.then((()=>this.Ugt())).catch((t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.Ugt()}))}RGt(){return"timer"===this.Yc}kGt(){return"walltimer"===this.Yc}zgt(){return"signal"===this.Yc}Hgt(){return"instance-signals"===this.Yc}lyt(){return"promise"===this.Yc}Bgt(){return this.TGt}PGt(){return this.bGt}Ugt(){this.bGt=!0}qgt(t){this.CGt.delete(t),0===this.CGt.size&&this.Ugt()}Ggt(){return this.RGt()?this.CR<=this.Ndt.Rj().cF():this.kGt()?this.CR<=this.Ndt.Rj().dF():this.PGt()}FGt(t){t.Hdt(this.xGt,this.Bdt);for(const[t,s]of this.vGt.entries()){const i=t.AB();s.Hdt(i)}this.Jdt&&t.fpt([...this.Jdt]);const s=this.GGt;s&&(s.Kwt(this.TSt),s.PSt().map(((t,s)=>t.dht(this._Gt[s]))),s.Bwt()&&s.WSt(this.IGt))}Igt(t){this.FGt(t),this.xGt.Uwt(t),this.GGt&&this.GGt.Bwt()&&this.GGt.aSt(this.IGt),this.Ndt.Mgt(this.mMt),this.EGt=!0}async Dgt(t){this.FGt(t);for(const s of this.xGt.Wwt(t))await this.Ndt.Rj().sgt(s);this.GGt&&this.GGt.Bwt()&&this.GGt.aSt(this.IGt),this.Ndt.Mgt(this.mMt),this.EGt=!0}_gt(){return this.EGt}adt(t){for(const s of this.vGt.values())s.adt(t);if("instance-signals"===this.Yc){for(const s of t)this.CGt.delete(s);0===this.CGt.size&&this.Ugt()}}t3(){const t={},s={wt:this.Yc,t:this.CR,st:this.TGt,s:this.bGt,ev:this.xGt.C0(),sm:this.mMt.map((t=>t.C0())),dsm:this.Jdt?[...this.Jdt].map((t=>t.C0())):null,sols:t};this.xGt.Ewt(this.Bdt)&&(s.act=this.xGt.vmt(this.Bdt).C0());for(const[s,i]of this.vGt)t[s.C0().toString()]=i.t3();return"instance-signals"===this.Yc&&(s.pi=[...this.CGt].map((t=>t.zW()))),s}static cyt(t,s){const i=t.Rj(),e=t.Lmt(s.ev);if(!e)return null;let h=0;if(s.hasOwnProperty("act")){const i=t.Rmt(s.act);if(!i)return null;h=i.eP()}const n=lM.Yh(lM.xgt,t);n.CR=s.t,s.hasOwnProperty("wt")?n.Yc=s.wt:n.Yc=-1===n.CR?"signal":"timer",n.TGt=s.st,n.bGt=s.s,n.xGt=e,n.Bdt=h;for(const t of s.sm){const s=i.cq(t);s&&n.mMt.push(s)}if(Array.isArray(s.dsm))for(const t of s.dsm){const s=i.cq(t);s&&(n.Jdt||(n.Jdt=new Set),n.Jdt.add(s))}for(const[e,h]of Object.entries(s.sols)){const s=parseInt(e,10),r=i.cq(s);if(!r)continue;const o=lM.Yh(lM.AGt,null);o.s3(t,h),n.vGt.set(r,o)}if("instance-signals"===n.Yc){n.CGt=new Set;for(const t of s.pi){const s=i.ij(t);s&&n.CGt.add(s)}}return n}}}{const cM=self.Gs;cM.AGt=class extends cM.Wh{constructor(t){super(),this.sdt=null,this.jGt=!0,this.dK=[],t&&(this.sdt=t.IW(),this.jGt=t.ddt(),cM.vr(this.dK,t.Tdt()))}Vh(){this.sdt=null,cM.wr(this.dK)}Hdt(t){t.Sdt(this.jGt),cM.vr(t.Tdt(),this.dK)}adt(t){cM.Er(this.dK,t)}t3(){return{sa:this.jGt,insts:this.dK.map((t=>t.zW()))}}s3(t,s){const i=t.Rj();this.jGt=!!s.sa,cM.wr(this.dK);for(const t of s.insts){const s=i.ij(t);s&&this.dK.push(s)}}}}{let fM=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};0;const dM=self.Gs;dM.zGt=class extends dM.Wh{constructor(t){super(),this.Pc=t.runtime,this.jc=t.id,this.qh=t.name??"",this.BGt=!!t.Qz,this.UGt=!!t.WGt,this.QGt=!!t.Zz,this.YGt=!!t.VGt,this.JGt=!!t.$z,this.HGt=!!t.qGt,this.XGt=!!t.nB,this.ZGt=!!t.qz,this.KGt=!!t.sB,this.$Gt=t.tIt,this.sIt=null,this.iIt=new Map,this.eIt=new Map,this.hIt=new Map,this.nIt=new Map,this.rIt=t.oIt,this.aIt=null}Vh(){this.Pc=null}Rj(){return this.Pc}Wz(){return this.jc}_c(){return this.qh}uIt(){}Jgt(){return this.Qbt()>=2?this.aIt.constructor:this.constructor}Qbt(){return this.$Gt}lIt(t=!1){let s=this.rIt;return t&&"function"!=typeof s&&this.Qbt()>=2&&(s=globalThis.qJ),s}Yz(){return this.BGt}Jz(){return this.UGt}Xz(){return this.ZGt}iB(){return this.KGt}Kz(){return this.QGt}gb(){return this.YGt}tB(){return this.JGt}hB(){return this.HGt}rB(){return this.XGt}dTt(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.iIt.get(t);return i||(i=t.bind(s),this.iIt.set(t,i),i)}zbt(t,s,i){if(!s)throw new Error("missing 'this' binding");const e=fM(this.eIt,t);let h=e.get(i);return h||(h=t.bind(s,i),e.set(i,h),h)}Bbt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");const h=fM(this.hIt,t),n=fM(h,i);let r=n.get(e);return r||(r=t.bind(s,i,e),n.set(e,r),r)}Ubt(t,s,i,e,h){if(!s)throw new Error("missing 'this' binding");const n=fM(this.nIt,t),r=fM(n,i),o=fM(r,e);let a=o.get(h);return a||(a=t.bind(s,i,e,h),o.set(h,a),a)}cIt(t){if(!this.Yz())throw new Error("must be single-global plugin");this.sIt=t}dB(){if(!this.Yz())throw new Error("must be single-global plugin");return this.sIt}mB(){if(!this.Yz())throw new Error("must be single-global plugin");return this.sIt.mB()}fIt(){const t=this.Qbt();dM.Bz.dIt(this,t);const s=this.lIt(!0);if(s){if(this.aIt=new s,!(this.aIt instanceof self.jz))throw new TypeError("plugin class must derive from IPlugin")}else this.aIt=new self.jz;dM.Bz.pIt(t)}lB(){return this.aIt}}}{const pM=self.Gs;pM.mIt=class extends pM.zGt{constructor(t,s){super(t),this.gIt=s,this.yIt=0,this.MIt=new Map,this.wIt("elem-focused",(t=>t.SIt())),this.wIt("elem-blurred",(t=>{t&&t.TIt()}))}Vh(){super.Vh()}bIt(t){const s=this.yIt++;return this.MIt.set(s,t),s}xIt(t){this.MIt.delete(t)}wIt(t,s){this.Pc.fQ(this.gIt,t,(t=>{const i=this.MIt.get(t.elementId);s(i,t)}))}}}{const mM=self.Gs;mM.vIt=class extends mM.Wh{constructor(t){super(),this.sdt=t,this.Pc=t.Rj(),this.CIt=t.MB()}Vh(){this.sdt=null,this.Pc=null,this.CIt=null}IW(){return this.sdt}Rj(){return this.Pc}MB(){return this.CIt}sJ(){return this.sdt.sJ()}uIt(){}ixt(t){}Uxt(t){}Wxt(t){}m4(t){}T4(){}M4(){}W4(t){}GIt(){}lIt(){return null}IIt(t,s,i){const e=mM.Yh(mM.Event,t,s);e._It=this,i&&Object.assign(e,i),this.IW().x5(e)}}}{const gM=self.Gs;gM.EIt=class extends gM.Wh{constructor(t,s){super(),this.fi=t,this.gIt=s,this.AIt=null,this.Pc=t.Rj(),this.sdt=this.fi.IW(),this.DIt=this.sdt.Bxt(),this.i6=null,this.h6=null,this.TQ=!1,this.xQ=!1,this.qf=null,this.HE=!1}Vh(){this.HE=!0,this.NIt(),this.LIt(),this.i6=null,this.h6=null,this.qf&&(this.qf.Vh(),this.qf=null),this.fi=null,this.Pc=null,this.sdt=null,this.DIt=null}Jh(){return this.HE}UJ(){return this.fi}Rj(){return this.Pc}IW(){return this.sdt}MB(){return this.DIt.MB()}Bxt(){return this.DIt}OIt(){return this.fi.ej()}uQ(t){return this.Pc.uQ(t,this.fi,null)}RIt(t){return this.Pc.RIt(t,this.fi,null)}vj(t){return this.Pc.vj(t,this.fi,null)}kIt(t,s){return this.Pc.kIt(t,this.fi,s)}PIt(t,s){return this.Pc.PIt(t,this.fi,s)}FIt(t){return this.Pc.FIt(t)}jIt(t,s){this.Pc.fQ(this.gIt,t,s)}zIt(t){for(const[s,i]of t)this.jIt(s,i)}BIt(t,s){this.Pc.zc(this.gIt,t,s)}UIt(t,s){return this.Pc.gj(this.gIt,t,s)}WIt(t,s){if(!this.Pc.bP())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.gIt,handler:t,data:s,responseId:null});this.BIt(t,s)}QIt(t){if(!t)throw new Error("cannot set empty component id");this.AIt=t}YIt(){if(!this.AIt)throw new Error("wrapper extension component id not set");return this.Pc._Q(this.AIt)}AQ(t,s){if(!this.AIt)throw new Error("wrapper extension component id not set");this.Pc.AQ(this.AIt,t,s)}VIt(t){for(const[s,i]of t)this.AQ(s,i)}sq(t,s){if(!this.AIt)throw new Error("wrapper extension component id not set");this.Pc.sq(this.AIt,t,s)}iq(t,s){if(!this.AIt)throw new Error("wrapper extension component id not set");return this.Pc.iq(this.AIt,t,s)}f8(){}JIt(){}HIt(){if(!this.TQ){if(!this.i6)if(this.Pc.yQ()){const t=globalThis.MQ,s=this.MB();this.i6=()=>{const i=performance.now();this.f8(),t.SQ(s,performance.now()-i)}}else this.i6=()=>this.f8();this.Pc.yf().addEventListener("tick",this.i6),this.TQ=!0}}NIt(){this.TQ&&(this.Pc.yf().removeEventListener("tick",this.i6),this.TQ=!1)}qIt(){return this.TQ}XIt(){if(!this.xQ){if(!this.h6)if(this.Pc.yQ()){const t=globalThis.MQ,s=this.MB();this.h6=()=>{const i=performance.now();this.JIt(),t.SQ(s,performance.now()-i)}}else this.h6=()=>this.JIt();this.Pc.yf().addEventListener("tick2",this.h6),this.xQ=!0}}LIt(){this.xQ&&(this.Pc.yf().removeEventListener("tick2",this.h6),this.xQ=!1)}ZIt(){return this.xQ}KIt(){return[]}ix(){return null}hx(t){}Wnt(t){}qnt(t,s){}Brt(t,s,i){if(0===s)return;const e=this.Wnt(t);if("number"!=typeof e)throw new Error("expected number");this.qnt(t,e+s,i)}$It(t,s,i,e){}t_t(t,...s){t.call(this,...s)}s_t(t,...s){return t.call(this,...s)}lIt(){return null}IIt(t,s,i){if(!this.fi.i_t())return;const e=this.OIt(),h=gM.Yh(gM.Event,t,s);h.IV=e,i&&Object.assign(h,i),e.dispatchEvent(h)}gb(){return!1}}}{const yM=self.Gs;yM.e_t=class extends yM.EIt{constructor(t,s){super(t,s),this.Dst=t.oj(),this.h_t=null,this.n_t=null}Vh(){if(this.h_t){const t=this.Pc.yf();t.removeEventListener("renderercontextlost",this.h_t),t.removeEventListener("renderercontextrestored",this.n_t),this.h_t=null,this.n_t=null}this.Dst=null,super.Vh()}r_t(){this.o_t()}a_t(){}u_t(){}o_t(){if(this.h_t)return;this.h_t=()=>this.nK(),this.n_t=()=>this.l_t();const t=this.Pc.yf();t.addEventListener("renderercontextlost",this.h_t),t.addEventListener("renderercontextrestored",this.n_t)}nK(){this.a_t()}l_t(){this.u_t()}oj(){return this.Dst}Sit(){return!1}wit(){if(!this.Sit())throw new Error("original size not known");const t=this.c_t();if(t)return t.Bg()}bit(){if(!this.Sit())throw new Error("original size not known");const t=this.c_t();if(t)return t.Zg()}c_t(){return null}f_t(){const t=this.c_t();if(t){const s=t.lC();if(s)return[s.Bg(),s.Zg()]}return[100,100]}d_t(){const t=this.c_t();return t?t.tD():null}p_t(){const t=this.c_t();return t?t.m_t():null}g_t(){const t=this.c_t();return!!t&&t.y_t()}evt(t){const s=this.fi.oj();return[s.Wb(),s.Vb(),s.ZQ()]}GIt(t,s,i){}M_t(t,s){}A2(){return!0}}}{const MM=self.Gs,wM=MM.Yh(MM.Rect);MM.w_t=class extends MM.e_t{constructor(t,s){super(t,s),this.S_t=this.MB().bIt(this),this.T_t=!0,this.b_t=!1,this.x_t=!1,this.v_t=-.2,this.C_t=MM.Yh(MM.Rect,0,0,-1,-1);const i=this.Pc.bj();this.G_t=i.yH(),this.I_t=i.MH(),this.__t=-1,this.E_t=-1,this.A_t=!1,this.HIt()}Vh(){this.MB().xIt(this.S_t),this.D_t("destroy"),this.S_t=-1,super.Vh()}mV(){if(this.Pc.bP())throw new Error("not valid in worker mode");return this.N_t("get-element")}D_t(t,s){s||(s={}),s.elementId=this.S_t,this.BIt(t,s)}N_t(t,s){return s||(s={}),s.elementId=this.S_t,this.WIt(t,s)}L_t(t,s){return s||(s={}),s.elementId=this.S_t,this.UIt(t,s)}O_t(t){t||(t={});const s=this.oj();t.elementId=this.S_t,t.isVisible=s.OU(),t.htmlIndex=s.aj().vH(),t.htmlZIndex=s.CH(),Object.assign(t,this.R_t()),this.T_t=!!t.isVisible,this.WIt("create",t),this.k_t(!0)}cCt(t){t=!!t,this.T_t!==t&&(this.T_t=t,this.D_t("set-visible",{isVisible:t}))}f8(){this.k_t(!1)}P_t(){const t=this.Pc.bj().AH();return"Android"===MM.Zs.Ks&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}k_t(t){if(this.UJ().DH())return;const s=this.oj(),i=s.aj(),e=s.tY();let[h,n]=i.MW(e.Za(),e.Ka()),[r,o]=i.MW(e.$a(),e.tu());const a=this.Pc.bj(),u=a.Ez(),l=a.Dz();if(!s.OU()||!i.OU())return void this.cCt(!1);if(!this.P_t()&&(r<=0||o<=0||h>=u||n>=l))return void this.cCt(!1);wM.set(h,n,r,o);const c=a.yH(),f=a.MH(),d=i.vH(),p=s.CH();if(!t&&wM.equals(this.C_t)&&this.G_t===c&&this.I_t===f&&this.__t===d&&this.E_t===p)return void this.cCt(!0);this.C_t.m(wM),this.G_t=c,this.I_t=f,this.__t=d,this.E_t=p,this.cCt(!0);let m=null;this.x_t&&(m=i.NH()+this.v_t),this.D_t("update-position",{left:Math.round(this.C_t.Za()),top:Math.round(this.C_t.Ka()),width:Math.round(this.C_t.width()),height:Math.round(this.C_t.height()),htmlIndex:d,htmlZIndex:p,fontSize:m})}yV(){this.N_t("focus",{focus:!0})}MV(){this.N_t("focus",{focus:!1})}SIt(){this.b_t=!0}TIt(){this.b_t=!1}gCt(){return this.b_t}SV(t,s){this.D_t("set-css-style",{prop:MM.So(t),val:s})}fCt(t,s){this.D_t("set-attribute",{name:t,val:s})}dCt(t){this.D_t("remove-attribute",{name:t})}F_t(){this.A_t||(this.A_t=!0,Promise.resolve().then((()=>{this.A_t=!1,this.D_t("update-state",this.R_t())})))}R_t(){}j_t(){return this.S_t}}}{const SM=self.Gs,TM=self.AV;SM.z_t=class extends SM.Wh{constructor(t){super(),this.Pc=t.runtime,this.jc=t.id,this.qh=t.name??"",this.B_t=SM.Yh(SM.Ol),this.U_t=SM.Yh(SM.Ol),this.$Gt=t.tIt,this.rIt=t.oIt,this.W_t=null}Vh(){this.U_t.Vh(),this.B_t.Vh(),this.Pc=null}Rj(){return this.Pc}Wz(){return this.jc}_c(){return this.qh}uIt(){}Qbt(){return this.$Gt}lIt(t=!1){let s=this.rIt;return t&&"function"!=typeof s&&this.Qbt()>=2&&(s=globalThis.UH),s}Q_t(t){this.B_t.Fl(t)}F6(){return this.B_t.jl()}h0(t){this.U_t.Fl(t)}o0(t){this.U_t.Al(t)}EB(){return this.U_t.jl()}fIt(){const t=this.Qbt();SM.Bz.dIt(this,t);const s=this.lIt(!0);if(s){if(this.W_t=new s,!(this.W_t instanceof TM))throw new TypeError("behavior class must derive from IBehavior")}else this.W_t=new TM;SM.Bz.pIt(t)}bV(){return this.W_t}}}{const bM=self.Gs;bM.Y_t=class extends bM.Wh{constructor(t){super(),this.Pc=t.Rj(),this._Tt=t,this.sdt=t.IW(),this.V_t=t.xV(),this.V_t.Q_t(this.sdt)}Vh(){this.Pc=null,this._Tt=null,this.sdt=null,this.V_t=null}uIt(){}GV(){return this._Tt}IW(){return this.sdt}Rj(){return this.Pc}xV(){return this.V_t}}}{const xM=self.Gs;xM.J_t=class extends xM.Wh{constructor(t,s){super(),this.H_t=t,this.gIt=s,this.fi=t._V(),this.Pc=t.Rj(),this._Tt=t.GV(),this.DIt=this._Tt.Bxt(),this.TQ=!1,this.xQ=!1,this.$H=!1,this.qf=null}Vh(){this.NIt(),this.LIt(),this.q_t(),this.qf&&(this.qf.Vh(),this.qf=null),this.H_t=null,this.fi=null,this.Pc=null,this._Tt=null,this.DIt=null}xV(){return this._Tt.xV()}X_t(){return this.H_t}_V(){return this.fi}IW(){return this.fi.IW()}oj(){return this.fi.oj()}Rj(){return this.Pc}GV(){return this._Tt}Bxt(){return this.DIt}OIt(){return this.H_t.OIt()}uQ(t){return this.Pc.uQ(t,this.fi,this._Tt)}RIt(t){return this.Pc.RIt(t,this.fi,this._Tt)}vj(t){return this.Pc.vj(t,this.fi,this._Tt)}Z_t(){}f8(){}JIt(){}K_t(){}HIt(){this.TQ||(this.Pc.JH(this),this.TQ=!0)}NIt(){this.TQ&&(this.Pc.HH(this),this.TQ=!1)}qIt(){return this.TQ}XIt(){this.xQ||(this.Pc.qH(this),this.xQ=!0)}LIt(){this.xQ&&(this.Pc.XH(this),this.xQ=!1)}ZIt(){return this.xQ}$_t(){this.$H||(this.Pc.ZH(this),this.$H=!0)}q_t(){this.$H&&(this.Pc.KH(this),this.$H=!1)}tEt(){return this.$H}KIt(){return[]}jIt(t,s){this.Pc.fQ(this.gIt,t,s)}sEt(t,s){}ix(){return null}hx(t){}Wnt(t){}qnt(t,s){}Brt(t,s){if(0===s)return;const i=this.Wnt(t);if("number"!=typeof i)throw new Error("expected number");this.qnt(t,i+s)}$It(t,s,i,e){}t_t(t,...s){t.call(this,...s)}s_t(t,...s){return t.call(this,...s)}lIt(){return null}IIt(t,s,i){if(!this.H_t.i_t())return;const e=this.OIt(),h=xM.Yh(xM.Event,t,s);h.iEt=e,h.IV=e.IV,i&&Object.assign(h,i),e.dispatchEvent(h)}}}{let vM=function(t){if(t!==GM)throw new Error("invalid internal API token")};0;const CM=self.Gs;CM._j={},CM.tut={};const GM=CM.Is();let IM=[],_M=[],EM=[],AM=null,DM=null,NM=null,LM=null;const OM=new Map,RM=new Map;CM.Bz=class extends CM.Wh{constructor(t,s){super(),this.Pc=t,this.eEt=[],this.uTt=null,this.hEt=[],this.nEt=new Map,this.rEt=null,this.oEt=null,this.aEt=new Set(s)}uEt(t){const s=t[19],i=this.Pc.fSt(t[0]);if(!i)throw new Error("missing plugin");CM.ZCt(t,i,s);const e=s>=2?CM.zGt:i,h=CM.Yh(e,{runtime:this.Pc,Qz:t[1],WGt:t[2],Zz:t[5],$z:t[8],VGt:t[9],qGt:t[13],nB:t[14],qz:t[17],sB:t[18],tIt:s,id:t[20],name:t[21],oIt:s>=2?i:null});h.uIt(),this.eEt.push(h),OM.set(i,h)}lEt(){this.uTt=CM.Yh(CM._j.Ij,{runtime:this.Pc,Qz:!0}),this.uTt.uIt()}cEt(t){const s=t[1],i=t[2],e=t[3],h=this.Pc.fSt(t[0]);if(!h)throw new Error("missing behavior");this.nEt.set(h,(()=>{const t=s>=2?CM.z_t:h,n=CM.Yh(t,{runtime:this.Pc,id:i,name:e,tIt:s,oIt:s>=2?h:null});n.uIt(),this.hEt.push(n),RM.set(h,n),!this.rEt&&CM.tut.fEt&&n instanceof CM.tut.fEt?this.rEt=n:!this.oEt&&CM.tut.dEt&&n instanceof CM.tut.dEt&&(this.oEt=n),n.fIt()}))}pEt(t){const s=this.nEt.get(t);s&&(s(),this.nEt.delete(t))}static dIt(t,s=1){if(CM.Bz.dIt!==AM)throw new Error("invalid method");1===s&&IM.push(t),_M.push(t)}static pIt(t=1){if(CM.Bz.pIt!==DM)throw new Error("invalid method");1===t&&IM.pop(),_M.pop()}static DW(){if(CM.Bz.DW!==NM)throw new Error("invalid method");if(0===IM.length)throw new Error("no init object set");return IM.at(-1)}static zz(t){if(CM.Bz.zz!==LM)throw new Error("invalid method");if(vM(t),0===_M.length)throw new Error("no init object set");return _M.at(-1)}static mEt(t){EM.push(t)}static gEt(){EM.pop()}static oQ(){if(0===EM.length)throw new Error("no init properties set");return EM.at(-1)}yEt(){for(const t of this.eEt)t.fIt()}static uB(t){return OM.get(t)||null}static DV(t){return RM.get(t)||null}NZ(){return this.uTt}MEt(){return this.rEt}wEt(){return this.oEt}_Q(t){return this.aEt.has(t)}},AM=CM.Bz.dIt,DM=CM.Bz.pIt,NM=CM.Bz.DW,LM=CM.Bz.zz}{const kM=self.Gs,PM=new Set;kM.SEt=class extends kM.Wh{constructor(){super(),this.TEt=0,this.HZ="",this.qZ=0,this.bEt=0,this.xEt=0,this._y=0,this.Ey=0,this.vEt=!1,this.CEt=!1,this.GEt=null,this.IEt="",this.UE=kM.Yh(kM.Rect),this._Et=kM.Yh(kM.Iu),this.EEt="",this.AEt=new self.Lj(this),PM.add(this)}Vh(){this.YE(),this.GEt&&0===this.GEt.aK()&&this.GEt.Vh(),this.GEt=null,PM.delete(this),this.DEt()}static nK(){for(const t of PM)t.IEt="",t.UE.set(0,0,0,0),t._Et.Hu(t.UE)}NEt(t){this.HZ=t[0],this.qZ=t[1],this.bEt=t[2],this.xEt=t[3],this._y=t[4],this.Ey=t[5],this.vEt=t[6],this.CEt=!0}LEt(t,s){if(this.GEt)throw new Error("already loaded asset");this.HZ=s;const i={};return kM.Xr(s)&&(i.bZ="remote"),this.Oj(t,i),this.GEt.CZ()}OEt(t,s){if(this.GEt)throw new Error("already loaded asset");this.HZ="",this.qZ=s.size,this.GEt=kM.Yh(kM.xZ,t.aP(),{blob:s,size:this.qZ,bZ:"local"})}REt(t){if(t===this)throw new Error("cannot replace with self");this.TEt++,this.YE(),this.HZ=t.HZ,this.qZ=t.qZ,this.bEt=t.bEt,this.xEt=t.xEt,this._y=t._y,this.Ey=t.Ey,this.vEt=t.vEt,this.CEt=t.CEt,this.GEt=t.GEt,this.IEt=t.IEt,this.UE=t.UE,this._Et=t._Et,this.DEt()}vZ(){return this.HZ}Nl(){return this.qZ}kEt(){return this.bEt}PEt(){return this.xEt}y_t(){return this.vEt}Bg(){return this._y}Zg(){return this.Ey}FEt(){return this.GEt.Bg()}jEt(){return this.GEt.Zg()}Oj(t,s){if(this.GEt)throw new Error("already got asset");s=Object.assign({},s,{url:this.vZ(),size:this.Nl()}),this.GEt=t.TZ(s)}$Z(){return this.GEt&&this.GEt.$Z()}async hX(t,s){if(!this.GEt)throw new Error("no asset");if(this.IEt)throw new Error("already loaded texture");const i=this.TEt;this.IEt="loading";const e=await this.GEt.hX(t,s);if(this.TEt!==i)return null;if(!e)return this.IEt="",null;this.IEt="loaded",this.CEt||(this._y=e.Bg(),this.Ey=e.Zg(),this.CEt=!0);const h=this.vEt?this.Ey:this._y,n=this.vEt?this._y:this.Ey;return this.UE.set(this.bEt,this.xEt,this.bEt+h,this.xEt+n),this.UE.Mt(e.Bg(),e.Zg()),this._Et.Hu(this.UE),this.vEt&&this._Et.tl(),e}YE(){this.IEt&&(this.GEt&&this.GEt.YE(),this.IEt="",this.UE.set(0,0,0,0),this._Et.Hu(this.UE))}lC(){return this.GEt&&"loaded"===this.IEt?this.GEt.lC():null}tD(){return this.UE}m_t(){return this._Et}rH(){return this.AEt}zEt(){return this.GEt}async BEt(t){t||(t=await this.GEt.uK());const s=kM.lo(this._y,this.Ey),i=s.getContext("2d");return this.vEt?(i.rotate(Math.PI/-2),i.translate(-this.Ey,0),i.drawImage(t,this.bEt,this.xEt,this.Ey,this._y,0,0,this.Ey,this._y)):i.drawImage(t,this.bEt,this.xEt,this._y,this.Ey,0,0,this._y,this.Ey),s}async UEt(t){if(this.EEt)return this.EEt;const s=await this.BEt(t),i=await kM.co(s);return this.EEt=URL.createObjectURL(i),this.EEt}DEt(){this.EEt&&(URL.revokeObjectURL(this.EEt),this.EEt="")}}}{const FM=self.Gs;FM.WEt=class extends FM.Wh{constructor(t){super(),this.qh=t[0],this.QEt=t[1],this.wbt=!!t[2],this.Mot=t[3],this.YEt=t[4],this.VEt=!!t[5],this.JK=t[6],this.JEt=t[7].map((t=>FM.Yh(FM.HEt,t))),this.qEt=new self.PV(this)}static XEt(t,s){const i=FM.Yh(FM.WEt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.JEt.push(FM.HEt.XEt(t)),i}Vh(){for(const t of this.JEt)t.Vh();FM.wr(this.JEt)}ZEt(t){for(const s of this.JEt)s.sJ().Oj(t)}KEt(t,s){return Promise.all(this.JEt.map((i=>i.sJ().hX(t,s))))}$Et(){for(const t of this.JEt)t.sJ().YE()}_c(){return this.qh}C0(){return this.JK}JV(){return this.JEt.length}qV(){return this.JEt}tAt(t){if((t=Math.floor(t))<0||t>=this.JEt.length)throw new RangeError("invalid frame");return this.JEt[t]}sAt(t,s){(s=Math.floor(s))<0?this.JEt.unshift(t):s>=this.JEt.length?this.JEt.push(t):this.JEt.splice(s,0,t)}iAt(t){if((t=Math.floor(t))<0||t>=this.JEt.length)throw new RangeError("invalid frame");this.JEt[t].Vh(),this.JEt.splice(t,1)}eAt(t){for(let s=0,i=this.JEt.length;s<i;++s)if(FM.Ze(this.JEt[s].mJ(),t))return s;return-1}hAt(t){if("string"==typeof t){const s=this.eAt(t);if(-1===s)throw new Error(`cannot find animation frame with tag ${t}`);return s}return t}FV(){return this.QEt}zV(){return this.wbt}UV(){return this.Mot}QV(){return this.YEt}VV(){return this.VEt}nAt(){return this.qEt}}}{const jM=self.Gs,zM=(()=>{const t=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),s=new Uint8Array(t.length);for(let i=0,e=t.length;i<e;++i)s[i]=t.charCodeAt(i);return new Blob([s],{type:"image/png"})})();jM.HEt=class extends jM.Wh{constructor(t){super(),this.rAt=jM.Yh(jM.SEt),this.rAt.NEt(t),this.oAt=t[7],this.aAt=jM.Yh(jM.Ia,t[8],t[9]),this.uAt=t[10].map((t=>jM.Yh(jM.lAt,this,t))),this.cAt=new Map;for(const t of this.uAt)this.cAt.set(t._c().toLowerCase(),t);this.fAt=null;const s=t[11];s.length>=6&&(this.fAt=jM.Yh(jM.ol,s)),this._M=t[12]?t[12]:"",this.dAt=new self.tJ(this)}static XEt(t){const s=jM.Yh(jM.HEt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.rAt.OEt(t,zM),s}Vh(){this.fAt&&(this.fAt.Vh(),this.fAt=null),this.rAt.Vh(),this.rAt=null}sJ(){return this.rAt}iJ(){return this.oAt}WQ(){return this.aAt.Na()}VQ(){return this.aAt.Oa()}cJ(){return this.fAt}uJ(t){return this.cAt.get(t.toLowerCase())||null}aJ(t){return(t=Math.floor(t))<0||t>=this.uAt.length?null:this.uAt[t]}hJ(){return this.uAt.length}mJ(){return this._M}XV(){return this.dAt}}}{const BM=self.Gs;BM.lAt=class extends BM.Wh{constructor(t,s){super(),this.pAt=t,this.qh=s[0],this.mAt=BM.Yh(BM.Ia,s[1],s[2])}Vh(){}_c(){return this.qh}Wb(){return this.mAt.Na()}Vb(){return this.mAt.Oa()}gAt(){return this.mAt}}}{const UM=self.Gs,WM=self.MQ,QM=self.gB;self.assert;UM.hlt=class extends UM.Wh{constructor(t,s,i){super();const e=t.fSt(i[1]);this.Pc=t,this.CIt=UM.Bz.uB(e),this.DIt=null,this.yAt=e.Instance,this.IM=s,this.JK=i[11],this.qh=i[0],this.XSt=this.Pc.Amt(i[14]),this.MAt=!!i[9],this.wAt=!!i[2],this.SAt=!!i[10],this.TAt=i[3].map((s=>({NK:s[0],type:s[1],name:s[2],bAt:t.Amt(s[3])}))),this.xAt=i[4],this.vAt=i[5],this.UGt=this.CIt.Jz(),this.CAt=UM.Yh(UM.Event.yf),this._$=null;const[h,n]=t.cP().uz();if(this.GAt=UM.Yh(UM.IAt,h,n),this._At=!0,this.EAt=null,this.AAt=null,this.DAt=-1,this.NAt=null,this.LAt=null,this.OAt=null,this.RAt=null,this.kAt=null,this.PAt=!1,this.FAt=null,this.jAt=i[8].map((t=>UM.zAt.AC(this,t))),this.BAt=[],this.UAt=new Map,this.WAt=new Map,this.QAt=new Set,this.YAt=new Map,this.VAt=UM.Yh(UM.tdt,this),this.JAt=null,this.HAt=0,this.qAt=!1,this.FAt=null,this.rAt=null,this.XAt=null,this.ZAt=null,this.KAt=null,this.$At=0,this.vbt=new Map,this.Cbt=new Map,this.dK=[],this.tDt=new Map,this.sDt=!0,this.CIt.tB()&&(this._$=UM.Yh(UM.E$,this,i[12])),i[6]&&(this.rAt=UM.Yh(UM.SEt),this.rAt.NEt(i[6])),i[7]){this.XAt=i[7].map((t=>UM.Yh(UM.WEt,t))),this.ZAt=new Map,this.KAt=new Map;for(const t of this.XAt)this.ZAt.set(t._c().toLowerCase(),t),this.KAt.set(t.C0(),t)}this.wAt?(this.EAt=[],this.AAt=new Set,this.DAt=this.Pc.iDt()):(this.NAt=[],this.LAt=new Set,this.OAt=[],this.RAt=[],this.kAt=[]);const r=this.CIt.Qbt();if(r<2&&(this.DIt=UM.Yh(e.eDt,this,i[15]),!(this.DIt instanceof UM.vIt)))throw new Error("v1 sdk type must derive from SDKTypeBase");let o;if(this.hDt=null,this.nDt=null,this.j3=UM.Yh(UM.Event.yf),UM.Bz.dIt(this,r),r>=2?(o=e.eDt,o||(o=globalThis.eH)):o=this.DIt.lIt(),o){if(this.hDt=new o(r<2?this:null),r<2&&!(this.hDt instanceof QM))throw new TypeError("script interface class must derive from IObjectClass");if(r>=2&&!(this.hDt instanceof globalThis.eH))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.hDt=new QM;if(UM.Bz.pIt(r),i[13]){const t=i[13];if(t){const s=t[0],i=t[1],e=t[2];this.DIt.GIt(s,i,e)}}this.Pc.rDt()&&!this.wAt&&!this.SAt&&this.UGt||this.uIt(),this.CIt.Yz()&&(this.CIt.cIt(this),this.oDt(i)),this.aDt=null}static AC(t,s,i){return UM.Yh(UM.hlt,t,s,i)}Vh(){if(this.CAt.Vh(),this.CAt=null,this.rAt&&(this.rAt.Vh(),this.rAt=null),this.XAt){for(const t of this.XAt)t.Vh();UM.wr(this.XAt),this.ZAt.clear(),this.KAt.clear()}this.aDt=null,this.VAt.Vh(),this.VAt=null,this.vbt.clear(),this.Cbt.clear(),this.FAt=null,this.Pc=null}uDt(t){for(let s=1,i=t.length;s<i;++s){const i=this.Pc.J$(t[s]);this.EAt.push(i),this.AAt.add(i),i.NAt.push(this),i.LAt.add(this)}}lDt(t){this.PAt=!0,this.FAt=t}FW(){return this.PAt}c4(){return this.FAt}cDt(){let t=0;if(!this.wAt)for(const s of this.NAt)for(const i of s.fDt()){const s=i._c().toLowerCase();this.UAt.set(s,i),this.WAt.set(s,t),this.BAt.push(i),++t}for(const s of this.fDt()){const i=s._c().toLowerCase();this.UAt.set(i,s),this.WAt.set(i,t),this.BAt.push(s),++t}for(const t of this.BAt)this.QAt.add(t.xV().constructor);if(!this.wAt&&this.NAt.length){const t=this.Pc.dDt();UM.Tr(this.OAt,t,0),UM.Tr(this.RAt,t,0),UM.Tr(this.kAt,t,0);const s=[];let i=0,e=0,h=0;for(const t of this.NAt){const n=t.GTt();this.OAt[n]=i,i+=t.pDt(),this.RAt[n]=e,e+=t.mDt(),this.kAt[n]=h,h+=t.gDt();const r=t.WB();if(r&&this._$)for(const t of r.QB())s.push(t.yDt(this._$))}this._$&&this._$.MDt(s)}}oDt(t){const s=this.Pc.wDt(),i=UM.Yh(UM.Instance,{runtime:this.Pc,objectType:this,uid:s});i.SDt(t[16],[]),this.Pc.TDt(s,i),this.dK.push(i)}Bxt(){return this.DIt}bDt(){return this.SAt}yf(){return this.CAt}uIt(){this.wAt||(this.DIt?this.DIt.uIt():this.hDt.hH())}xDt(){return this.$At>0}async m4(t){this.wAt||(this.$At++,1===this.$At&&(this.DIt?await this.DIt.m4(t):await this.hDt.oH(this.Pc.bj().vDt())))}T4(){if(!this.wAt){if(this.$At--,this.$At<0)throw new Error("released textures too many times");0===this.$At&&(this.DIt?this.DIt.T4():this.hDt.aH(this.Pc.bj().vDt()))}}M4(){if(this.wAt)throw new Error("not applicable to family");this.DIt?this.DIt.M4():this.hDt.uH()}async W4(t){this.wAt||(this.DIt?await this.DIt.W4(t):await this.hDt.lH(this.Pc.bj().vDt()))}Rj(){return this.Pc}MB(){return this.CIt}CDt(){return this.yAt}_c(){return this.qh}Amt(){return this.XSt}eP(){return this.IM}C0(){return this.JK}y0(){return this.wAt}e0(){return this.MAt}Jz(){return this.UGt}GTt(){return this.DAt}fDt(){return this.jAt}mDt(){return this.xAt}GDt(t){return t&&this.QAt.has(t)}pDt(){return this.TAt.length}IDt(){return this.TAt.map((t=>t.NK))}_Dt(t){return this.TAt.findIndex((s=>s.NK===t))}eit(t){return this.TAt.findIndex((s=>s.name===t))}EDt(){return this.TAt.map((t=>t.name))}ADt(){return this.TAt.map((t=>t.bAt))}nit(t){if((t=Math.floor(t))<0||t>=this.TAt.length)throw new RangeError("invalid instance variable index");return this.TAt[t].type}hit(t){if((t=Math.floor(t))<0||t>=this.TAt.length)throw new RangeError("invalid instance variable index");return this.TAt[t].name}gDt(){return this.vAt}DDt(){return this.BAt}Pht(t){return this.UAt.get(t.toLowerCase())||null}oit(t){const s=this.WAt.get(t.toLowerCase());return void 0===s?-1:s}WB(){return this._$}tB(){return this.CIt.tB()}NDt(){return this._$&&this._$.LDt()}wgt(){return this.VAt}AB(){return this.VAt.AB()}sJ(){return this.rAt}X$(t){this.JAt=t}q$(){return this.JAt}Z$(t){this.HAt=t}ODt(){return this.HAt}RDt(){return this.XAt}kDt(){return this.XAt.length}Pmt(){return this.NAt}Jxt(t){return this.LAt.has(t)}qMt(){return this.EAt}M0(t){return this.AAt.has(t)}DTt(t){return this.RAt[t]}CTt(t){return this.OAt[t]}OSt(t){this.YAt.set(t.jSt().toLowerCase(),t)}RSt(t){return!!this.YSt(t)}YSt(t){const s=this.YAt.get(t.toLowerCase());return s&&s.Cl()?s:null}PDt(){return this.XAt}FDt(t){if(!this.XAt)throw new Error("no animations");return this.ZAt.get(t.toLowerCase())||null}jDt(t){if(!this.XAt)throw new Error("no animations");return this.KAt.get(t)||null}zDt(t){if(this.FDt(t))throw new Error(`animation name '${t}' already exists`);const s=UM.WEt.XEt(this.Rj(),t);return this.XAt.push(s),this.ZAt.set(s._c().toLowerCase(),s),this.KAt.set(s.C0(),s),s}BDt(t){const s=this.FDt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.XAt.length)throw new Error("cannot remove last animation");const i=this.XAt.indexOf(s);this.XAt.splice(i,1),this.ZAt.delete(s._c().toLowerCase()),this.KAt.delete(s.C0()),s.Vh()}UDt(){if(!this.XAt)throw new Error("no animations");return this.XAt[0]}WDt(){return this.UDt().tAt(0)}QDt(){if(this.XAt){const t=this.WDt().sJ();return[t.Bg(),t.Zg()]}return this.rAt?[this.rAt.Bg(),this.rAt.Zg()]:[100,100]}mB(){if(!this.CIt.Yz())throw new Error("not a single-global plugin");return this.dK[0]}EB(){return this.dK}*SB(){yield*this.dK}*_B(){yield*this.dK,yield*this.Pc.Zvt(this)}NB(){return this.dK.length}h0(t){this.dK.push(t)}YDt(){this.sDt=!0}Z4(){if(!this.sDt||this.wAt)return;const t=this.dK;let s=0;for(let i=t.length;s<i;++s)t[s].VDt(s);const i=this.Pc.JDt();for(const t of i)t.IW()===this&&t.VDt(s++);this.sDt=!1}HDt(t){const s=this.dK;if(t<s.length)return s[t];t-=s.length;const i=this.Pc.JDt();for(const s of i)if(s.IW()===this){if(0===t)return s;--t}return null}Ovt(t){if(t&&t.FW()&&t.IW()!==this)for(const s of t.jW())if(s.IW()===this)return s;const s=this.AB().EB();return s.length?s[0]:null}IB(t){const s=this.AB().EB();return s.length>0?s[t.UW()%s.length]:null}*eCt(t,s){const i=this.AB().EB(),e=i.length,h=s.AB(),n=s.AB().EB(),r=n.length;let o=t.UW();!s.y0()&&h.ddt()||(o=n.indexOf(t));const a=Math.ceil(e/r),u=e%r;let l=0,c=0;0===u||o<u?(l=o*a,c=a):(l=u*a+(o-u)*(a-1),c=a-1);for(let t=l,s=l+c;t<s;++t)yield i[t]}ixt(t){this.DIt?.ixt(t)}eSt(){if(!this.PAt||this.wAt)return;this.Z4();const t=this.AB(),s=t.Tdt(),i=t.ddt(),e=this.Pc.Smt(),h=e&&e.QP()&&e.QP().Adt();for(const e of this.FAt.q4()){if(e===this)continue;e.Z4();const n=e.AB();if(n.Sdt(i),!i){const i=n.Tdt();UM.wr(i);for(const t of s)i.push(e.HDt(t.UW()));if(h){const s=t.bdt(),i=n.bdt();UM.wr(i);for(const t of s)i.push(e.HDt(t.UW()))}}}}axt(t,s){for(const i of this.c4().q4()){const e=i.AB();t?UM.Mr(e.bdt(),s):UM.Mr(e.Tdt(),s)}}qDt(){return this.GAt}XDt(t){this._At=!!t}ZDt(){if(this._At&&this.UGt){for(const t of this.dK)t.oj().KDt();for(const t of this.Pc.JDt())t.IW()===this&&t.oj().KDt();this._At=!1}}$Dt(t,s,i){if(s){const i=this.tDt.get(s);i&&(i.delete(t),0===i.size&&this.tDt.delete(s))}if(i){let s=this.tDt.get(i);s||(s=new Set,this.tDt.set(i,s)),s.add(t)}}tNt(){if(this.y0()){const t=new Set;for(const s of this.EAt)for(const i of s.tNt())t.add(i);return t.values()}return this.tDt.keys()}Xbt(){return this.vbt||(this.vbt=new Map),this.vbt}Zbt(){return this.Cbt||(this.Cbt=new Map),this.Cbt}sNt(){return this.GDt(UM.tut.fEt)}iNt(){return this.GDt(UM.tut.dEt)}eNt(){return this.GDt(UM.tut.hNt)}s0(){return this.GDt(UM.tut.nNt)}t3(){const t={instances:this.dK.map((t=>t.ix()))};return this.vbt&&this.vbt.size&&(t.ex=UM.Mo(this.vbt)),t}s3(t,s){this.vbt&&(this.vbt.clear(),this.vbt=null);const i=t.ex;i&&(this.vbt=UM.wo(i));const e=this.dK,h=t.instances;for(let t=0,s=Math.min(e.length,h.length);t<s;++t)e[t].hx(h[t]);for(let t=h.length,s=e.length;t<s;++t)this.Pc.LW(e[t]);for(let t=e.length,i=h.length;t<i;++t){const i=h[t];let e=null;if(this.Jz()&&(e=this.Pc.jF().s4(i.w.l),!e))continue;const n=this.Pc.i0(this.JAt||this,e,!1,0,0,!0);n.hx(i),s&&s.add(n)}this.aDt=h,this.YDt()}rNt(){return this.aDt}oNt(){this.aDt=null}aNt(){for(let t=0,s=this.dK;t<s;++t)this.dK[t].aNt()}fB(){return this.hDt}OP(){return this.j3}uNt(){return this.nDt}LB(t){this.nDt=t}x5(t){const s=this.Pc,i=s.yQ()&&!s.FP().jB();i&&WM.v5(),this.j3.dispatchEvent(t),i&&WM.C5()}}}{const YM=self.Gs;YM.lNt=class extends YM.Wh{constructor(t,s){super(),this.Pc=t,this.cNt=s;for(const t of this.cNt)t.lDt(this)}Vh(){this.Pc=null}Rj(){return this.Pc}l4(){return this.cNt}q4(){return this.cNt}t5(){return this.cNt.some((t=>t.Jz()))}}}{const VM=self.Gs,JM=self.MQ,HM=(self.GW,VM.Bz),qM=[];let XM=0;const ZM=new WeakMap,KM=new WeakMap;VM.Instance=class extends VM.Wh{constructor(t){if(VM.Bz!==HM)throw new Error("invalid addon manager");super(),this.Pc=t.runtime,this.fNt=t.objectType,this.Dst=null,this.dNt=null,this.pNt=null,this.mNt=0,this.gNt=t.uid,this.yNt=XM++,this.fxt=0,this.MNt=null;const s=VM.Rr(t.tags);s.length>0&&(this.MNt=new Set(s)),this.wNt=qM,this.SNt=qM;const i=this.fNt.DDt();i.length>0&&(this.SNt=i.map(((t,s)=>VM.Yh(VM.TNt,{runtime:this.Pc,vV:t,IV:this,index:s})))),this.bNt=this.fNt.FW()?[]:null,this.xNt=-1,this.CAt=null;const e=this.MB();if(e.gb()&&(this.fxt|=4),e.Jz())if(this.Dst=VM.Yh(VM.vNt,this,t.PQ),t.CNt)this.Dst.GNt(t.CNt);else{this.Dst.INt();const[t,s]=this.fNt.QDt();this.Dst.xA(t,s),this.IW().NDt()&&this.Dst.kQ()._Nt()}t.ENt?this.ANt(t.ENt):this.DNt()}Vh(){if(this.pNt&&(this.pNt.NW(),this.pNt=null),this.SNt.length>0){for(const t of this.SNt)t.Vh();VM.wr(this.SNt)}this.dNt&&(this.dNt.Vh(),this.dNt=null);const t=ZM.get(this);t&&(t.clear(),ZM.delete(this));const s=KM.get(this);s&&(s.clear(),KM.delete(this)),this.bNt&&VM.wr(this.bNt),this.CAt&&(this.CAt.Vh(),this.CAt=null),this.MNt&&this.MNt.clear(),this.MNt=null,this.Pc=null,this.fNt=null,this.wNt.length>0&&VM.wr(this.wNt),this.Dst&&(this.Dst.Vh(),this.Dst=null)}ANt(t){t.length>0&&(this.wNt=[],VM.vr(this.wNt,t))}DNt(){const t=this.fNt.pDt();if(0===t)return;this.wNt=[];const s=[0,0,""];for(let i=0;i<t;++i)this.wNt.push(s[this.fNt.nit(i)])}SDt(t,s){if(this.dNt)throw new Error("already got sdk instance");for(let t=0,i=this.SNt.length;t<i;++t)this.SNt[t].SDt(s?s[t]:null);if(this.MB().Qbt()<2){if(this.dNt=VM.Yh(this.fNt.CDt(),this,t),!(this.dNt instanceof VM.EIt))throw new Error("sdk type must derive from SDKInstanceBase");!this.MB().Jz()&&this.fNt.uNt()&&this.ej()}else{const s=this.MB().lIt();this.NNt(s.Instance,t)}}gV(){return this.dNt??this.pNt}oj(){return this.Dst}Rj(){return this.Pc}mF(){return this.xNt}YW(){const t=this.xNt;return-1===t?this.Rj().mF():t}gF(t){((t=+t)<0||!isFinite(t))&&(t=0),this.xNt=t,this.IW().NDt()&&this.Pc.LNt(this,!0)}JW(){this.xNt=-1,this.IW().NDt()&&this.Pc.LNt(this,!1)}U2(){return this.Pc.ONt(this)}yf(){return this.CAt||(this.CAt=VM.Yh(VM.Event.yf)),this.CAt}Fx(t){this.dNt?this.dNt.Fx(t):this.pNt.mH(this.Pc.bj().vDt())}uIt(t){this.dNt.uIt(t)}RNt(){this.fxt|=2}kNt(){return!!(2&this.fxt)}PNt(){this.fxt|=1}DH(){return!!(1&this.fxt)}gb(){return!!(4&this.fxt)||this.dNt.gb()}FNt(){this.fxt|=32}N2(){return!!(32&this.fxt)}jNt(){return!!(8&this.fxt)}zNt(t){t?this.fxt|=8:this.fxt&=-9}BNt(){return!!(16&this.fxt)}UNt(t){t?this.fxt|=16:this.fxt&=-17}WNt(){return!!(64&this.fxt)}QNt(t){t?this.fxt|=64:this.fxt&=-65}YNt(t,s){t<<=16,s?this.fxt|=t:this.fxt&=~t}VNt(t){return!!(this.fxt&t<<16)}c_t(){return this.dNt.c_t()}f_t(){return this.dNt.f_t()}d_t(){return this.dNt.d_t()}p_t(){return this.dNt.p_t()}g_t(){return this.dNt.g_t()}evt(t){return this.dNt.evt(t)}IW(){return this.fNt}A2(){return this.dNt.A2()}Kvt(t){return t.y0()?t.M0(this.IW()):this.IW()===t}JNt(t,s,i){const e=(s,i)=>{const e=i||s.IW(),h=t.get(e);h?h.add(s):t.set(e,new Set([s]))};if(e(this,s),this.FW())for(const t of this.jW())e(t);if(i)for(const t of this._Y())e(t)}HNt(){if(!this.MB().hB())throw new Error("object does not support scene graph")}LY(){return null!==this.SY()}SY(){const t=this.oj();if(!t)return null;const s=t.SY();return s?s.UJ():null}bY(){const t=this.oj();if(!t)return null;const s=t.bY();return s?s.UJ():null}*xY(){const t=this.oj();if(t)for(const s of t.xY())yield s.UJ()}qNt(t){if(!t)return!1;for(const s of this.children())if(s===t)return!0;return!1}h3(){const t=this.oj();return!!t&&t.h3()}XNt(t){const s=this.oj();if(!s)return[];const i=t._c();return s.a5().map((t=>t.UJ())).filter((t=>t.IW()._c()===i))}a5(){const t=this.oj();return t?t.a5().map((t=>t.UJ())):[]}*children(){const t=this.oj();if(t)for(const s of t.children())yield s.UJ()}*_Y(){const t=this.oj();if(t)for(const s of t._Y())yield s.UJ()}CY(){const t=this.oj();return t?t.CY():0}ZNt(){return[...this.xY()].length}iCt(){const t=this.oj();return t?t.iCt():0}IY(t){const s=this.oj();if(!s)return null;const i=s.IY(t);return i?i.UJ():null}KNt(){const t=this.oj();if(!t)return NaN;const s=t.SY();return s?s.$Nt(t):NaN}tLt(t){for(const s of this.oj().a5())if(s.UJ().zW()===t)return!0;return!1}AY(t,s){this.HNt(),t.HNt(),this.oj().AY(t.oj(),s||{})}DY(t){const s=this.oj();s&&s.DY(t.oj())}KY(){const t=this.oj();return!!t&&t.KY()}j4(){const t=this.oj();if(!t)return;const s=t.sLt();if(s)for(const t of s){const s=this.Pc.ij(t[2]);if(s){const i=t[3];this.AY(s,{RY:!!(1&i),PY:!!(i>>1&1),jY:!!(i>>2&1),BY:!!(i>>3&1),WY:!!(i>>4&1),ZY:!!(i>>5&1),YY:!!(i>>6&1),JY:!!(i>>7&1),qY:!!(i>>8&1)})}}}z4(t,s){const i=t.get(this);if(i)for(const t of i.sceneGraphJson.children){const i=s.get(t.index);if(!i)continue;const e=t.flags;this.AY(i,{RY:!!(1&e),PY:!!(e>>1&1),jY:!!(e>>2&1),BY:!!(e>>3&1),WY:!!(e>>4&1),ZY:!!(e>>5&1),YY:!!(e>>6&1),JY:!!(e>>7&1),qY:!!(e>>8&1)})}}QW(){const t=this.Pc.iLt();return t?t.rlt(this):""}FW(){return null!==this.bNt}eLt(){VM.wr(this.bNt)}X4(t){this.bNt.push(t)}kW(){return this.bNt}hLt(t){return!!this.nLt(t)}nLt(t){const s=this.jW();if(null===s||0===s.length)return!1;for(const i of s)if(i.IW()===t)return i;return null}jW(){return this.bNt}oMt(){for(const t of this.jW())t.IW().AB().xdt(t)}hxt(){for(const t of this.jW())t.IW().AB().Mdt(t)}nxt(t){for(const s of this.jW())s.IW().AB().Tdt()[t]=s}oxt(){for(const t of this.jW())t.IW().AB().wdt(t)}rxt(t){for(const s of this.jW())s.IW().AB().bdt()[t]=s}MB(){return this.fNt.MB()}VDt(t){this.mNt=t}UW(){return this.fNt.Z4(),this.mNt}zW(){return this.gNt}rLt(){return this.yNt}oLt(t){t?this.ZW(new Set(t)):this.MNt=null}ZW(t){if(0===t.size)this.MNt=null;else{this.MNt?this.MNt.clear():this.MNt=new Set;for(const s of t)this.MNt.add(s)}}qW(){return this.MNt??new Set}ICt(){return Array.from(this.qW()).join(" ")}ACt(t){t=Math.floor(t);for(const s of this.qW()){if(0===t)return s;--t}return""}kht(){return this.SNt}aLt(t){if(!t)return null;for(const s of this.SNt)if(s.xV()instanceof t)return s;return null}hut(t){if(!t)return null;const s=this.aLt(t);return s?s.gV():null}Rht(t){const s=this.SNt;for(let i=0,e=s.length;i<e;++i)if(s[i].GV().C0()===t)return i;return-1}uLt(){return this.wNt}EDt(){return this.fNt.EDt()}lLt(){return this.wNt.length}Knt(t){t|=0;const s=this.wNt;if(t<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}xTt(t){return this.wNt[t]}cLt(t){const s=this.wNt[t];return 0===this.fNt.nit(t)?!!s:s}$nt(t,s){t|=0;const i=this.wNt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");switch(this.fNt.nit(t)){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Urt(t,s){if(0===s)return;t|=0;const i=this.wNt;if(t<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}Xbt(){let t=ZM.get(this);return t||(t=new Map,ZM.set(this,t),t)}Zbt(){let t=KM.get(this);return t||(t=new Map,KM.set(this,t),t)}fLt(t){const s=this.IW();if(s.OP().bf(t))return!0;for(const i of s.Pmt())if(i.OP().bf(t))return!0;return!!this.Pc.OP().bf(t)}PB(){const t=new Set;t.add(this);const s=this.oj();if(s&&s.h3())for(const s of this._Y())if(t.add(s),s.FW())for(const i of s.jW())t.add(i);if(this.FW())for(const s of this.jW())t.add(s);for(const s of t.values())s.B4();this.U4()}dLt(){this.fNt.uNt()&&this.ej();for(const t of this.SNt)t.Z_t()}pLt(){this.dLt()}B4(){if(this.dLt(),this.fLt("instancecreate")){const t=this.IW(),s=new VM.Event("instancecreate");s.IV=this.ej(),t.x5(s);for(const i of t.Pmt())i.x5(s);this.Pc.x5(s)}this.Pc.uQ(this.MB().Jgt().Gj.LCt,this,null)}U4(){if(this.MB().hB()){if(this.x5(new VM.Event("hierarchyready")),this.fLt("hierarchyready")){const t=this.IW(),s=new VM.Event("hierarchyready");s.IV=this.ej(),t.x5(s);for(const i of t.Pmt())i.x5(s);this.Pc.x5(s)}this.Pc.uQ(this.MB().Jgt().Gj.qvt,this,null)}}mLt(){this.Pc.uQ(this.MB().Jgt().Gj.OCt,this,null)}gLt(t){if(this.pNt){const s=new VM.Event("destroy");s.yLt=t,this.x5(s)}if(!this.fLt("instancedestroy"))return;const s=this.IW(),i=new VM.Event("instancedestroy");i.IV=this.ej(),i.yLt=t,s.x5(i);for(const t of s.Pmt())t.x5(i);this.Pc.x5(i)}MLt(){return this.dNt?this.dNt.KIt():this.pNt.vQ()}ix(t="full",s=null){const i={};"full"===t?i.uid=this.zW():i.c3=!0;const e=this.qW();if(e.size>0&&(i.tags=Array.from(e)),"visual-state"!==t){const s=ZM.get(this);if(s&&s.size&&(i.ex=VM.Mo(s)),-1!==this.mF()&&(i.mts=this.mF()),this.fNt.pDt()>0){const t={},s=this.fNt.IDt();for(let i=0,e=this.wNt.length;i<e;++i)t[s[i].toString()]=this.wNt[i];i.ivs=t}if(this.SNt.length){const s={};for(const i of this.SNt){const e=i.ix(t);e&&(s[i.GV().C0().toString()]=e)}i.behs=s}}this.Dst&&(i.w=this.Dst.t3(t,s));const h=this.dNt?this.dNt.ix():this.pNt.CQ();return h&&(i.data=h),i}d6(t="full",s=null){this.Dst&&this.Dst.d6(t)}m6(t,s="full",i=null){this.Dst&&this.Dst.m6(t,s,i)}wLt(t,s="full",i=null){this.Dst&&this.Dst.wLt(t,s,i)}aNt(){this.MB().Jz()&&this.Dst.aNt()}hx(t,s="full",i=null){if("full"===s)this.gNt=t.uid;else if(!t.c3)return;if(this.oLt(t.tags),"visual-state"!==s){let s=ZM.get(this);s&&(s.clear(),ZM.delete(this));const i=t.ex;i&&(s=VM.wo(i),ZM.set(this,s)),this.xNt=t.hasOwnProperty("mts")?t.mts:-1;const e=t.ivs;if(e)for(const[t,s]of Object.entries(e)){const i=parseInt(t,10),e=this.fNt._Dt(i);if(e<0||e>=this.wNt.length)continue;let h=s;null===h&&(h=NaN),this.wNt[e]=h}}if(this.MB().Jz()){const e=t.w;if(e){const t=e.l;if(this.Dst.aj().C0()!==t){const i=this.Dst.aj(),e=i.WF().s4(t);e?(this.Dst.fj(e),i.o0(this,!0),e.h0(this,!0),e.dj(this),this.Dst.FQ()):"full"===s&&this.Pc.LW(this)}this.Dst.s3(e,s,i)}}if("visual-state"!==s){const i=t.behs;if(i)for(const[t,e]of Object.entries(i)){const i=parseInt(t,10),h=this.Rht(i);h<0||h>=this.SNt.length||this.SNt[h].hx(e,s)}}const e=t.data;e&&(this.dNt?this.dNt.hx(e,s):this.pNt.GQ(e))}ej(){return this.pNt||this.NNt()}i_t(){return!!this.pNt}NNt(t,s){const i=this.Dst?t?self.cH:self.cV:t?self.sQ:self.GW,e=t||this.dNt.lIt(),h=this.fNt.uNt(),n=h||e||i,r=this.MB().Qbt();if(VM.Bz.dIt(this,r),VM.Bz.mEt(s),this.pNt=new n,VM.Bz.gEt(),VM.Bz.pIt(r),e&&!(this.pNt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(h){const t=e||i;if(!(this.pNt instanceof t))throw new TypeError(`setInstanceClass(): class '${h.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.pNt}_W(t){if(0===this.wNt.length)return;const s={},i=this.fNt.ADt();for(let t=0,e=i.length;t<e;++t)s[i[t]]={configurable:!1,enumerable:!0,get:VM.Instance.prototype.cLt.bind(this,t),set:VM.Instance.prototype.$nt.bind(this,t)};const e=Object.create(Object.prototype,s);t.SLt={value:e,writable:!1}}EW(t){const s=this.SNt;if(0===s.length)return;const i={};for(const t of s)i[t.GV().Amt()]={value:t.OIt(),writable:!1};const e=Object.create(Object.prototype,i);t.Jyt={value:e,writable:!1}}x5(t){if(!this.i_t())return;const s=this.ej();t.IV=s;const i=this.Pc,e=i.yQ()&&!i.FP().jB();e&&JM.v5(),s.dispatchEvent(t),e&&JM.C5()}}}{const $M=self.Gs;$M.l5=class extends $M.Wh{constructor(t){super(),this.yx=t,this.dMt=null,this.TLt=[],this.bLt=t.Bg(),this.xLt=t.Zg(),this.vLt=1,this.CLt=1,this.GLt=0,this.ILt=1,this._Lt=t.tL(),this.ELt=null,this.ALt=null,this.DLt=NaN,this.NLt=!1,this.o3=NaN,this.a3=NaN,this.LLt=s=>{if(s.IV!==this.dMt.UJ())return;t.Rj().yf().removeEventListener("instancecreate",this.LLt);const i=this.dMt.UJ().gV();this.NLt=!!i.Sit(),this.o3=this.NLt?i.wit():NaN,this.a3=this.NLt?i.bit():NaN}}Vh(){this.dMt=null,this.ELt=null,this.ALt=null,this.DLt=NaN,this.NLt=!1,this.o3=NaN,this.a3=NaN,$M.wr(this.TLt)}OLt(t){if(this.ILt=this.yx.tL(),this._Lt=this.ILt,this.dMt=t,this.GLt=t?t.XB():0,this.dMt){const t=this.yx.Rj();if(this.dMt.UJ().MB().Qbt()<2){const s=this.dMt.UJ().gV();s?(this.NLt=!!s.Sit(),this.o3=this.NLt?s.wit():NaN,this.a3=this.NLt?s.bit():NaN):this.dMt.UJ().DH()||t.yf().addEventListener("instancecreate",this.LLt)}else this.NLt=!1,this.o3=NaN,this.a3=NaN}else this.NLt=!1,this.o3=NaN,this.a3=NaN}SY(){return this.dMt}h3(){return this.TLt.length>0}a5(){return this.TLt}RLt(){this.h3()&&1!==this.TLt.length&&(this.ALt?this.TLt.sort(((t,s)=>{const i=this.ALt.get(t.UJ()),e=this.ALt.get(s.UJ());return $M.$i(i)&&$M.$i(e)?i-e:0})):this.TLt.sort(((t,s)=>{const i=t.urt().kLt(),e=s.urt().kLt();return $M.$i(i)&&$M.$i(e)?i-e:0})))}kLt(){return this.DLt}lrt(){return this.vLt}PLt(t){this.vLt=t}frt(){return this.CLt}FLt(t){this.CLt=t}Srt(){return this._Lt}Cvt(){return this.ILt}jLt(t){this.ILt=t}art(){return 0===this.bLt?Number.EPSILON:this.bLt}crt(){return 0===this.xLt?Number.EPSILON:this.xLt}zLt(){if(this.yx.zY()){const t=this.dMt;let s=t.Bg(),i=t.urt().art();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.NLt?1+s/this.o3:s/i}return 1}BLt(){if(this.yx.UY()){const t=this.dMt;let s=t.Zg(),i=t.urt().crt();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.NLt?1+s/this.a3:s/i}return 1}ULt(){return 0}WLt(){return{sw:this.bLt,sh:this.xLt,sx:this.vLt,sy:this.CLt,psa:this.GLt,oo:this.ILt,so:this._Lt,pi:this.yx.UJ().KNt()}}t3(t,s=null){const i=this.WLt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this.QLt(t),c:this.YLt(t)})}VLt(t){let s="";return t.kY()&&(s+="x"),t.FY()&&(s+="y"),t.zY()&&(s+="w"),t.UY()&&(s+="h"),t.QY()&&(s+="a"),t.VY()&&(s+="z"),t.KY()&&(s+="d"),t.HY()&&(s+="o"),t.XY()&&(s+="v"),s}QLt(t){return this.dMt?!this.dMt.UJ()||this.dMt.UJ().DH()?null:this.JLt(this.dMt,this.yx,t):null}YLt(t){return this.TLt.map((s=>this.JLt(s,s,t))).filter((t=>t))}JLt(t,s,i){const e=t.UJ();if(e&&e.DH())return null;const h={};return h.uid=e.zW(),h.f=this.VLt(s),h.offsets=s.HLt(),h.data=$M.l5.qLt(e),h.oci=e.IW().eP(),"state"===i?(h.inst=e.ix("full",{selfOnly:!0}),h.instIndex=NaN):(h.instIndex=e.IW().EB().indexOf(e),h.inst=null),h}s3(t){this.bLt=t.sw,this.xLt=t.sh,this.vLt=t.sx,this.CLt=t.sy,this.GLt=t.psa,this.ILt=t.oo,this._Lt=t.so,this.DLt=$M.$i(t.pi)?t.pi:NaN}XLt(t,s,i,e){if(!t&&!s)if(e?.WCt){if(this.ELt)for(const t of this.ELt)t.DH()||t.LY()||t.Rj().LW(t)}else if(this.ELt)for(const t of this.ELt)if(i.c&&i.c.length){if(!i.c.some((s=>s.uid===t.zW())))continue;t.DH()||t.LY()||t.Rj().LW(t)}this.ELt=t,this.ALt=s}m6(t,s){const i=this.yx,e=i.Rj(),h=new Set;if(t.p&&!this.dMt){const n=t.p.uid,r=e.ij(n);if(r){const n=r.oj();r.qNt(i.UJ())?this.dMt=n:(r.tLt(i.UJ().zW())?(e.LW(i.UJ()),e.ZLt(i.UJ().zW())):r.AY(i.UJ(),this.KLt(t.p.f)),h.has(i)||(i.$Lt(t.p.offsets),this.tOt(r,t.p,s),this.sOt(i.UJ(),i.UJ().zW(),i.Rj(),s)),h.add(i),r.oj().urt().RLt())}else if($M.$i(t.p.oci)){const h=e.J$(t.p.oci),n=(e.NZ(),e.OB(h,i.aj(),0,0,!0));if(n){const h=this.iOt(t.p,e);h&&n.hx(h),n.oj().aj().RB(n),n.AY(i.UJ(),this.KLt(t.p.f)),this.sOt(n,n.zW(),e,s),n.oj().urt().RLt()}}}const n=[];for(const s of t.c){const t=s.uid,i=e.ij(t);i&&n.push(i)}let r=0;for(const o of t.c){const a=o.uid,u=e.ij(a);if(u){if(this.ELt){if(this.ELt.includes(u)){const e=u;if(e.IW()!==u.IW()){r++;continue}if(e.DH()){r++;continue}const o=t.c[r];if(!s?.WCt&&this.eOt(e,n,i)){if(i.UJ().IY(r)){const n=e.IW().eP(),a=o.oci,u=i.UJ().IY(r).IW().eP();if(n!==a||a!==u){this.hOt(t.c,i,h,s);break}this.nOt(r,o,i,h,s)}else this.nOt(r,o,i,h,s);r++;continue}if(e.LY()&&e.SY()!==i.UJ()){const t=this.rOt(o,s);this.oOt(t,o,h,s),r++;continue}this.oOt(e.oj(),o,h,s,!0),r++;continue}if(this.ELt[r]){const e=this.ELt[r];if(e.IW()!==u.IW()){r++;continue}if(e.DH()){r++;continue}const o=t.c[r];if(!s?.WCt&&this.eOt(e,n,i)){if(i.UJ().IY(r)){const n=e.IW().eP(),a=o.oci,u=i.UJ().IY(r).IW().eP();if(n!==a||a!==u){this.hOt(t.c,i,h,s);break}this.nOt(r,o,i,h,s)}else this.nOt(r,o,i,h,s);r++;continue}if(e.LY()&&e.SY()!==i.UJ()){const t=this.rOt(o,s);this.oOt(t,o,h,s),r++;continue}this.oOt(e.oj(),o,h,s,!0),r++;continue}}const e=u.IW();if(this.aOt(n,e)===i.UJ().XNt(e).length){const t=i.UJ().IY(r);if(t){const i=t.oj();i&&(h.has(i)||(i.$Lt(o.offsets),this.tOt(t,o,s)),h.add(i))}r++;continue}if(u.LY()&&u.SY()!==i.UJ()){const t=this.rOt(o,s);this.oOt(t,o,h,s),r++;continue}this.oOt(u.oj(),o,h,s)}else if(this.ELt&&this.ELt[r]){const a=this.ELt[r],u=e.J$(this.uOt(o));if(a.IW()!==u){r++;continue}if(a.DH()){r++;continue}const l=t.c[r];if(!s?.WCt&&this.eOt(a,n,i)){if(i.UJ().IY(r)){const e=a.IW().eP(),n=l.oci,o=i.UJ().IY(r).IW().eP();if(e!==n||n!==o){this.hOt(t.c,i,h,s);break}this.nOt(r,l,i,h,s)}else this.nOt(r,l,i,h,s);r++;continue}if(a.LY()&&a.SY()!==i.UJ()){const t=this.rOt(l,s);this.oOt(t,l,h,s),r++;continue}this.oOt(a.oj(),l,h,s)}else{const t=this.rOt(o,s);this.oOt(t,o,h,s)}r++}}hOt(t,s,i,e){const h=s.Rj();for(const t of s.UJ().children())t&&!t.DH()&&(h.LW(t),h.ZLt(t.zW()));this.ELt&&(this.ELt=[]),this.ALt&&(this.ALt=new WeakMap);for(const s of t){const t=this.rOt(s,e);this.oOt(t,s,i,e),this.ELt.push(t.UJ()),this.ALt.set(t.UJ(),this.ELt.length-1)}s.urt().RLt()}eOt(t,s,i){const e=t.IW();return this.aOt(s,e)===i.UJ().XNt(e).length}nOt(t,s,i,e,h){const n=i.UJ().IY(t);if(!n)return;const r=n.oj();r&&(e.has(r)||(r.$Lt(s.offsets),this.tOt(n,s,h)),e.add(r))}KLt(t){const s={};return s.RY=t.includes("x"),s.PY=t.includes("y"),s.jY=t.includes("w"),s.BY=t.includes("h"),s.WY=t.includes("a"),s.YY=t.includes("z"),s.ZY=t.includes("d"),s.JY=t.includes("o"),s.qY=t.includes("v"),s}uOt(t){return $M.$i(t.oci)?t.oci:t[1]}rOt(t,s){if(!$M.$i(t.oci))return;const i=this.yx,e=i.Rj();let h;if(t.data)h=e.i0(t.data,i.aj(),!1,0,0,!1,!0);else{const s=e.J$(t.oci);h=e.OB(s,i.aj(),0,0,!0)}if(!h)return;const n=this.iOt(t,e);n&&h.hx(n);const r=h.oj();return r.aj().RB(h,!0),r}sOt(t,s,i,e){if(i.ij(s)){if(!e?.WCt){const e=i.ij(s);e!==t&&i.LW(e)}i.ZLt(s)}i.TDt(s,t)}oOt(t,s,i,e,h=!0){const n=this.yx,r=n.AY(t,this.KLt(s.f));r&&h?(i.has(t)||(t.$Lt(s.offsets),this.tOt(t.UJ(),s,e)),i.add(t)):r&&this.sOt(t.UJ(),s.uid,n.Rj(),e),this.RLt()}tOt(t,s,i){let e=this.iOt(s,this.yx.Rj());if(!e)return;const h=t.Rj();e=JSON.parse(JSON.stringify(e));const n=e.w?.zi;e.w=null,t.hx(e),$M.$i(n)&&t.oj().f0(n),this.sOt(t,e.uid,h,i)}aOt(t,s){return t.filter((t=>t.IW()._c()===s._c())).length}iOt(t,s){if($M.$i(t.instIndex)){const i=s.J$(t.oci).rNt();return i?i[t.instIndex]:null}return $M.ae(t.inst)?JSON.parse(t.inst):t.inst?t.inst:void 0}static qLt(t){let s=t.oj().aj().K$(t.zW());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const s of[...t.a5()]){const t=s.oj();i.push([t.WF().C0(),t.aj().eP(),s.zW(),$M.l5.u5(t),s.IW().FW()?1:0,t.uj(),$M.l5.qLt(s)])}return $M.xe(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=$M.l5.lOt(),s[0][14][1]=i,s[0][14][2]=t.oj().uj()),s}static u5(t){let s=0;return s|=Number(t.XY())<<8,s|=Number(t.HY())<<7,s|=Number(t.VY())<<6,s|=Number(t.KY())<<5,s|=Number(t.QY())<<4,s|=Number(t.UY())<<3,s|=Number(t.zY())<<2,s|=Number(t.FY())<<1,s|=0|Number(t.kY()),s}static lOt(t){let s=0;return s|=256,s|=128,s|=64,s|=32,s|=16,s|=8,s|=4,s|=2,s|=1,511}}}{const tw=self.Gs,sw=self.rs,iw=(sw.ys,sw.Ms,tw.Yh(tw.Rect)),ew=tw.Yh(tw.Iu),hw=tw.Yh(tw.Event,"bboxchange",!1),nw=tw.Yh(tw.xo,0,0,0,0),rw=tw.Yh(tw.ol),ow=tw.Yh(tw.xo,1,1,1,1),aw=tw.Yh(tw.Rect,0,0,-1,-1),uw=tw.Yh(tw.Rect,0,0,-1,-1),lw=new Set(["absolute","relative"]),cw=[];let fw=!0;const dw=new WeakMap,pw=new WeakMap;tw.vNt=class extends tw.Wh{constructor(t,s){super(),this.fi=t,this.sdt=t.IW(),this.Pc=t.Rj(),this.cOt=s,this.sdt.$Dt(this,null,s),this.fOt=-1,this.dOt=-1,this.fxt=196635,this.sdt.MB().Kz()&&(this.fxt|=128),this._a=NaN,this.Ea=NaN,this.Ab=NaN,this.pOt=NaN,this.mOt=NaN,this.Yv=NaN,this.Io=NaN,this.gOt=NaN,this.yOt=NaN,this.MOt=NaN,this.wOt=NaN,this.SOt=tw.Yh(tw.Rect),this.TOt=tw.Yh(tw.Iu),this.bOt=uw,this.xOt=aw,this.vOt=null,this.COt=null,this.GOt=null,this.Eb=ow,this.IOt=ow,this._Ot=null,this.EOt=null,this.fi.IW().NDt()&&(this.EOt=tw.Yh(tw.AOt,this.fi,this)),this.DOt=null,this.ELt=null,this.ALt=null,this.NOt=-1,this.LOt=null}PNt(){this.fxt|=256}Vh(){if(this.sdt.$Dt(this,this.cOt,null),this._Ot&&(this.Pc.lb()._S(this._Ot),this._Ot=null),this.vOt=null,this.COt&&(this.COt.OOt.Vh(),this.COt=null),this.GOt&&(this.GOt.clear(),this.GOt=null),this.iV(),this.EOt&&this.EOt.Vh(),this.LY()&&this.SY().DY(this),this.h3()){const t=[...this.a5()];for(const s of t)this.DY(s)}this.ROt(),this.kOt(),dw.delete(this),pw.delete(this),this.fi=null,this.sdt=null,this.Pc=null,this.cOt=null}GNt(t){if(fw=!1,this.jQ(t[0],t[1]),this.qb(t[2]),this.xA(t[3],t[4]),this.Yv=0,this.Kz()?this.qB(t[6]):this.Io=0,nw.ya(t[7]),this.POt(nw),this.QQ(t[8]),this.JQ(t[9]),this.Nb(t[10]),this.EOt&&this.EOt.FOt(t[12]),t[14]&&dw.set(this,{jOt:t[14][1],zOt:t[14][2]}),t[15]){const s=t[15];this.tV(s[0],s[1]);const i=this.oV(),e=s[2];for(let t=0,s=e.length;t<s;++t){const s=e[t];for(let e=0,h=s.length;e<h;++e){const h=s[e],n=i.kx(e,t);n.Qb(h[0]),n.Jb(h[1]),n.qb(h[2]),n.Zb(h[3]),n.$b(h[4])}}}if(t[16]){const s=t[16][0],i=t[16][1],e=!!i,h=!e,n=this.Pc.iLt();e&&n&&n.nlt(this.UJ(),i),h&&n&&n.nlt(this.UJ(),s)}fw=!0,this.BOt()}INt(){this._a=0,this.Ea=0,this.Ab=0,this.pOt=0,this.mOt=0,this.Yv=0,this.Io=0,this.gOt=0,this.yOt=1,this.MOt=0,this.wOt=0,this.BOt()}Rj(){return this.Pc}IW(){return this.sdt}UJ(){return this.fi}UOt(){return this.QY()?this.WOt(this.SY().QOt()-this.DOt.ULt()):0}Qb(t){if(t=+t,this.kY()){const s=this.DOt,i=t-this.Wb(),e=-this.UOt();0===e?this._a+=i/s.zLt():(this._a+=Math.cos(e)*i/s.zLt(),this.FY()&&(this.Ea+=Math.sin(e)*i/s.BLt()))}else this._a=t}hrt(t,s=!1){t=+t,s?this._a+=t:this.kY()?this.Qb(this.Wb()+t):this._a+=t}Wb(){if(this.kY()){let t=this._a;const s=this.DOt,i=this.SY(),e=this.UOt();return 0===e?t*=s.zLt():(t=t*s.zLt()*Math.cos(e),this.FY()&&(t-=this.Ea*s.BLt()*Math.sin(e))),i.Wb()+t}return this._a}Jb(t){if(t=+t,this.FY()){const s=this.DOt,i=t-this.Vb(),e=-this.UOt();0===e?this.Ea+=i/s.BLt():(this.kY()&&(this._a-=Math.sin(e)*i/s.zLt()),this.Ea+=Math.cos(e)*i/s.BLt())}else this.Ea=t}nrt(t,s=!1){t=+t,s?this.Ea+=t:this.FY()?this.Jb(this.Vb()+t):this.Ea+=t}Vb(){if(this.FY()){let t=this.Ea;const s=this.DOt,i=this.SY(),e=this.UOt();return 0===e?t*=s.BLt():(t=t*s.BLt()*Math.cos(e),this.kY()&&(t+=this._a*s.zLt()*Math.sin(e))),i.Vb()+t}return this.Ea}jQ(t,s){if(t=+t,s=+s,this.YOt()){const i=this.kY(),e=this.FY(),h=this.DOt,n=t-this.Wb(),r=s-this.Vb(),o=-this.UOt();if(0===o)i?this._a+=n/h.zLt():this._a=t,e?this.Ea+=r/h.BLt():this.Ea=s;else{const a=Math.sin(o),u=Math.cos(o);i?this._a+=e?(u*n-a*r)/h.zLt():u*n/h.zLt():this._a=t,e?this.Ea+=i?(a*n+u*r)/h.BLt():u*r/h.BLt():this.Ea=s}}else this._a=t,this.Ea=s}VOt(){return[this.Wb(),this.Vb()]}BQ(t,s){t=+t,s=+s,this.YOt()?this.jQ(this.Wb()+t,this.Vb()+s):(this._a+=t,this.Ea+=s)}svt(t,s){return this.Wb()===t&&this.Vb()===s}qb(t){if(t=+t,this.VY()&&(t-=this.SY().Hb()),this.Ab===t)return;this.Ab=t,this.JOt();const s=this.aj();0!==this.Ab&&s.l0(),s.dj(this)}JOt(){if(this.BOt(),this.h3()){const t=this.a5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.VY()&&i.JOt()}}}xrt(t){this.qb(this.Hb()+t)}Hb(){return this.VY()?this.SY().Hb()+this.Ab:this.Ab}ZQ(){return this.aj().Hb()+this.Hb()}Sit(){return this.UJ().MB().Qbt()<2&&this.UJ().gV().Sit()}Hg(t){if(t=+t,this.zY()){const s=this.Bg();0===s?this.pOt=Number.EPSILON:this.pOt*=t/s}else this.pOt=t;this.HOt()}vy(t,s){t=+t,s?this.pOt+=t:this.zY()?this.Hg(this.Bg()+t):this.pOt+=t,this.HOt()}Bg(){if(this.zY()){const t=this.SY(),s=t.Bg();return t.urt().art()===Number.EPSILON?(this.urt().art()+s)*this.pOt:s*this.pOt}return this.pOt}Ug(t){if(t=+t,this.UY()){const s=this.Zg();0===s?this.mOt=Number.EPSILON:this.mOt*=t/s}else this.mOt=t;this.HOt()}drt(t,s){t=+t,s?this.mOt+=t:this.UY()?this.Ug(this.Zg()+t):this.mOt+=t,this.HOt()}Zg(){if(this.UY()){const t=this.SY(),s=t.Zg();return t.urt().crt()===Number.EPSILON?(this.urt().crt()+s)*this.mOt:s*this.mOt}return this.mOt}xA(t,s){if(t=+t,s=+s,this.zY()){const s=this.Bg();0===s?this.pOt=Number.EPSILON:this.pOt*=t/s}else this.pOt=t;if(this.UY()){const t=this.Zg();0===t?this.mOt=Number.EPSILON:this.mOt*=s/t}else this.mOt=s;this.HOt()}Nl(){return[this.Bg(),this.Zg()]}D2(){return this.Yv}qOt(t){if(t<0)throw new RangeError("invalid depth");this.Yv=t}XOt(){if(this.LY()){const t=this.DOt;return Math.min(t.zLt(),t.BLt())}return 1}Kz(){return!!(128&this.fxt)}qB(t){t=+t,this.Kz()&&(this.QY()&&(t-=this.SY().XB()),t=tw.Kh(t),this.Io!==t&&(this.Io=t,this.HOt()))}prt(t){0!=(t=+t)&&this.Kz()&&(this.Io=tw.Kh(this.Io+t),this.HOt())}HOt(){if(this.fxt|=262144,this.h3()){const t=this.a5();for(let s=0,i=t.length;s<i;s++)t[s].HOt()}}XB(){return this.QY()&&this.Kz()?this.WOt(tw.Kh(this.SY().QOt()+this.Io)):this.Io}QOt(){return this.QY()&&this.Kz()?tw.Kh(this.SY().QOt()+this.Io):this.Io}WOt(t){return this.zY()&&this.bY().Bg()<0&&(t=tw.Kh(tw.pn(t,this.bY().XB()+Math.PI))),this.UY()&&this.bY().Zg()<0&&(t=tw.pn(t,this.bY().XB())),t}ZOt(){const t=this.SY();return!!(this.zY()&&t.Bg()<0)||!!(this.UY()&&t.Zg()<0)}KOt(){const t=this.SY();return!!(this.zY()&&t.Bg()<0&&this.UY()&&t.Zg()<0)}$Ot(){const t=this.fxt;if(!(262144&t))return;const s=this.XB();this.gOt=Math.sin(s),this.yOt=Math.cos(s),this.fxt=-262145&t}rvt(){return this.$Ot(),this.gOt}nvt(){return this.$Ot(),this.yOt}QQ(t){this.MOt=+t}Trt(t){this.MOt+=+t}WQ(){return this.MOt}JQ(t){this.wOt=+t}brt(t){this.wOt+=+t}VQ(){return this.wOt}POt(t){this.Eb.equals(t)||(this.Eb===ow?(this.Eb=tw.Yh(tw.xo,t),this.IOt=tw.Yh(tw.xo,t),this.IOt.Xo()):t.Vo(1,1,1,1)?(this.Eb=ow,this.IOt=ow):(this.Eb.set(t),this.IOt.set(t),this.IOt.Xo()),this.BOt())}iL(t){if(t=tw.Zh(+t,0,1),this.HY()){if(this.urt().Cvt()===t)return;this.urt().jLt(t),t=this.tL()}else if(this.Eb.a===t)return;this.tRt(t)}sRt(){if(!this.h3())return;const t=this.a5();for(let s=0,i=t.length;s<i;s++){const i=t[s];i.tRt(i.tL())}}tRt(t){nw.ko(this.Eb),nw.a=t,this.POt(nw),this.sRt()}yrt(t){this.HY()?this.iL(this.urt().Cvt()+t):this.iL(this.tL()+t)}tL(){return this.HY()?this.SY().tL()*this.urt().Cvt():this.Eb.a}oY(t){this.Eb.Qo(t)||(nw.ko(t),nw.a=this.tL(),this.POt(nw))}Xnt(t,s,i){nw.Eo(t,s,i),this.oY(nw)}iRt(t,s,i){0===t&&0===s&&0===i||(nw.ko(this.Eb),nw.r+=t,nw.g+=s,nw.b+=i,this.oY(nw))}rY(){return this.Eb}D$(){return this.IOt}KY(){return!!(512&this.fxt)}eRt(t){this.hRt(512,t)}kY(){return!!(1024&this.fxt)}nRt(t){this.hRt(1024,t)}FY(){return!!(2048&this.fxt)}YOt(){return!!(3072&this.fxt)}rRt(t){this.hRt(2048,t)}zY(){return!!(4096&this.fxt)}oRt(t){this.hRt(4096,t)}UY(){return!!(8192&this.fxt)}aRt(t){this.hRt(8192,t)}QY(){return!!(16384&this.fxt)}uRt(t){this.hRt(16384,t)}VY(){return!!(32768&this.fxt)}lRt(t){this.hRt(32768,t)}HY(){return!!(4194304&this.fxt)}cRt(t){this.hRt(4194304,t)}XY(){return!!(8388608&this.fxt)}fRt(t){this.hRt(8388608,t)}dRt(){this.fxt&=-12647937}AY(t,s){if(t===this)return!1;if(t.LY())return!1;if(this.pRt(t))return!1;if(this.mRt(t))return!1;const i=t.Wb(),e=t.Vb(),h=t.Bg(),n=t.Zg(),r=t.XB(),o=t.Hb(),a=t.tL();t.gRt(this),t.nRt(s.RY),t.rRt(s.PY),t.oRt(s.jY),t.aRt(s.BY),t.uRt(s.WY),t.lRt(s.YY),t.cRt(s.JY),t.fRt(s.qY),t.eRt(s.ZY);const u=i-this.Wb(),l=e-this.Vb(),c=-this.XB(),f=Math.cos(c),d=Math.sin(c);if(s.RY&&(s.WY?t._a=u*f-l*d:t._a=u,s.jY)){const s=this.Bg()/this.DOt.art();0!==s&&(t._a/=s)}if(s.PY&&(s.WY?t.Ea=u*d+l*f:t.Ea=l,s.BY)){const s=this.Zg()/this.DOt.crt();0!==s&&(t.Ea/=s)}if(s.jY){const s=this.Bg();0===s||s===Number.EPSILON?(t.pOt=1,t.DOt.PLt(1)):(t.pOt=h/this.Bg(),t.DOt.PLt(t.pOt))}if(s.BY){const s=this.Zg();0===s||s===Number.EPSILON?(t.mOt=1,t.DOt.FLt(1)):(t.mOt=n/this.Zg(),t.DOt.FLt(t.mOt))}return s.WY&&(t.Io=r-this.XB()),s.YY&&(t.Ab=o-this.Hb()),s.JY&&t.DOt.jLt(a),s.qY&&t.NU(this.OU()),this.yRt(t),this.FQ(),this.sRt(),!0}DY(t){if(t.SY()!==this)return;const s=t.Wb(),i=t.Vb(),e=t.Bg(),h=t.Zg(),n=t.XB(),r=t.Hb(),o=t.tL();t.gRt(null),t.dRt(),t.jQ(s,i),t.xA(e,h),t.qB(n),t.qb(r),t.iL(o),this.MRt(t),this.FQ()}wRt(){return this.NOt}SRt(){this.TRt();const t=[...this.children()];for(const s of t)this.DY(s);const s=this.SY();s&&s.DY(this),this.dRt()}TRt(){if(this.bRt(),!this.ELt){const t=[...this.children()];t.length&&(this.ELt=[],this.ALt=new WeakMap);let s=0;for(const i of t){const t=i.UJ();this.ELt.push(t),this.ALt.set(t,s),s++}}const t=this.SY();t&&t.TRt()}bRt(){if(-1!==this.NOt)return;const t=[...this.xY()];this.NOt=t.length;for(const s of t)s.bRt();const s=[...this.children()];for(const t of s)t.bRt()}kOt(){this.ELt&&(this.ELt.length=0),this.ELt=null,this.ALt=null;const t=this.SY();t&&t.kOt(),this.NOt=-1}LY(){return null!==this.SY()}SY(){const t=this.DOt;return null!==t?t.SY():null}bY(){let t=this;for(;t.LY();)t=t.SY();return t}*xY(){let t=this.SY();for(;t;)yield t,t=t.SY()}qNt(t){return this.a5().includes(t)}h3(){const t=this.DOt;return null!==t&&t.h3()}a5(){const t=this.DOt;return null!==t?t.a5():cw}children(){return this.a5()}*_Y(){for(const t of this.children())yield t,yield*t._Y()}CY(){return this.a5().length}iCt(){return[...this._Y()].length}IY(t){const s=this.a5();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}$Nt(t){if(!t)return NaN;const s=this.a5();if(!s)return NaN;for(let i=0;i<s.length;i++)if(t===s[i])return i;return NaN}xRt(t){this.DOt||(this.DOt=tw.Yh(tw.l5,this)),t&&this.DOt.OLt(t)}urt(){return this.DOt}ROt(){this.DOt&&(this.DOt.Vh(),this.DOt=null)}gRt(t){t?(t.xRt(null),this.xRt(t)):(this.DOt&&this.DOt.OLt(null),this.h3()||this.ROt())}mRt(t){if(!this.LY())return!1;const s=this.SY();return s===t||s.mRt(t)}pRt(t){if(this.qNt(t))return!0;for(const s of this.a5())if(s.pRt(t))return!0;return!1}yRt(t){this.DOt.a5().push(t)}MRt(t){const s=this.DOt.a5(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this.LY()||this.ROt(),t.h3()||t.ROt()}sLt(){const t=dw.get(this);return t?t.jOt:null}vRt(){const t=dw.get(this);return t?t.zOt:NaN}e3(){const t=pw.get(this);return tw.$i(t)?t:NaN}CRt(t){pw.set(this,t)}GRt(){this.hRt(524288,!0),this.BOt()}BOt(){if(!fw)return;const t=this.Pc.lb();let s;this._Ot&&t._S(this._Ot),s=524288&this.fxt?t.lS()||"<point>":t.oS()||"<default>",this._Ot=t.vS(s,this.lW(),this.IOt,this.Hb())}j2(){return this._Ot}E0(){return this.Eb===ow}Nb(t){if((t|=0)<0||t>31)throw new RangeError("invalid blend mode");this.lW()!==t&&(this.fxt=-2080374785&this.fxt|t<<26,this.BOt())}lW(){return(2080374784&this.fxt)>>26}fj(t,s){const i=s&&this.cOt!==t;i&&this.a0(),this.sdt.$Dt(this,this.cOt,t),this.cOt=t,i&&this.IRt(),0!==this.Hb()&&this.cOt.l0()}aj(){return this.cOt}WF(){return this.aj().WF()}f0(t){this.fOt=0|t}uj(){return this.cOt.C1(),this.fOt}E1(t){this.dOt=0|t}CH(){return this.cOt.I1(),this.dOt}lK(){return this.fOt}hRt(t,s){s?this.fxt|=t:this.fxt&=~t}OU(){return!!(1&this.fxt)}NU(t){if(this.hRt(1,t),this.h3())for(const s of this.a5())s.XY()&&s.NU(t)}yY(){return!!(8&this.fxt)}MY(t){t=!!t,this.yY()!==t&&(this.hRt(8,t),t?this.FQ():this._Rt())}ERt(t,s){if(this.hRt(32,t),this.GOt&&this.GOt.clear(),s.trim()){this.GOt||(this.GOt=new Set);for(const t of s.split(" "))t&&this.GOt.add(t.toLowerCase())}else this.GOt=null}ARt(t){const s=!!(32&this.fxt),i=this.GOt;if(!t||!i)return!s;for(const e of i)if(t.has(e))return s;return!s}FQ(){if(this.fxt|=65554,this.sdt.XDt(!0),this.Pc.pj(),this.cOt.W$()&&(this.$Q(this.SOt,this.TOt,!0),this.fxt&=-3,this.IRt()),4&this.fxt&&this.fi.yf().dispatchEvent(hw),null!==this.DOt){const t=this.DOt.a5();for(let s=0,i=t.length;s<i;++s)t[s].FQ()}}$Q(t,s,i){const e=this.Wb(),h=this.Vb(),n=this.Bg(),r=this.Zg(),o=this.XB();t.Wa(e-this.MOt*n,h-this.wOt*r,n,r),i&&this.rV()&&this.DRt(t),0===o?s.Hu(t):(t.offset(-e,-h),s.Xu(t,this.rvt(),this.nvt()),s.offset(e,h),s.Zu(t)),t.normalize()}NRt(){const t=this.fxt;2&t&&(this.$Q(this.SOt,this.TOt,!0),this.fxt=-3&t)}tY(){return this.NRt(),this.SOt}iY(){return this.NRt(),this.TOt}LRt(t){const s=this.Wb(),i=this.Vb(),e=Math.round(s)-s,h=Math.round(i)-i;return 0===e&&0===h?t:(ew.m(t),ew.offset(e,h),ew)}ORt(t){this.SOt.m(t),this.TOt.Hu(this.SOt),this.fxt&=-3,this.KDt(),this.IRt()}RRt(t){this.hRt(4,t)}kRt(){return!!(4&this.fxt)}G2(t,s,i){return s&&0!==this.D2()?this.E2(this.aj()._2()):0===this.Hb()||i?t.Tu(this.tY()):this.PRt()}PRt(){const t=this.aj(),s=this.ZQ();return!(s>=t.J0())&&(t.Y0(s,iw),iw.Tu(this.tY()))}E2(t){const s=this.tY(),i=s.Za(),e=s.$a(),h=s.Ka(),n=s.tu(),r=this.ZQ(),o=r+this.D2();return t.VM(i,h,r,e,n,o)}hY(){const t=this.aj();if(t.n1())return this.E2(t._2());{const s=t.WF();return this.G2(t.pW(),s.C2(),s.xU())}}R2(t){this.hRt(1048576,t)}O2(t){this.hRt(2097152,t)}FRt(){return!!(1048576&this.fxt)}jRt(){return!!(2097152&this.fxt)}zRt(t){this.vOt=t,this.BRt(),this.rV()&&(this.LOt.URt=null)}WRt(){return this.vOt}QRt(){return null!==this.vOt||this.rV()}YRt(){return this.VRt(this.Bg(),this.Zg(),this.XB(),this.rvt(),this.nvt())}JRt(t,s,i){let e=0,h=1;return 0!==i&&(e=Math.sin(i),h=Math.cos(i)),this.VRt(t,s,i,e,h)}VRt(t,s,i,e,h){let n=this.COt;null===n&&(n={OOt:tw.Yh(tw.ol),width:NaN,height:NaN,angle:NaN},this.COt=n);const r=n.OOt;if(n.width===t&&n.height===s&&n.angle===i)return r;const o=this.vOt;if(this.rV()){const i=this.WQ(),n=this.VQ(),a=this.oV();let u=this.LOt.URt;u||(o?(rw.m(o),rw.offset(i,n)):rw.ml(),u=a.zx(rw),this.LOt.URt=u),a.Bx(u,r),r.offset(-i,-n),r.wl(t,s,e,h)}else o?(r.m(o),r.wl(t,s,e,h)):r.Ml(this.iY(),-this.Wb(),-this.Vb());return n.width=t,n.height=s,n.angle=i,r}BRt(){this.HRt(!0);const t=this.COt;null!==t&&(t.width=NaN)}tV(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.UJ().MB().rB())throw new Error("object does not support mesh");this.iV(),this.LOt={qRt:tw.Yh(tw.OM.lx,t,s),XRt:tw.Yh(tw.OM.lx,t,s),URt:null}}rV(){return null!==this.LOt}oV(){if(!this.rV())throw new Error("no mesh");return this.LOt.qRt}ZRt(){if(!this.rV())throw new Error("no mesh");return this.LOt.XRt}KRt(t){this.hRt(65536,t)}$Rt(){return!!(65536&this.fxt)}HRt(t){this.hRt(131072,t)}tkt(){return!!(131072&this.fxt)}DRt(t){const s=this.LOt.qRt,i=Math.min(s.Ax(),0),e=Math.min(s.Dx(),0),h=Math.max(s.Nx(),1),n=Math.max(s.Lx(),1),r=t.width(),o=t.height();t.offsetLeft(i*r),t.offsetTop(e*o),t.ou((h-1)*r),t.au((n-1)*o),this.Yv=s.Ox()}iV(){this.LOt&&(this.LOt.qRt.Vh(),this.LOt.XRt.Vh(),this.LOt=null,this.BRt())}hV(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!lw.has(e))throw new Error("invalid mode");const h="relative"===e;let n=i.x,r=i.y;const o=i.sW;let a="number"==typeof i.aV?i.aV:h?0:-1,u="number"==typeof i.uV?i.uV:h?0:-1;if(!this.rV())return!1;const l=this.oV(),c=l.kx(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.Hb()!==o&&(c.qb(o),f=!0),h&&(n+=t/(l.Cx()-1),r+=s/(l.Gx()-1)),-1!==a||h?(h&&(a+=t/(l.Cx()-1)),a=tw.Zh(a,0,1)):a=c.Xb(),-1!==u||h?(h&&(u+=s/(l.Gx()-1)),u=tw.Zh(u,0,1)):u=c.Kb(),c.Wb()===n&&c.Vb()===r&&c.Xb()===a&&c.Kb()===u?f:(c.Qb(n),c.Jb(r),c.Zb(a),c.$b(u),this.BRt(),!0)}kNt(){return this.fi.kNt()}wY(t,s){return!!this.tY().xu(t,s)&&!!this.iY().xu(t,s)&&(this.kNt()?this.fi.gV().M_t(t,s):!this.QRt()||this.YRt().xu(t-this.Wb(),s-this.Vb()))}skt(){return!!(16&this.fxt)}KDt(){if(!this.skt()||!this.yY()||256&this.fxt)return;const t=this.tY(),s=this.sdt.qDt(),i=this.bOt;if(iw.set(s.IK(t.Za()),s._K(t.Ka()),s.IK(t.$a()),s._K(t.tu())),i.equals(iw))return;const e=this.fi;i===uw?(s.EK(e,null,iw),this.bOt=tw.Yh(tw.Rect,iw)):(s.EK(e,i,iw),i.m(iw)),this.fxt&=-17}ikt(){this.fxt|=16}_Rt(){const t=this.bOt;t!==uw&&(this.sdt.qDt().EK(this.fi,t,null),this.bOt=uw)}IRt(){const t=this.aj();if(!t.W$()||256&this.fxt)return;const s=t.D0(),i=this.tY(),e=this.xOt;if(iw.set(s.IK(i.Za()),s._K(i.Ka()),s.IK(i.$a()),s._K(i.tu())),e.equals(iw))return;const h=this.fi;e===aw?(s.EK(h,null,iw),this.xOt=tw.Yh(tw.Rect,iw)):(s.EK(h,e,iw),e.m(iw)),t.N0()}a0(){const t=this.xOt;t!==aw&&(this.aj().D0().EK(this.fi,t,null),this.xOt=aw)}G1(){return this.xOt}uY(){const t=this.fi,s=this.cOt,i=s.cj();i.length&&i.at(-1)===t||(s.o0(t,!1),s.h0(t,!1),this.Pc.pj())}cY(){const t=this.fi,s=this.cOt,i=s.cj();i.length&&i[0]===t||(s.o0(t,!1),s.r0(t,!1),this.Pc.pj())}dY(t){const s=this.fi,i=this.cOt;if(i.WF()!==t.WF())throw new Error("layer from different layout");t!==i&&(i.o0(s,!0),this.fj(t),t.h0(s,!0),this.Pc.pj())}mY(t,s){const i=this.fi;let e=!1;const h=this.cOt;if(t.zW()===i.zW())return;const n=t.oj();if(!n)throw new Error("expected world instance");const r=n.aj();h.eP()!==r.eP()&&(h.o0(i,!0),this.fj(r),r.h0(i,!0),e=!0);const o=r.N1(i,t,!!s);(e||o)&&this.Pc.pj()}kQ(){return this.EOt}ekt(t){this.hRt(64,t)}z1(){return!!(64&this.fxt)}t3(t,s=null){const i={x:this.Wb(),y:this.Vb(),w:this.Bg(),h:this.Zg(),l:this.aj().C0(),zi:this.uj()};0!==this.Hb()&&(i.ze=this.Hb()),0!==this.XB()&&(i.a=this.QOt()),this.E0()||(i.c=this.Eb.toJSON()),.5!==this.WQ()&&(i.oX=this.WQ()),.5!==this.VQ()&&(i.oY=this.VQ()),0!==this.lW()&&(i.bm=this.lW()),this.OU()||(i.v=this.OU()),this.yY()||(i.ce=this.yY()),this.kRt()&&(i.be=this.kRt()),this.EOt&&(i.fx=this.EOt.t3());const e=!!(32&this.fxt);return e&&(i.sfi=e),this.GOt&&(i.sft=[...this.GOt].join(" ")),this.DOt&&"visual-state"!==t&&(i.sgi=this.DOt.t3(t,s),dw.has(this)&&(i.sgcd=dw.get(this).jOt,i.sgzid=dw.get(this).zOt)),this.rV()&&(i.mesh=this.oV().ix()),i}HLt(){return{x:this._a,y:this.Ea,z:this.Ab,w:this.pOt,h:this.mOt,a:this.Io,sgi:this.urt()?this.urt().WLt():null}}$Lt(t){t&&(this._a=t.x,this.Ea=t.y,this.Ab=t.z,this.pOt=t.w,this.mOt=t.h,this.Io=t.a,t.sgi&&this.urt()&&this.urt().s3(t.sgi),this.HOt(),this.FQ())}aNt(){this.kOt(),this.SRt(),this.xRt(null),this.DOt&&this.DOt.XLt(this.ELt,this.ALt)}d6(t){"visual-state"!==t&&this.SRt()}m6(t,s="full",i=null){if(t.hasOwnProperty("sgi")&&"visual-state"!==s){if(256&this.fxt)return;this.DOt.m6(t.sgi,i)}}wLt(t,s="full",i=null){if("visual-state"!==s)if(256&this.fxt)this.kOt();else{if(t.hasOwnProperty("sgi"))this.DOt.XLt(null,null,t.sgi,i);else if(i?.WCt&&this.ELt)for(const t of this.ELt)t.DH()||this.Pc.LW(t);this.kOt(),this.FQ()}}s3(t,s,i=null){if(fw=!1,this.Qb(t.x),this.Jb(t.y),this.Hg(t.w),this.Ug(t.h),this.f0(t.zi),this.qb(t.hasOwnProperty("ze")?t.ze:0),this.qB(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?nw.ya(t.c):t.hasOwnProperty("o")?(nw.ko(this.Eb),nw.a=t.o):nw._o(1,1,1,1),this.POt(nw),this.QQ(t.hasOwnProperty("oX")?t.oX:.5),this.JQ(t.hasOwnProperty("oY")?t.oY:.5),this.Nb(t.hasOwnProperty("bm")?t.bm:0),this.NU(!t.hasOwnProperty("v")||t.v),this.MY(!t.hasOwnProperty("ce")||t.ce),this.RRt(!!t.hasOwnProperty("be")&&t.be),this.ERt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.EOt&&t.hasOwnProperty("fx")&&this.EOt.s3(t.fx),t.hasOwnProperty("sgi")&&"visual-state"!==s){this.xRt(null);const s=this.DOt,i=t.sgi;s.s3(i),s.XLt(this.ELt,this.ALt),t.sgcd&&tw.$i(t.sgzid)&&dw.set(this,{jOt:t.sgcd,zOt:t.sgzid})}if(t.hasOwnProperty("mesh")){const s=t.mesh;this.tV(s.cols,s.rows),this.oV().hx(s)}else this.iV();this.FQ(),fw=!0,this.BOt(),"visual-state"!==s&&this.Pc.hkt(this.UJ(),t)}}}{const mw=self.Gs;mw.zAt=class extends mw.Wh{constructor(t,s){super();const i=t.Rj(),e=i.fSt(s[1]);i.nkt().pEt(e),this.Pc=i,this.sdt=t,this.V_t=mw.Bz.DV(e),this.DIt=null,this.rkt=null,this.yAt=e.Instance,this.JK=s[2],this.qh=s[0],this.XSt=this.Pc.Amt(s[3]);const h=this.V_t.Qbt();if(h<2&&(this.DIt=mw.Yh(e.eDt,this),!(this.DIt instanceof mw.Y_t)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(mw.Bz.dIt(this,h),h>=2){const t=e.eDt??globalThis.WH;if(this.rkt=new t,!(this.rkt instanceof globalThis.WH))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.rkt=new globalThis.EV;mw.Bz.pIt(h),this.uIt()}static AC(t,s){return mw.Yh(mw.zAt,t,s)}Vh(){this.Pc=null,this.V_t=null,this.DIt&&(this.DIt.Vh(),this.DIt=null),this.yAt=null}Bxt(){return this.DIt}uIt(){this.DIt?this.DIt.uIt():this.rkt&&this.rkt.hH()}Rj(){return this.Pc}IW(){return this.sdt}xV(){return this.V_t}CDt(){return this.yAt}_c(){return this.qh}C0(){return this.JK}CV(){return this.rkt}Amt(){return this.XSt}}}{const gw=self.Gs,yw=self.TV;gw.TNt=class extends gw.Wh{constructor(t){super(),this.Pc=t.runtime,this._Tt=t.vV,this.V_t=this._Tt.xV(),this.fi=t.IV,this.IM=t.index,this.dNt=null,this.pNt=null,this.V_t.h0(this.fi)}Vh(){this.pNt&&(this.pNt.NW(),this.pNt=null),this.V_t.o0(this.fi),this.dNt&&(this.dNt.Vh(),this.dNt=null),this.Pc=null,this._Tt=null,this.V_t=null,this.fi=null}SDt(t){if(this.dNt)throw new Error("already got sdk instance");if(this.xV().Qbt()<2){if(this.dNt=gw.Yh(this._Tt.CDt(),this,t),!(this.dNt instanceof gw.J_t))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const s=this.xV().lIt();this.fIt(s.Instance,t)}}gV(){return this.dNt??this.pNt}_V(){return this.fi}Rj(){return this.Pc}GV(){return this._Tt}xV(){return this.V_t}knt(){return this.IM}Z_t(){this.dNt?this.dNt.Z_t():this.pNt.VH()}sEt(t,s){this.dNt&&this.dNt.sEt(t,s)}MLt(){return this.dNt?this.dNt.KIt():this.pNt.vQ()}ix(t="full"){return this.dNt?this.dNt.ix(t):this.pNt.CQ(t)}hx(t,s="full"){if(this.dNt)return this.dNt.hx(t,s);this.pNt.GQ(t,s)}static okt(t,s,i){const e=globalThis.QH;let h,n;h=s instanceof e?t.uU(s):s.X_t(),n=i instanceof e?t.uU(i):i.X_t();const r=h._V(),o=n._V(),a=r.IW().eP(),u=o.IW().eP();if(a!==u)return a-u;const l=r.rLt(),c=o.rLt();return l!==c?l-c:h.knt()-n.knt()}fIt(t,s){const i=yw,e=t??this.dNt.lIt(),h=e||i,n=this.xV().Qbt();if(gw.Bz.dIt(this,n),gw.Bz.mEt(s),this.pNt=new h,gw.Bz.gEt(),gw.Bz.pIt(n),e&&!(this.pNt instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);return this.pNt}OIt(){return this.pNt||this.fIt()}i_t(){return!!this.pNt}}}{const Mw=self.Gs;Mw.E$=class extends Mw.Wh{constructor(t,s){super(),this.yx=t,this.akt=[],this.ukt=[],this.lkt=new Map,this.ckt=[],this.fkt=[],this.dkt=new Set,this.$T=!0;for(const t of s){const s=Mw.Yh(Mw.pkt,this,t,this.akt.length);this.akt.push(s),this.lkt.set(s._c().toLowerCase(),s),t.length>=3&&this.ckt.push(this.mkt(s,t[2]))}this.Rj().gkt(this)}Vh(){this.Rj().ykt(this);for(const t of this.fkt)t.Vh();Mw.wr(this.fkt),Mw.wr(this.akt),Mw.wr(this.ukt),this.lkt.clear(),Mw.wr(this.ckt),this.yx=null}Mkt(t){this.dkt.add(t)}wkt(t){this.dkt.delete(t)}Skt(t){t.tS()&&(this.fkt=this.akt.map((t=>{const s=t.EG();return s.Tkt()>0?Mw.Yh(Mw.OM.bkt,s):null})),this.xkt());for(const s of this.dkt)s.Skt(t)}MDt(t){if(t.length){this.akt=t.concat(this.akt);for(const s of t)this.lkt.set(s._c().toLowerCase(),s);for(let t=0,s=this.akt.length;t<s;++t)this.akt[t].S0(t)}}mkt(t,s){t.vkt(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=Mw.Yh(Mw.xo);e.ya(s),i[t]=e}}return i}Ix(){return this.yx}Rj(){return this.yx.Rj()}OV(){Mw.wr(this.ukt);let t=!0;for(const s of this.akt)s.Kyt()&&(this.ukt.push(s),s.EG().yb()||(t=!1));this.$T=t}QB(){return this.akt}LDt(){return this.akt.length>0}jht(t){return this.lkt.get(t.toLowerCase())||null}Ckt(t){if((t=Math.floor(+t))<0||t>=this.akt.length)throw new RangeError("invalid effect type index");return this.akt[t]}NV(t){return this.Ckt(t).Kyt()}LV(t,s){this.Ckt(t).vkt(s)}A0(){return this.ukt}z1(){return this.ukt.length>0}yb(){return this.$T}Fht(t){return this.ckt[t]}L$(t){return t<this.fkt.length?this.fkt[t]:this.ckt[t]}RV(t,s){if(t<0||t>=this.ckt.length)return null;const i=this.ckt[t];return s<0||s>=i.length?null:i[s]}kV(t,s,i){if(t<0||t>=this.ckt.length)return!1;const e=this.ckt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof Mw.xo){if(h.Qo(i))return!1;h.ko(i)}else{if(h===i)return!1;e[s]=i}return t<this.fkt.length&&this.fkt[t].Gkt(s,i),!0}xkt(){const t=this.ckt,s=this.fkt;for(let i=0,e=Math.min(t.length,s.length);i<e;++i){const e=s[i],h=t[i];for(let t=0,s=h.length;t<s;++t)e.Gkt(t,h[t])}}static Ikt(t){return t&&t instanceof Mw.xo?{t:"color",v:t.toJSON()}:t}static _kt(t){if(null===t)return NaN;if("object"==typeof t){if("color"===t.t){const s=Mw.Yh(Mw.xo);return s.ya(t.v),s}throw new Error("invalid effect parameter type")}return t}static Ekt(t){return t.map(Mw.E$.Ikt)}static Akt(t){return t.map(Mw.E$._kt)}ix(){return this.akt.map((t=>({name:t._c(),active:t.Kyt(),params:Mw.E$.Ekt(this.ckt[t.eP()])})))}hx(t){for(const s of t){const t=this.jht(s.name);t&&(t.vkt(s.active),this.ckt[t.eP()]=Mw.E$.Akt(s.params))}this.OV(),this.xkt()}}}{const ww=self.Gs;ww.pkt=class extends ww.Wh{constructor(t,s,i){super(),this._$=t,this.jc=s[0],this.qh=s[1],this.IM=i,this.Gb=null,this.Pf=!0}Vh(){this._$=null,this.Gb=null}yDt(t){const s=ww.Yh(ww.pkt,t,[this.jc,this.qh],-1);return s.Gb=this.Gb,s.Pf=this.Pf,s}Skt(t){const s=t.rS(this.jc);if(!s)throw new Error("failed to find shader program '"+this.jc+"'");this.Gb=s}WB(){return this._$}_c(){return this.qh}S0(t){this.IM=t}eP(){return this.IM}Ix(){return this._$.Ix()}Rj(){return this._$.Rj()}vkt(t){this.Pf=!!t}Kyt(){return this.Pf}EG(){return this.Gb}Dkt(){const t=[];for(let s=0,i=this.Gb.AG();s<i;++s){const i=this.Gb.DG(s);if("float"===i||"percent"===i)t.push(0);else{if("color"!==i)throw new TypeError("unknown effect parameter type");t.push(ww.Yh(ww.xo,1,1,1,1))}}return t}}}{const Sw=self.Gs;Sw.AOt=class extends Sw.Wh{constructor(t,s){super(),this.fi=t,this.Nkt=s,this._$=t.IW().WB(),this.Lkt=!0,this.R$=!0,this.Okt=!1,this.Rkt=!1,this.kkt=!1,this.Pkt=!1,this.$k=Sw.Yh(Sw.OM.UO,t.Rj().bj().A$(),{DO:(t,s)=>{const i=s.Yk(),e=i.oj();t.Lb(e.D$()),t.US(e.ZQ()),i.Fx(t),t.US(0)},NO:t=>{const s=t.d_t(),[i,e]=t.f_t();return{Pk:s,Fk:i,jk:e}},LO:t=>this.L$(t)}),this.Fkt=[],this.ukt=[],this.$T=!0,this.ckt=[],this.fkt=[],this.Skt(t.Rj().lb());for(let t=0,s=this._$.QB().length;t<s;++t)this.Fkt.push(!0);this.OV(),this._$.Mkt(this)}Vh(){this._$.wkt(this);for(const t of this.fkt)t&&t.Vh();Sw.wr(this.fkt),this.$k.Vh(),this.$k=null,Sw.wr(this.Fkt),Sw.wr(this.ukt),Sw.wr(this.ckt),this.fi=null,this._$=null}Skt(t){t.tS()&&(this.fkt=this._$.QB().map((t=>{const s=t.EG();return s.Tkt()>0?Sw.Yh(Sw.OM.bkt,s):null})))}FOt(t){let s=0;for(const i of t)this.ckt.push(this.mkt(s,i)),++s;this.xkt(),this.OV()}mkt(t,s){this.Fkt[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const s=i[t];if(Array.isArray(s)){const e=Sw.Yh(Sw.xo);e.ya(s),i[t]=e}}return i}_Nt(){for(const t of this._$.QB())this.ckt.push(t.Dkt());this.xkt()}Ix(){return this.yx}WB(){return this._$}iP(){return this._0(),this.$k}Rj(){return this.fi.Rj()}OV(){Sw.wr(this.ukt);const t=this.Nkt,s=this._$.QB(),i=this.ukt,e=this.Fkt;let h=!0;for(let t=0,n=s.length;t<n;++t)if(e[t]){const e=s[t];i.push(e),e.EG().yb()||(h=!1)}this.$T=h,t.ekt(!!i.length),this.Lkt=!0}_0(){const t=this.fi,s=this.Nkt,i=s.E0(),e=t.MB().iB(),h=0!==s.XB()||0!==s.aj().XB()||s.Bg()<0||s.Zg()<0,n=t.g_t(),r=t.gb();(this.Lkt||i!==this.R$||e!==this.Okt||h!==this.Rkt||n!==this.kkt||r!==this.Pkt||this.$k.OR())&&(this.$k.RR(this.ukt.map((t=>t.EG())),{RO:this.ukt.map((t=>t.eP())),kO:!i||r,FO:e,jO:n,zO:h}),this.Lkt=!1,this.R$=i,this.Okt=e,this.Rkt=h,this.kkt=n,this.Pkt=r)}A0(){return this.ukt}Fht(t){return this.ckt[t]}L$(t){return t<this.fkt.length?this.fkt[t]:this.ckt[t]}RV(t,s){if(t<0||t>=this.ckt.length)return null;const i=this.ckt[t];return s<0||s>=i.length?null:i[s]}kV(t,s,i){if(t<0||t>=this.ckt.length)return!1;const e=this.ckt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof Sw.xo){if(h.Qo(i))return!1;h.ko(i)}else{if(h===i)return!1;e[s]=i}return t<this.fkt.length&&this.fkt[t].Gkt(s,i),!0}xkt(){const t=this.ckt,s=this.fkt;for(let i=0,e=s.length;i<e;++i){const e=s[i],h=t[i];for(let t=0,s=h.length;t<s;++t)e.Gkt(t,h[t])}}yb(){return this.$T}jkt(){return this.ukt.some((t=>t.EG().Sb()))}NV(t){return this.Fkt[t]}LV(t,s){this.Fkt[t]=!!s}QB(){return this._$.QB()}t3(){return this._$.QB().map((t=>({name:t._c(),active:this.Fkt[t.eP()],params:Sw.E$.Ekt(this.ckt[t.eP()])})))}s3(t){for(const s of t){const t=this._$.jht(s.name);t&&(this.Fkt[t.eP()]=s.active,this.ckt[t.eP()]=Sw.E$.Akt(s.params))}this.OV(),this.xkt()}}}{const Tw=self.Gs,bw=[],xw=[],vw=[],Cw=Tw.Yh(Tw.ol),Gw=Tw.Yh(Tw.ol),Iw=Tw.Yh(Tw.Iu),_w=Tw.Yh(Tw.Rect),Ew=Tw.Yh(Tw.Rect);let Aw=null,Dw=null,Nw=null;Tw.zkt=class extends Tw.Wh{constructor(t){super(),this.Pc=t,this.Bkt=0,this.Ukt=0,this.Wkt=[],this.Qkt=0,this.Ykt=0,this.Vkt=0,this.Jkt=0,this.Hkt=new self.tz(this)}Vh(){this.Pc=null}Rj(){return this.Pc}lP(){return this.Hkt}qkt(){this.Ykt=this.Qkt,this.Qkt=0,this.Jkt=this.Vkt,this.Vkt=0}Xkt(){return this.Ykt}Zkt(){return this.Jkt}Kkt(t,s){const i=t.oj(),e=s.oj();i&&e&&i.yY()&&e.yY()&&this.Wkt.push([t,s])}Wvt(t,s,i){for(const[e,h]of this.Wkt){let n=null;if(t===e)n=h;else{if(t!==h)continue;n=e}n.Kvt(s)&&(i.includes(n)||i.push(n))}}Qvt(t,s){if(!this.Wkt.length)return!1;for(const[i,e]of this.Wkt)if(t===i&&s===e||t===e&&s===i)return!0;return!1}$kt(){Tw.wr(this.Wkt)}iz(t,s){if(!t||!s||t===s)return!1;const i=t.oj(),e=s.oj();if(!i.yY()||!e.yY())return!1;this.Qkt++;const h=i.aj(),n=e.aj();return h.S1(n)?this.tPt(i,e):this.sPt(i,e)}tPt(t,s){if(!t.tY().Tu(s.tY()))return!1;if(this.Vkt++,!t.iY().$u(s.iY()))return!1;if(t.kNt()&&s.kNt())return!1;if(t.kNt())return this.iPt(t,s);if(s.kNt())return this.iPt(s,t);if(!t.QRt()&&!s.QRt())return!0;const i=t.YRt(),e=s.YRt();return i.Sl(e,s.Wb()-t.Wb(),s.Vb()-t.Vb())}sPt(t,s){const i=t.kNt(),e=s.kNt();if(i&&!e)return this.ePt(t,s);if(e&&!i)return this.ePt(s,t);if(e||i)return!1;{const i=t.aj(),e=s.aj();Cw.m(t.YRt()),Gw.m(s.YRt());const h=Cw.fl();for(let s=0,e=h.length;s<e;s+=2){const e=s+1,n=h[s],r=h[e],[o,a]=i.MW(n+t.Wb(),r+t.Vb());h[s]=o,h[e]=a}const n=Gw.fl();for(let t=0,i=n.length;t<i;t+=2){const i=t+1,h=n[t],r=n[i],[o,a]=e.MW(h+s.Wb(),r+s.Vb());n[t]=o,n[i]=a}return Cw.gl(),Gw.gl(),this.Vkt++,Cw.Sl(Gw,0,0)}}ePt(t,s){const i=t.aj(),e=s.aj();Aw||(Aw=Tw.Yh(Tw.ol)),Dw||(Dw=Tw.Yh(Tw.Rect)),Nw||(Nw=Tw.Yh(Tw.Iu));const h=s.Wb(),n=s.Vb(),[r,o]=e.MW(h,n),[a,u]=i.gW(r,o),l=a-h,c=u-n;if(Dw.m(s.tY()),Dw.offset(l,c),!t.tY().Tu(Dw))return!1;if(Nw.m(s.iY()),Nw.offset(l,c),this.Vkt++,!t.iY().$u(Nw))return!1;Aw.m(s.YRt());const f=Aw.fl();for(let t=0,s=f.length;t<s;t+=2){const s=t+1;f[t]+=l,f[s]+=c}return Aw.gl(),this.iPt(t,s,a,u,Aw,Dw,Nw)}iPt(t,s,i,e,h,n,r){const o=void 0!==n?n:s.tY(),a=t.Wb(),u=t.Vb(),l=t.UJ().gV(),c=void 0!==i?i:s.Wb(),f=void 0!==e?e:s.Vb(),d=s.QRt(),p=void 0!==r?r:s.iY(),m=xw;l.hPt(o,m);for(let t=0,i=m.length;t<i;++t){const i=m[t],e=i.nPt();if(this.Qkt++,o.bu(e,a,u)&&(Iw.Hu(e),Iw.offset(a,u),Iw.$u(p)))if(d){const t=void 0!==h?h:s.YRt();let n=c,r=f;void 0!==h&&(n=s.Wb(),r=s.Vb());const o=i.rPt();if(o){if(this.Vkt++,o.Sl(t,n-(a+e.Za()),r-(u+e.Ka())))return Tw.wr(m),!0}else if(Cw.Ml(Iw,0,0),Cw.Sl(t,n,r))return Tw.wr(m),!0}else{const t=i.rPt();if(!t)return Tw.wr(m),!0;if(Cw.Ml(p,0,0),t.Sl(Cw,-(a+e.Za()),-(u+e.Ka())))return Tw.wr(m),!0}}return Tw.wr(m),!1}oPt(t,s,i){const e=t.AB(),h=this.Pc.QP();if(!h)throw new Error("cannot call outside event");const n=h.Adt(),r=new Tw.aPt;if(e.ddt()){i||(e.Sdt(!1),Tw.wr(e.Tdt())),n&&Tw.wr(e.bdt());for(const h of t.EB()){const t=h.oj(),o=t.aj();let a=!1;if(r.kU(o)&&t.hY()&&(a=s.some((([s,i])=>{const[e,h]=r.gW(o,s,i,t.ZQ());return t.wY(e,h)}))),a){if(i)return!1;e.Mdt(h)}else n&&e.wdt(h)}}else{let t,o=!1;n&&!h.bwt(this.Pc.Tmt())?this.Pc.Vxt()&&!e.bdt().length&&e.Tdt().length?t=e.Tdt():(t=e.bdt(),o=!0):t=e.Tdt();let a=0;for(let h=0,u=t.length;h<u;++h){const u=t[h],l=u.oj(),c=l.aj();let f=!1;if(r.kU(c)&&l.hY()&&(f=s.some((([t,s])=>{const[i,e]=r.gW(c,t,s,l.ZQ());return l.wY(i,e)}))),f){if(i)return!1;o?e.Mdt(u):t[a++]=u}else o?t[a++]=u:n&&e.wdt(u)}i||(t.length=a)}return t.eSt(),r.Vh(),!!i||e.pdt()}uPt(t,s){if(!t)return!0;for(const i of s.tNt())if(!t.S1(i))return!1;return!0}Yxt(t,s,i,e){if(s.y0())for(const h of s.qMt())this.uPt(t,h)?(h.ZDt(),h.qDt().AK(i,e)):Tw.Lh(e,h.EB());else this.uPt(t,s)?(s.ZDt(),s.qDt().AK(i,e)):Tw.Lh(e,s.EB())}fz(t,s,i,e){for(const h of s)this.Yxt(t,h,i,e)}lPt(t,s,i){const e=this.Pc.MEt();e&&this.fz(t,e.F6(),s,i)}cPt(t,s,i){const e=this.Pc.wEt();e&&this.fz(t,e.F6(),s,i)}ARt(t,s){return t.jNt()&&(!s||s.oj().ARt(t.Xbt().get("solidTags")))}nz(t){const s=t.oj();this.lPt(s.aj(),s.tY(),bw);for(const s of bw)if(this.ARt(s,t)&&this.iz(t,s))return Tw.wr(bw),s;return Tw.wr(bw),null}fPt(t,s){this.lPt(null,t,bw);for(const i of bw)if(this.ARt(i,s)&&this.dPt(t,i))return Tw.wr(bw),i;return Tw.wr(bw),null}pPt(t,s){let i=null;s&&(i=vw,Tw.wr(i));const e=t.oj();this.cPt(e.aj(),e.tY(),bw);for(const e of bw)if(e.BNt()&&this.iz(t,e)){if(!s)return Tw.wr(bw),e;i.push(e)}return Tw.wr(bw),i}mPt(t,s,i,e,h){e=e||50;const n=t.oj(),r=n.Wb(),o=n.Vb();for(let a=0;a<e;++a)if(n.jQ(r+s*a,o+i*a),n.FQ(),!this.iz(t,h))return!0;return n.jQ(r,o),n.FQ(),!1}gPt(t,s,i,e,h,n){e=e||50;const r=t.oj(),o=r.Wb(),a=r.Vb();let u=null,l=null;for(let c=0;c<e;++c)if(r.jQ(o+s*c,a+i*c),r.FQ(),!this.iz(t,u))if(u=this.nz(t),u)l=u;else if(h&&(u=n?this.iz(t,n)?n:null:this.pPt(t),u&&(l=u)),!u)return l&&this.yPt(t,s,i,l,16,!0),!0;return r.jQ(o,a),r.FQ(),!1}MPt(t,s,i,e){e=e||50;const h=t.oj(),n=h.Wb(),r=h.Vb();let o=null,a=null;for(let u=0;u<e;++u)for(let e=0;e<2;++e){const l=2*e-1;if(h.jQ(n+s*u*l,r+i*u*l),h.FQ(),!this.iz(t,o)){if(o=this.nz(t),!o)return a&&this.yPt(t,s*l,i*l,a,16,!0),!0;a=o}}return h.jQ(n,r),h.FQ(),!1}yPt(t,s,i,e,h,n){let r=2,o=!1,a=!1;const u=t.oj();let l=u.Wb(),c=u.Vb();for(;r<=h;){const h=1/r;r*=2,u.BQ(s*h*(o?1:-1),i*h*(o?1:-1)),u.FQ(),this.iz(t,e)||n&&this.nz(t)?(o=!0,a=!0):(o=!1,a=!1,l=u.Wb(),c=u.Vb())}a&&(u.jQ(l,c),u.FQ())}wPt(t,s=100){let i=0;const e=t.oj(),h=e.Wb(),n=e.Vb();let r=0,o=this.nz(t);if(!o)return!0;for(;i<=s;){let s=0,a=0;switch(r){case 0:s=0,a=-1,i++;break;case 1:s=1,a=-1;break;case 2:s=1,a=0;break;case 3:s=1,a=1;break;case 4:s=0,a=1;break;case 5:s=-1,a=1;break;case 6:s=-1,a=0;break;case 7:s=-1,a=-1}if(r=(r+1)%8,e.jQ(Math.floor(h+s*i),Math.floor(n+a*i)),e.FQ(),!this.iz(t,o)&&(o=this.nz(t),!o))return!0}return e.jQ(h,n),e.FQ(),!1}SPt(t,s,i,e){const h=t.oj(),n=h.Wb(),r=h.Vb(),o=Math.max(10,Tw.hn(s,i,n,r)),a=Tw.rn(s,i,n,r),u=e||this.nz(t);if(!u)return Tw.Kh(a+Math.PI);let l=u,c=0,f=0;const d=Tw.$h(5);let p;for(p=1;p<36;++p){const n=a-p*d;if(h.jQ(s+Math.cos(n)*o,i+Math.sin(n)*o),h.FQ(),!this.iz(t,l)&&(l=e?null:this.nz(t),!l)){c=n;break}}for(36===p&&(c=Tw.Kh(a+Math.PI)),l=u,p=1;p<36;++p){const n=a+p*d;if(h.jQ(s+Math.cos(n)*o,i+Math.sin(n)*o),h.FQ(),!this.iz(t,l)&&(l=e?null:this.nz(t),!l)){f=n;break}}if(36===p&&(f=Tw.Kh(a+Math.PI)),h.jQ(n,r),h.FQ(),f===c)return f;const m=Tw.an(f,c)/2;let g;g=Tw.ln(f,c)?Tw.Kh(c+m+Math.PI):Tw.Kh(f+m);const y=Math.cos(a),M=Math.sin(a),w=Math.cos(g),S=Math.sin(g),T=y*w+M*S,b=y-2*T*w,x=M-2*T*S;return Tw.rn(0,0,b,x)}TPt(t,s,i,e,h){if(!h)return!1;const n=h.oj();return!!n.yY()&&(this.Qkt++,_w.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!!n.tY().Tu(_w)&&(h.kNt()?this.bPt(t,s,i,e,h,n):(this.Vkt++,!!n.iY().Ku(t,s,i,e)&&(!n.QRt()||n.YRt().Ku(n.Wb(),n.Vb(),t,s,i,e)))))}bPt(t,s,i,e,h,n){const r=n.Wb(),o=n.Vb(),a=h.gV(),u=xw;Ew.set(t,s,i,e),Ew.normalize(),a.hPt(Ew,u);for(let h=0,n=u.length;h<n;++h){const n=u[h],a=n.nPt();if(this.Qkt++,_w.bu(a,r,o)&&(Iw.Hu(a),Iw.offset(r,o),Iw.Ku(t,s,i,e))){const h=n.rPt();if(!h)return Tw.wr(u),!0;if(this.Vkt++,h.Ku(r+a.Za(),o+a.Ka(),t,s,i,e))return Tw.wr(u),!0}}return Tw.wr(u),!1}dPt(t,s){if(!s)return!1;const i=s.oj();if(!i.yY())return!1;if(this.Qkt++,!i.tY().Tu(t))return!1;if(s.kNt())return this.xPt(t,s,i);if(this.Vkt++,Iw.Hu(t),!i.iY().$u(Iw))return!1;if(!i.QRt())return!0;const e=Cw;e.Hu(t,i.Wb(),i.Vb());const h=i.YRt();return e.Sl(h,0,0)}xPt(t,s,i){const e=i.Wb(),h=i.Vb(),n=s.gV(),r=xw;n.hPt(t,r);for(let s=0,i=r.length;s<i;++s){const i=r[s],n=i.nPt();if(this.Qkt++,t.bu(n,e,h)){const s=i.rPt();if(!s)return Tw.wr(r),!0;if(this.Vkt++,Cw.Hu(t,0,0),s.Sl(Cw,-(e+n.Za()),-(h+n.Ka())))return Tw.wr(r),!0}}return Tw.wr(r),!1}vPt(t,s){if(!t)return;const i=t.oj();i.yY()&&(this.Qkt++,i.tY().Tu(s.rect)&&(t.kNt()?this.CPt(t,i,s):(this.Vkt++,i.QRt()?s.GPt(t,i.Wb(),i.Vb(),i.YRt()):s.IPt(t,i.iY()))))}CPt(t,s,i){const e=s.Wb(),h=s.Vb(),n=xw;t.gV().hPt(i.rect,n);for(let r=0,o=n.length;r<o;r++){const o=n[r],a=o.nPt();if(this.Qkt++,i.rect.bu(a,e,h)){const n=o.rPt();this.Vkt++,n?i.GPt(t,e+a.Za(),h+a.Ka(),n):i._Pt(t,s.Wb(),s.Vb(),a)}}Tw.wr(n)}oz(t,s){if(t===this.Bkt&&s===this.Ukt)return;this.Bkt=t,this.Ukt=s;const i=this.Pc.g0();for(const e of i)if(e.Jz()){for(const t of e._B())t.oj()._Rt();e.qDt().EPt(t,s),e.XDt();for(const t of e._B()){const s=t.oj();s.ikt(),s.KDt()}}}uz(){return[this.Bkt,this.Ukt]}APt(t,s){this.Bkt=t,this.Ukt=s}}}{const Lw=self.Gs;Lw.IAt=class extends Lw.Wh{constructor(t,s){super(),this.xK=t,this.vK=s,this.CK=Lw.Yh(Lw.Gl)}Vh(){this.CK.Vh(),this.CK=null}EPt(t,s){if(!this.CK.El())throw new Error("grid not empty");this.xK=t,this.vK=s}GK(t,s,i){let e=this.CK.Ys(t,s);return e||(i?(e=Lw.Yh(Lw.DPt,this,t,s),this.CK.Set(t,s,e),e):null)}IK(t){const s=Math.floor(t/this.xK);return isFinite(s)?s:0}_K(t){const s=Math.floor(t/this.vK);return isFinite(s)?s:0}EK(t,s,i){if(s)for(let e=s.Za(),h=s.$a();e<=h;++e)for(let h=s.Ka(),n=s.tu();h<=n;++h){if(i&&i.xu(e,h))continue;const s=this.GK(e,h,!1);s&&(s.Xf(t),s.El()&&this.CK.Al(e,h))}if(i)for(let e=i.Za(),h=i.$a();e<=h;++e)for(let h=i.Ka(),n=i.tu();h<=n;++h)s&&s.xu(e,h)||this.GK(e,h,!0).wK(t)}AK(t,s){let i=this.IK(t.Za());const e=this._K(t.Ka()),h=this.IK(t.$a()),n=this._K(t.tu());if(isFinite(h)&&isFinite(n))for(;i<=h;++i)for(let t=e;t<=n;++t){const e=this.GK(i,t,!1);e&&e.TK(s)}}}}{const Ow=self.Gs;Ow.DPt=class extends Ow.Wh{constructor(t,s,i){super(),this.fK=t,this._a=s,this.Ea=i,this.dK=Ow.Yh(Ow.Ol)}Vh(){this.dK.Vh(),this.dK=null,this.fK=null}El(){return this.dK.El()}wK(t){this.dK.Fl(t)}Xf(t){this.dK.Al(t)}TK(t){Ow.Lh(t,this.dK.jl())}}}{const Rw=self.Gs,kw=1e-6;Rw.NPt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Rw.Rect,this.LPt=2,this.OPt=null,this.RPt=0,this.kPt=0,this.PPt=0,this.FPt=0,this.jPt=0,this.St=0,this.zPt=1,this.BPt=0,this.UPt=1,this.WPt=0}QPt(){return this.LPt<1.000001}Ff(){this.LPt=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.LPt=2,this.OPt=null,this.RPt=0,this.kPt=0,this.PPt=0,this.FPt=0,this.jPt=0,this.St=0,this.zPt=1,this.BPt=0,this.UPt=1,this.WPt=0,this}YPt(){if(!1===this.QPt())return;const t=this.dx*this.LPt,s=this.dy*this.LPt,i=Rw.sn(t,s),e=t/i,h=s/i;this.St=i-kw,this.FPt=this.x1+e*this.St,this.jPt=this.y1+h*this.St,this.RPt=Math.atan2(this.PPt,this.kPt)+Math.PI/2,this.zPt=Math.cos(this.RPt),this.BPt=Math.sin(this.RPt);const n=e*this.zPt+h*this.BPt;if(this.UPt=e-2*this.zPt*n,this.WPt=h-2*this.BPt*n,n>0){const t=Math.PI;this.RPt=Rw.Kh(this.RPt+t),this.zPt=-this.zPt,this.BPt=-this.BPt}}VPt(t,s,i,e,h){const n=Rw.Jn(this.x1,this.y1,this.x2,this.y2,s,i,e,h);n>=0&&n<this.LPt&&(this.LPt=n,this.OPt=t.zW(),this.kPt=s-e,this.PPt=i-h)}_Pt(t,s,i,e){const h=s+e.Za(),n=s+e.$a(),r=i+e.Ka(),o=i+e.tu();this.VPt(t,h,r,n,r),this.VPt(t,n,r,n,o),this.VPt(t,n,o,h,o),this.VPt(t,h,o,h,r)}IPt(t,s){const i=s.Fn(),e=s.jn(),h=s.zn(),n=s.Bn(),r=s.Un(),o=s.Wn(),a=s.Qn(),u=s.Yn();this.VPt(t,i,e,h,n),this.VPt(t,h,n,r,o),this.VPt(t,r,o,a,u),this.VPt(t,a,u,i,e)}GPt(t,s,i,e){const h=e.fl();for(let e=0,n=h.length;e<n;e+=2){const r=(e+2)%n,o=h[e]+s,a=h[e+1]+i,u=h[r]+s,l=h[r+1]+i;this.VPt(t,o,a,u,l)}}}}{const Pw=self.Gs;Pw.aPt=class{constructor(){this.JPt=new Map}Vh(){for(const t of this.JPt.values())t.HPt._l();this.JPt.clear()}qPt(t){let s=this.JPt.get(t);return void 0===s&&(s={RU:null,HPt:new Pw.Gl},this.JPt.set(t,s)),s}kU(t){const s=this.qPt(t);return null===s.RU&&(s.RU=t.UU()),s.RU}gW(t,s,i,e){if(0!==e)return t.gW(s,i,e);const h=this.qPt(t);let n=h.HPt.Ys(s,i);return void 0===n&&(n=t.gW(s,i,e),h.HPt.Set(s,i,n)),n}}}{const Fw=self.Gs,jw=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),zw=new Set(["high","low"]),Bw=self.rs,Uw=Bw.fs,Ww=(Bw.ys,Uw.create()),Qw=Fw.Yh(Fw.Iu),Yw=Fw.Yh(Fw.Rect);Fw.XPt=class extends Fw.Wh{constructor(t){super(),this.Pc=t,this.ZPt=[],this.KPt=!1,this.$Pt=null,this.tFt=null,this.sFt=null,this.iFt="high-performance",this.eFt=!1,this.hFt="auto",this.nFt=0,this.rFt=0,this.oFt="",this.aFt=0,this.uFt=0,this.lFt=0,this.cFt=0,this.fFt=0,this.dFt=0,this.sw="normalized",this.pFt=0,this.mFt=1,this.gFt=1e4,this.Lw=!0,this.yFt=0,this.dR=0,this.pR=0,this.MFt="letterbox-scale",this.wFt="letterbox-scale",this.SFt=0,this.TFt=0,this.bFt=Uw.create(),this.xFt="high",this.vFt=this.xFt,this.CFt=!1,this.GFt=[],this.IFt=new Set,this._Ft=self.C3_Shaders,this.EFt=Fw.Yh(Fw.OM.yO,{dO:()=>[this.e2(),this.h2()],pO:()=>this.AFt(),mO:t=>this.DFt(t),getTime:()=>this.Rj().cF(),gO:()=>this.Rj().pj()}),this.NFt=0,this.LFt=0,this.OFt=NaN,this.RFt=null,this.kFt=new Map,this.PFt=NaN,this.FFt=new Map,this.jFt="",this.zFt=1,this.BFt=Fw.Yh(Fw.Rect),this.UFt="",this.WFt=null,this.QFt=null,this.YFt=0,this.VFt=0,this.JFt=-1,this.HFt=0,this.qFt=t=>this.HFt=t.progress,this.XFt=null,this.ZFt={KFt:null,$Ft:null,tjt:null},this.sjt=0,this.ijt=0,this.ejt=0,this.hjt="fade-in",this.njt=null,this.rjt=new Promise((t=>this.njt=t))}ojt(t){this.iFt=t}ajt(t){this.KPt=!!t}ujt(t){this.sw=t}ljt(){return this.sw}cjt(t){this.pFt=t}fjt(t,s){this.mFt=t,this.gFt=s}djt(t){this.eFt=!!t}pjt(t){this.hFt=t}async lo(t){let s=t.canvas;this.ZPt.push({canvas:s,mjt:null}),this.Pc.fQ("runtime","window-resize",(t=>this.gjt(t))),this.Pc.fQ("runtime","fullscreenchange",(t=>this.yjt(t))),this.Pc.fQ("runtime","fullscreenerror",(t=>this.Mjt(t))),s.addEventListener("webglcontextlost",(t=>this.wjt(t))),s.addEventListener("webglcontextrestored",(t=>this.Sjt(t))),this.CFt=!!t.isFullscreen,this.oFt=t.cssDisplayMode;const i=navigator.gpu&&this.KPt;let e=!1;if(i)try{await this.Tjt(!0)}catch(t){this.bjt("WebGPU",t),this.tFt=null}if(!this.lb())try{await this.xjt(!0)}catch(t){this.bjt("WebGL",t),this.$Pt=null}if(this.lb()||(e=!0),!this.lb()&&i)try{await this.Tjt(!1)}catch(t){this.bjt("WebGPU",t),this.tFt=null}if(!this.lb())try{await this.xjt(!1)}catch(t){this.bjt("WebGL",t),this.$Pt=null}const h=this.lb();if(!h)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");h.OT(e),this.tFt&&(this.tFt.vjt=()=>this.Cjt(),this.tFt.Gjt=()=>this.Ijt()),"normalized"===this.sw?h.Xw():(h.Zw(),h.Hw(this.pFt)),this.xA(t.windowInnerWidth,t.windowInnerHeight,!0),await this.Skt()}bjt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async Tjt(t){const s={HM:this.mFt,qM:this.gFt};let i=!0;"no"===this.hFt?i=!1:"auto"===this.hFt&&(i=Fw.Zs.ni);const e={powerPreference:this.iFt,depth:this.Pc.h1(),failIfMajorPerformanceCaveat:t,_jt:this.Pc.m2(),Ejt:this.Pc.Ajt(),ND:this.Pc.Djt(),Njt:i};this.tFt=Fw.Yh(Fw.OM.Ljt,s),await this.tFt.AC(this.ZPt[0].canvas,e)}async xjt(t){const s={alpha:!0,powerPreference:this.iFt,DD:"xbox-uwp-webview2"!==this.Pc.Mz(),depth:this.Pc.h1(),ND:this.Pc.Djt(),failIfMajorPerformanceCaveat:t,HM:this.mFt,qM:this.gFt};this.eFt&&(s.LD=1),this.$Pt=Fw.Yh(Fw.OM.kD,this.ZPt[0].canvas,s),await this.$Pt.Fw()}async Ojt(){if(this._Ft){const t=[];for(const[s,i]of Object.entries(this._Ft)){i.src=i.Rjt;const e=Fw.OM.kjt.ZG();t.push(this.tFt.zN(Object.assign({IC:e,name:s},i)))}await Promise.all(t)}}async Pjt(){if(this._Ft){const t=[];for(const[s,i]of Object.entries(this._Ft)){let e;if(i.Fjt&&this.$Pt.gv()>=2)i.src=i.Fjt,e=Fw.OM.CC.KG();else{if(!i.jjt)throw new Error(`shader '${s}' does not support WebGL 1`);i.src=i.jjt,e=Fw.OM.CC.ZG()}t.push(this.$Pt.zN(Object.assign({IC:e,name:s},i)))}await Promise.all(t),this.$Pt.BN(),this.$Pt.aS()}this.$Pt.tO()&&(this.RFt=Fw.Yh(Fw.OM.TD,this.$Pt))}async Skt(){this.tFt?await this.Ojt():this.$Pt&&await this.Pjt();const t=this.lb();t.NT(this.Lw),t.tO()&&(this.OFt=0);for(const s of this.Pc.zjt()){for(const i of s.QB())i.Skt(t);s.Skt(t),s.OV()}this.sFt=new self.Iq(this.Pc,t)}Vh(){this.Pc=null,this.$Pt=null,this.ZPt.length=0}bP(){return this.Pc.bP()}gjt(t){const s=this.Pc;if(s.Bjt())return;const i=t.devicePixelRatio;this.bP()&&(self.devicePixelRatio=i),s.Ujt(i),this.CFt=!!t.isFullscreen,this.oFt=t.cssDisplayMode,this.xA(t.innerWidth,t.innerHeight),s.pj();const e=new Fw.Event("window-resize");e.data=t,s.yf().If(e);const h=new Fw.Event("resize");h.Wjt=this.Ez(),h.Qjt=this.Dz(),h.Yjt=this.Lz(),h.Vjt=this.Rz(),s.x5(h),s.yQ()&&(s.ugt()||self.MQ.Jjt())&&s.YR()}yjt(t){this.CFt=!!t.isFullscreen,this.xA(t.innerWidth,t.innerHeight,!0),this.Pc.pj()}Mjt(t){this.CFt=!!t.isFullscreen,this.xA(t.innerWidth,t.innerHeight,!0),this.Pc.pj()}xA(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.nFt===t&&this.rFt===s&&!i)return;this.nFt=t,this.rFt=s;const e=this.Hjt();"letterbox-scale"===e?this.qjt(t,s):"letterbox-integer-scale"===e?this.Xjt(t,s):"off"===e?this.Zjt(t,s):this.Kjt(t,s),this.$jt(e);for(const{canvas:t}of this.ZPt)t.width=this.lFt,t.height=this.cFt;this.Pc.zc("canvas","update-size",{marginLeft:this.fFt,marginTop:this.dFt,styleWidth:this.aFt,styleHeight:this.uFt,displayScale:this.NH()});const h=this.lb();h.xA(this.lFt,this.cFt,!0);for(const t of this.GFt)h.HL(t);Fw.wr(this.GFt),this.tzt();const n=this.Pc.UF();n.j5(),n.z5()}tzt(){this.lb().$w(this.bFt,this.e2()/this.h2())}n2(){return this.bFt}qjt(t,s){const i=this.Pc.kz(),e=this.Pc.vP(),h=this.Pc.GP(),n=e/h;if(t/s>n){const i=s*n;this.aFt=Math.round(i),this.uFt=s,this.fFt=Math.floor((t-this.aFt)/2),this.dFt=0}else{const i=t/n;this.aFt=t,this.uFt=Math.round(i),this.fFt=0,this.dFt=Math.floor((s-this.uFt)/2)}this.lFt=Math.round(this.aFt*i),this.cFt=Math.round(this.uFt*i),this.Pc.szt(e,h)}Xjt(t,s){const i=this.Pc.kz();1!==i&&(t+=1,s+=1);const e=this.Pc.vP(),h=this.Pc.GP(),n=e/h;let r;r=t/s>n?s*n*i/e:t/n*i/h,r>1?r=Math.floor(r):r<1&&(r=1/Math.ceil(1/r)),this.lFt=Math.round(e*r),this.cFt=Math.round(h*r),this.aFt=this.lFt/i,this.uFt=this.cFt/i,this.fFt=Math.max(Math.floor((t-this.aFt)/2),0),this.dFt=Math.max(Math.floor((s-this.uFt)/2),0),this.Pc.szt(e,h)}Kjt(t,s){const i=this.Pc.kz();this.aFt=t,this.uFt=s,this.lFt=Math.round(this.aFt*i),this.cFt=Math.round(this.uFt*i),this.fFt=0,this.dFt=0;const e=this.NH();this.Pc.szt(this.aFt/e,this.uFt/e)}Zjt(t,s){const i=this.Pc.kz();this.aFt=this.Pc.H0(),this.uFt=this.Pc.q0(),this.lFt=Math.round(this.aFt*i),this.cFt=Math.round(this.uFt*i),this.izt()?(this.fFt=Math.floor((t-this.aFt)/2),this.dFt=Math.floor((s-this.uFt)/2)):(this.fFt=0,this.dFt=0),this.Pc.szt(this.Pc.H0(),this.Pc.q0())}$jt(t){if("high"===this.xFt)this.dR=this.lFt,this.pR=this.cFt,this.vFt="high";else{let s,i;if("off"===this.Hjt()?(s=this.Pc.H0(),i=this.Pc.q0()):(s=this.Pc.vP(),i=this.Pc.GP()),this.lFt<s||this.cFt<i)this.dR=this.lFt,this.pR=this.cFt,this.vFt="high";else if(this.dR=s,this.pR=i,this.vFt="low","scale-inner"===t){const t=s/i,e=this.nFt/this.rFt;e<t?this.dR=this.pR*e:e>t&&(this.pR=this.dR/e)}else if("scale-outer"===t){const t=s/i,e=this.nFt/this.rFt;e>t?this.dR=this.pR*e:e<t&&(this.pR=this.dR/e)}}}Rj(){return this.Pc}ezt(){return this.ZPt[0].canvas}A$(){return this.EFt}izt(){return this.CFt}hzt(){return this.oFt}nzt(t){if(!jw.has(t))throw new Error("invalid fullscreen mode");this.MFt=t;const s=this.Pc.UF();s.j5(),s.z5()}AH(){return this.MFt}rzt(t){if(!jw.has(t))throw new Error("invalid fullscreen mode");this.wFt=t;const s=this.Pc.UF();s.j5(),s.z5()}ozt(){return this.wFt}Hjt(){return this.izt()?this.ozt():this.AH()}azt(t){if(!zw.has(t))throw new Error("invalid fullscreen scaling quality");this.xFt=t,this.Pc.UF().j5()}uzt(){return this.xFt}g2(){return this.vFt}static lzt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}yH(){return this.nFt}MH(){return this.rFt}e2(){return this.dR}h2(){return this.pR}NT(t){this.Lw=!!t}czt(t){this.yFt=t}rK(){return this.yFt}fzt(){return this.lb().KA()}wjt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.GFt=[],this.IFt.clear(),this.EFt.Ob(),this.$Pt.Ob(),this.Pc.x4()}Cjt(){console.log("[Construct] WebGPU device lost"),this.GFt=[],this.IFt.clear(),this.EFt.Ob(),this.Pc.x4()}async Sjt(t){await this.$Pt.Rb(),await this.Skt(),await this.Pc.dzt(),console.log("[Construct] WebGL context restored")}async Ijt(){await this.Skt(),await this.Pc.dzt(),console.log("[Construct] WebGPU device restored")}pzt(){return this.$Pt}mzt(){return this.tFt}lb(){return this.tFt||this.$Pt}vDt(){return this.sFt}Tz(){let t="";return t=this.Pc.mzt()?"webgpu":"webgl"+this.Pc.pzt().gv(),this.Pc.lb().RT()&&(t+="-software"),t}xz(){return this.Pc.mzt()?this.Pc.mzt().gzt():this.Pc.pzt().uO()}vW(){return"low"===this.vFt?1/this.Pc.kz():this.NH()}NH(){const t=this.Hjt();if("off"===t||"crop"===t)return 1;const s=this.Pc.vP(),i=this.Pc.GP(),e=s/i,h=this.lFt/this.cFt;return"scale-inner"!==t&&h>e||"scale-inner"===t&&h<e?this.uFt/i:this.aFt/s}W2(){return"low"===this.g2()?1:this.NH()}B2(){return"low"===this.g2()?1:this.Pc.kz()}yzt(t,s){this.SFt=t,this.TFt=s}fX(t,s,i,e=!0){s=s||this.dR,i=i||this.pR;const h=s/2+this.SFt,n=i/2+this.TFt;if(e){let e=this.n2();s===this.dR&&i===this.pR||(t.$w(Ww,s/i),e=Ww),t.WN(e)}const r=t.eS(h,n,t.zw(i),h,n,0,i);t.qN(r)}Mzt(t,s=!0){const i=this.Ez(),e=this.Dz(),h=i/2,n=e/2;s&&t.WN(this.n2());const r=t.eS(h,n,t.zw(e),h,n,0,e);t.qN(r)}Lz(){return this.lFt}Rz(){return this.cFt}Ez(){return this.aFt}Dz(){return this.uFt}Cz(){return this.fFt}Iz(){return this.dFt}n4(){return this.ZPt.length}wzt(){return"undefined"!=typeof OffscreenCanvas&&this.ezt()instanceof OffscreenCanvas&&("Chromium"!==Fw.Zs.ei||Fw.Zs.ii>=124)}async _4(t,s=!1){if(t<1)throw new Error("invalid HTML layer count");if(this.ZPt.length===t)return;const i={count:t,layersDomState:this.Pc.UF().jF().v0().filter((t=>t.jU())).map((t=>t.D1())),immediate:s,marginLeft:this.fFt,marginTop:this.dFt,styleWidth:this.aFt,styleHeight:this.uFt};let e;if(e=this.bP()?await this.Pc.gj("canvas","set-html-layer-count",i):self.c3_runtimeInterface._OnSetHTMLLayerCount(i),t<this.ZPt.length)this.ZPt.length=t;else for(const t of e.addedCanvases){t.width=this.lFt,t.height=this.cFt;const s=this.wzt()?"bitmaprenderer":"2d",i=t.getContext(s);if(!i)throw new Error(`failed to acquire '${s}' canvas context`);this.ZPt.push({canvas:t,mjt:i})}this.Pc.pj()}w5(t){if(t>=this.ZPt.length)return;const s=this.ezt(),i=this.ZPt[t].mjt;this.wzt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}M2(t){t.depth=this.Pc.h1();const s=this.GFt,i=s.findIndex((s=>s.wC(t)));let e;return-1!==i?(e=s[i],s.splice(i,1)):e=this.lb().WL(t),this.IFt.add(e),e}N$(t){if(!this.IFt.has(t))throw new Error("render target not in use");this.IFt.delete(t),this.GFt.push(t)}AFt(){const t={qx:this.Pc.IP()};return"low"===this.g2()&&(t.width=this.e2(),t.height=this.h2()),this.M2(t)}DFt(t){this.N$(t)}*Szt(){for(const t of this.Pc.UF().k5())for(const s of t.nU()){const t=this.kFt.get(s);t&&(yield t)}}l2(t){if(!this.lb().tO())return null;let s=this.kFt.get(t);return s||(s={PQ:t,name:t._c(),Tzt:Fw.Yh(Fw.OM.TD,this.$Pt),bzt:0,xzt:0,vzt:0},this.kFt.set(t,s)),s.Tzt}Czt(){const t=this.lb();if(t.tO()&&0===this.LFt){this.LFt=t.AT(),this.PFt=NaN;for(const t of this.Szt())t.bzt=NaN}}Gzt(){this.$Pt&&this.$Pt.tO()&&this.Izt(),this.tFt&&this.tFt.tO()&&this._zt()}Izt(){if(isNaN(this.PFt)&&(this.PFt=this.RFt._D(this.NFt,this.LFt),!isNaN(this.PFt))){if(this.Pc.yQ())for(const t of this.Szt())if(t.bzt=t.Tzt._D(this.NFt,this.LFt),isNaN(t.bzt))return;if(this.RFt.ED(this.LFt),this.OFt=Math.min(this.PFt,1),this.Pc.yQ()){const t=new Map;for(const s of this.Szt())s.Tzt.ED(this.LFt),s.xzt=Math.min(s.bzt,1),t.set(s.PQ,s.xzt);for(const s of this.Szt()){const i=s.PQ,e=(t.get(i)||0)-i._U().reduce(((s,i)=>s+(t.get(i)||0)),0);s.vzt=Fw.Zh(e,0,1)}const s=this.Pc.jF(),i=this.OFt-s.v0().reduce(((s,i)=>s+(t.get(i)||0)),0);self.MQ.Ezt(Fw.Zh(i,0,1),this.OFt,[...this.Szt()])}this.NFt=this.LFt,this.LFt=0}}Azt(){return this.RFt}_zt(){if(0===this.LFt)return;for(let t=this.NFt;t<this.LFt;++t){const s=this.FFt.get(t);if(s&&!s.lD())return}const t=this.Pc.jF(),s=Fw.bo(t.K3()+1,0);let i=0;for(let t=this.NFt;t<this.LFt;++t){const e=this.FFt.get(t);if(!e)continue;const h=e.cD();let n=BigInt(0),r=BigInt(0);const o=BigInt(0);for(let t=0,i=Math.min(s.length,h.length/2);t<i;++t){const i=h[2*t],e=h[2*t+1];i!==o&&(n===o||i<n)&&(n=i),e>r&&(r=e);const a=Number(e-i)/1e9;s[t]+=a}i+=Number(r-n)/1e9}if(this.OFt=Fw.Zh(i,0,1),this.Pc.yQ()){const i=t.nU(),e=new Map;for(let t=0,h=Math.min(i.length,s.length-1);t<h;++t){const h=s[t+1];e.set(i[t],h)}const h=[],n=new Map;for(const[t,s]of e){const i=[...t.AU()].reduce(((t,s)=>t+(e.get(s)||0)),0);n.set(t,i),h.push({name:t._c(),vzt:Fw.Zh(s,0,1),xzt:Fw.Zh(i,0,1)})}const r=this.OFt-t.v0().reduce(((t,s)=>t+(n.get(s)||0)),0);self.MQ.Ezt(Fw.Zh(r,0,1),this.OFt,h)}for(let t=this.NFt;t<this.LFt;++t)this.FFt.delete(t);this.NFt=this.LFt,this.LFt=0}Dzt(t){this.FFt.set(this.tFt.AT(),t)}vF(){return this.OFt}xj(t,s,i,e,h,n){return this.jFt=t,this.zFt=s,this.BFt.Wa(i,e,h,n),this.WFt||(this.WFt=new Promise((t=>{this.QFt=t}))),this.WFt}Nzt(){if(!this.jFt)return;let t=this.ezt();const s=this.BFt,i=Fw.Zh(Math.floor(s.Za()),0,t.width),e=Fw.Zh(Math.floor(s.Ka()),0,t.height);let h=s.width();h=0===h?t.width-i:Fw.Zh(Math.floor(h),0,t.width-i);let n=s.height();if(n=0===n?t.height-e:Fw.Zh(Math.floor(n),0,t.height-e),(0!==i||0!==e||h!==t.width||n!==t.height)&&h>0&&n>0){const s=Fw.lo(h,n);s.getContext("2d").drawImage(t,i,e,h,n,0,0,h,n),t=s}Fw.co(t,this.jFt,this.zFt).then((t=>{this.UFt&&URL.revokeObjectURL(this.UFt),this.UFt=URL.createObjectURL(t),this.WFt=null,this.QFt(t)})),this.jFt="",this.zFt=1}Lzt(){return this.UFt}Ozt(t){t?this.YFt++:this.YFt--}Rzt(){return this.YFt>0}kzt(t){const s=this.lb();if(2===t)this.XFt=Fw.Yh(Fw.OM.UT,this.lb()),this.XFt.$E("Arial"),this.XFt.tA(16),this.XFt.pA("center"),this.XFt.gA("center"),this.XFt.xA(300,200);else if(0===t){const t=this.Pc.Pzt();t&&t.hX(s).catch((t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t)))}else 4===t&&(this.Fzt("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=").then((t=>{"done"===this.hjt?s.hC(t):this.ZFt.KFt=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.jzt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFZklEQVR42u2aO68SQRTHR3leQeI3wMRo7CDGZyyg0MTEYlFbEylMLC+JsQYfvTZWFpgYKwuImlhqYiyNfgOsbRBYefn4O+ecGdgF0caEMbv/5N6BYRY4vzNzzplZVKxYsWLFihUrViwHVcIBJdoDqAjqvwGwF6LJ6YgDAI5EHQBuRR3AvBZNAENu73pAI8oAVB74GWkA6gOG0QawF2hFGkACKEcaQA7yna804Z9UG5U6A9ys2SfH8Y2vaWNyQrfm8aC8AiBdgX9aOSkGIBIAl6Qq4pcm3L8r6SELfNQmF6E1oI4iDu4CP+w1xuIEtPx6CEC2A61HSvX1lSwPB5UbCgIgQ/d7YDXIFN9Ex/PUyNM7YD1jAEfAALIlqSO6SqsN0igEoAfSsKWS5i3303JzQ6tLoAfRjF3eEm+NqclgovsMn2GNAJwTAPcgOsyjjIIAFq/ngbrJuS3lhpYA0uSVnAecVYU28EZbzm7Kmhl/jeqEl8ATlauweUXtdD1AX0PtCxlWoQGpYysARl11g17Pmu69mCtHtASwA9Tp30P9uMCeLeKBeMuXUPBVqSZbmSvhGwN4w1NDrHoOdFXKM/EhBGBGQbNPMaSDKvXdx0g5oiWAXbKzZ1zTx9CYrPZB5u0HPFb7Tb38kswsmiDZkzbnaZsTZkAmBOApxxDqqshyqmiAjmgBoADyStt8swy56xrG7K0Se7qDsu72a4uAWDRjmzpIilVVTcvvcn70ggA+Smmgx72WCdLRMB2RBfCiQ0EqZR2Xo+m9g+9s13VtGb3U0kiox8THIr6wrSA+TGqq/wabCiH2/g4vp5w7SSC4HfZbKs2z3fooweuh42cwpRjp06KY2jxetgDSNqInMdIDxhsAyMIv8AckgJpyRAEARzng1ezW6KvK0rMUBmnye57+VfDF2vdGALA19q2+6wFfNwJIYmCm2A5myhUtAYx46duQ2Cdfd1DX9o1T3pxi4ZiDu9UBBiAGWg10X3UjgH1kdhNVyaiuyAKYnZRUaPNzj/LgBw4EVdXk5X+eYuQ6gJ0wgIMbAIjfZY309TxxRTYILr5jEMAuqtrwhm7LtCMIAXiwDkBf3PwzAFkHelRDuaI/Akhiqr1V1xAe69lQ/juAv8+APHzKkXXligIA1mNABiPtrZpuv6kOutp1gfxtAWQCZe0fY8Bes8Gop+E7kwRCAFazgCpgkvIm1I5SmHNvdQWA+NTqb1lAXtijHzijMIBCoA44SDWOn8ZPamdpUxRN1wAkAju7v9UBUi8m9SBnFAaQC1aCjOE2u7SJq5iKDWsAssGyTkrFzZWgUq8x7qGqnFEYgN0L2AK+guN4wO1nVHm03w0BEFsvKqt98Gub9wJVDoUDyq7OaAVA30S0Xem+Dw9ldmwbDZnuEgWfl5cAKuaa3CG1YTd42O4GufFLmogzWgGwD3go9f1Y4hbQZbdJcEiV5OAr7U2WAC4Dz6i9job2vKyBZhCAXNOXt0oB+iPdURiAPRFqGkfmgbnxHmoyJfD9o0q0MWwtAGQBvFfqDO8m+r8/EWrJiZCw0YzcURhA6ExQZsKIl7TtKMDogswAVn+5nbQ7gxCAIUSHzerCVLmjMIDQqbAYPjXBcWTznD3hFQCCSXRUHEwatQMAZkJ12DXlgDunIWEAolfBX0tI6RcsAHJi4DvJAqFrvtcWc8SvFwMABnJf4JZ57tBpyBqAtTtDFZOxXi9uZKROaVPLwTQo1+CtfdyhO0MhAKE7Q/spGEZZWXeOxLejvDtH4ttR0qHTkK2ojwcq0urgk4qyEi6dhmxB6Wa0YyAAZ34asRUB8F35ZcBWxDuGKKuIJypWrFixYsX6B/oFRYsi2zOzWJcAAAAASUVORK5CYII=").then((t=>{"done"===this.hjt?s.hC(t):this.ZFt.$Ft=t})).catch((t=>console.warn("Failed to load splash image: ",t))),this.jzt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then((t=>{"done"===this.hjt?s.hC(t):this.ZFt.tjt=t})).catch((t=>console.warn("Failed to load splash image: ",t))))}async Fzt(t){t=new URL(t,this.Pc.zzt()).toString();const s=await Fw.eo(t),i=await this.Pc.Bzt(s,2048,2048);return await this.lb().UL(i,{$x:"high"})}async jzt(t){t=new URL(t,this.Pc.zzt()).toString();const s=await Fw.eo(t);return await this.lb().UL(s,{$x:"high"})}Uzt(){this.Pc.zc("runtime","hide-cordova-splash")}Wzt(){this.VFt=Date.now(),this.Pc.yf().addEventListener("loadingprogress",this.qFt),this.JFt=requestAnimationFrame((()=>this.Qzt())),3!==this.Pc.Yzt()&&this.Uzt()}async Vzt(){const t=this.lb();this.HFt=1;const s=this.Pc.Yzt();4===s&&await this.rjt,this.njt=null,this.rjt=null,-1!==this.JFt&&(cancelAnimationFrame(this.JFt),this.JFt=-1),this.Pc.yf().removeEventListener("loadingprogress",this.qFt),this.qFt=null,this.XFt&&(this.XFt.Vh(),this.XFt=null),this.Pc.Jzt(),t.NL(),this.ZFt.KFt&&(t.hC(this.ZFt.KFt),this.ZFt.KFt=null),this.ZFt.$Ft&&(t.hC(this.ZFt.$Ft),this.ZFt.$Ft=null),this.ZFt.tjt&&(t.hC(this.ZFt.tjt),this.ZFt.tjt=null),t.DL(0,0,0,0),t._T(),this.hjt="done",this.NFt=t.AT(),3===s&&this.Uzt()}Qzt(){if(-1===this.JFt)return;const t=this.lb();t.NL(),this.JFt=-1;const s=this.Pc.aP().AZ(),i=this.Pc.Yzt();if(3!==i&&(this.Mzt(t),t.DL(0,0,0,0),t.eL(),t.aS(),t.nL(null)),0===i)this.Hzt(s);else if(1===i)this.qzt(s,120,0);else if(2===i)this.Xzt(s);else if(3===i)Fw.mr();else{if(4!==i)throw new Error("invalid loader style");this.Zzt(s)}t._T(),this.JFt=requestAnimationFrame((()=>this.Qzt()))}Xzt(t){t?this.XFt.dA(1,0,0):this.XFt.dA(.6,.6,.6),this.XFt.Bc(Math.round(100*this.HFt)+"%");const s=this.aFt/2,i=this.uFt/2;Qw.ku(s-150,i-100,s+150,i+100);const e=this.lb();e.nL(this.XFt.lC()),e.$S(Qw,this.XFt.tD())}qzt(t,s,i){const e=this.lb();e.pS(),t?e.sL(1,0,0,1):e.sL(.118,.565,1,1);const h=this.aFt/2,n=this.uFt/2,r=s/2;Yw.Wa(h-r,n-4+i,Math.floor(s*this.HFt),8),e.Rect(Yw),Yw.Wa(h-r,n-4+i,s,8),Yw.offset(-.5,-.5),Yw.lu(.5,.5),e.sL(0,0,0,1),e.hT(Yw),Yw.lu(1,1),e.sL(1,1,1,1),e.hT(Yw)}Hzt(t){const s=this.lb(),i=this.Pc.Pzt();if(!i)return void this.qzt(t,120,0);const e=i.lC();if(!e)return void this.qzt(t,120,0);const h=e.Bg(),n=e.Zg(),r=this.aFt/2,o=this.uFt/2,a=h/2,u=n/2;Qw.ku(r-a,o-u,r+a,o+u),s.nL(e),s.Iu(Qw),this.qzt(t,h,u+16)}Zzt(t){const s=this.lb(),i=this.ZFt.KFt,e=this.ZFt.$Ft,h=this.ZFt.tjt,n=Date.now();0===this.sjt&&(this.VFt=n);const r=this.Pc.Kzt()||this.Pc.$zt()&&!this.Pc.tBt(),o=r?0:200,a=r?0:3e3;let u=1;"fade-in"===this.hjt?u=Math.min((n-this.VFt)/300,1):"fade-out"===this.hjt&&(u=Math.max(1-(n-this.ejt)/300,0)),s.pS(),s.sL(.231*u,.251*u,.271*u,u),Yw.set(0,0,this.aFt,this.uFt),s.Rect(Yw);const l=Math.ceil(this.aFt),c=Math.ceil(this.uFt);let f,d;this.uFt>256?(s.sL(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),Yw.Wa(0,.8*c-d/2,f,d),s.Rect(Yw),t?s.sL(u,0,0,u):s.sL(.161*u,.953*u,.816*u,u),f=l*this.HFt,Yw.Wa(.5*l-f/2,.8*c-d/2,f,d),s.Rect(Yw),s.sL(u,u,u,u),s.aS(),e&&(f=1.5*Fw.Zh(.22*c,105,.6*l),d=f/8,Yw.Wa(.5*l-f/2,.2*c-d/2,f,d),s.nL(e),s.Rect(Yw)),i&&(f=Math.min(.395*c,.95*l),d=f,Yw.Wa(.5*l-f/2,.485*c-d/2,f,d),s.nL(i),s.Rect(Yw)),h&&(f=1.5*Fw.Zh(.22*c,105,.6*l),d=f/8,Yw.Wa(.5*l-f/2,.868*c-d/2,f,d),s.nL(h),s.Rect(Yw))):(s.sL(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),Yw.Wa(0,.85*c-d/2,f,d),s.Rect(Yw),t?s.sL(u,0,0,u):s.sL(.161*u,.953*u,.816*u,u),f=l*this.HFt,Yw.Wa(.5*l-f/2,.85*c-d/2,f,d),s.Rect(Yw),s.sL(u,u,u,u),s.aS(),i&&(f=.55*c,d=f,Yw.Wa(.5*l-f/2,.45*c-d/2,f,d),s.nL(i),s.Rect(Yw))),this.sjt++,"fade-in"===this.hjt&&n-this.VFt>=300&&this.sjt>=2&&(this.hjt="wait",this.ijt=n),"wait"===this.hjt&&n-this.ijt>=a&&this.HFt>=1&&(this.hjt="fade-out",this.ejt=n),("fade-out"===this.hjt&&n-this.ejt>=300+o||r&&this.HFt>=1&&n-this.VFt<500)&&this.njt()}}}{const Vw=self.Gs,Jw=self.MQ,Hw=(self.assert,self.QH),qw={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let Xw=!0;Vw.sBt=class extends Vw.Wh{constructor(t){t=Object.assign({},qw,t),super(),this.iBt=t.messagePort,this.eBt=t.runtimeBaseUrl,this.hBt=t.previewUrl,this.nBt=!!t.headless,this.rBt=!!t.hasDom,this.oBt=!!t.isInWorker,Xw=t.ife,this.aBt=!!t.useAudio,this.uBt=t.exportType,this.lBt=t.isNWjs,this.LX=!!t.isiOSCordova,this.cBt=!!t.isiOSWebView,this.fBt=!!t.isWindowsWebView2,this.dBt=!!t.isAnyWebView2Wrapper,this.pBt=!!t.isFBInstantAvailable,this.mBt=!("preview"!==this.uBt||!t.isDebug),this.gBt=this.mBt,this.yBt=this.mBt,this.MBt=0,this.wBt=[],this.SBt=[],this.TBt=!1,this.bBt="",this.xBt="",this.vBt="",this.CBt="",this.GBt=0,this.IBt=0,this._Bt=0,this.bR=self.devicePixelRatio,this.EBt=0,this.ABt=0,this.DBt=0,this.NBt=0,this.LBt=0,this.OBt=!1,this.gM=!0,this.RBt=!1,this.kBt=!1,this.PBt=!1,this.FBt=null,this.JZ=Vw.Yh(Vw.EX,this,t),this.r3=Vw.Yh(Vw._5,this),this.Ndt=Vw.Yh(Vw.Ept,this),this.jBt=Vw.Yh(Vw.Bz,this,t.wrapperComponentIds),this.zBt=Vw.Yh(Vw.zkt,this),this.h9=Vw.Yh(Vw.B5,this),this.BBt=Vw.Yh(Vw.Zut,this),this.UBt=Vw.Yh(Vw.$ut,this),this.plt=Vw.Yh(Vw.olt,this),this.cM=Vw.Yh(Vw.$y,{iM:t=>this.WBt(t),hM:t=>this.QBt(t)}),this.YBt=new Map,this.VBt=[],this.JBt=new Map,this.HBt=new Map,this.qBt=0,this.XBt=[],this.ZBt=new Set,this.KBt=[],this.$Bt=[],this.tUt=new Map,this.sUt=!1,this.iUt=!1,this.eUt=0,this.hUt=0,this.nUt=new Map,this.rUt=new Set,this.oUt=new Set,this.aUt=[],this.uUt=[],this.lUt=null,this.cUt=!1,this.fUt="vsync",this.av="trilinear",this.dUt=!1,this.pUt=!0,this.mUt=!1,this.gUt=!1,this.yUt=null,this.MUt={wUt:t=>{this.JFt=-1,this.SUt=-1,this.f8(t)},TUt:t=>{this.SUt=-1,this.f8(t,!1,"skip-render")},bUt:()=>{this.JFt=-1,this.YR()}},this.JFt=-1,this.SUt=-1,this.xUt=0,this.vUt=0,this.CUt=!1,this.GUt=!1,this.IUt=!1,this._Ut=!0,this.EUt=!0,this.AUt=!1,this.DUt=0,this.NUt=new Vw.Wd(1),this.LUt=()=>Math.random(),this.OUt=0,this.RUt=0,this.kUt=0,this.PUt=0,this.FUt=0,this.xNt=1,this.jUt=1/30,this.zUt=0,this.BUt=Vw.Yh(Vw.Kf),this.UUt=Vw.Yh(Vw.Kf),this.WUt=Vw.Yh(Vw.Kf),this.QUt=new Map,this.YUt=-1,this.VUt=0,this.JUt=0,this.HUt=-1,this.qUt=0,this.XUt=0,this.ZUt=0,this.KUt=!1,this.$Ut="",this.tWt=!1,this.sWt="",this.GQ=null,this.iWt="",this.eWt=null,this.hWt=null,this.CAt=Vw.Yh(Vw.Event.yf),this.nWt=new Map,this.rWt=new Map,this.oWt=0,this.aWt=!1,this.uWt=!1,this.lWt=!1,this.cWt=[],this.fWt={pretick:Vw.Yh(Vw.Event,"pretick",!1),tick:Vw.Yh(Vw.Event,"tick",!1),tick2:Vw.Yh(Vw.Event,"tick2",!1),instancecreate:Vw.Yh(Vw.Event,"instancecreate",!1),instancedestroy:Vw.Yh(Vw.Event,"instancedestroy",!1),beforelayoutchange:Vw.Yh(Vw.Event,"beforelayoutchange",!1),layoutchange:Vw.Yh(Vw.Event,"layoutchange",!1)},this.fWt.instancecreate.IV=null,this.fWt.instancedestroy.IV=null,this.j3=Vw.Yh(Vw.Event.yf),this.dWt=null;const s=(t,s)=>Vw.TNt.okt(this,t,s);this.pWt=Vw.Yh(Vw.ad,s),this.mWt=Vw.Yh(Vw.ad,s),this.gWt=Vw.Yh(Vw.ad,s),this.yWt=Vw.Yh(Vw.MWt,this,t.jobScheduler),t.canvas&&(this.lUt=Vw.Yh(Vw.XPt,this)),this.iBt.onmessage=t=>this._OnMessageFromDOM(t.data),this.fQ("runtime","visibilitychange",(t=>this.wWt(t))),this.fQ("runtime","wrapper-extension-message",(t=>this.SWt(t))),this.fQ("runtime","get-remote-preview-status-info",(()=>this.TWt())),this.fQ("runtime","js-invoke-function",(t=>this.emt(t))),this.fQ("runtime","go-to-last-error-script",self.goToLastErrorScript),this.fQ("runtime","offline-audio-render-completed",(t=>this.bWt(t))),this.CAt.addEventListener("window-blur",(t=>this.xWt(t))),this.CAt.addEventListener("window-focus",(()=>this.vWt())),this.h9.T6(),this.UBt.T6(),this.CWt=null,this.GWt=new WeakMap,this.IWt={keyboard:null,XF:null,ZF:null,KF:null},this._Wt=new WeakMap,this.EWt=[]}static AC(t){return Vw.Yh(Vw.sBt,t)}Vh(){Vw.wr(this.VBt),this.JBt.clear(),this.HBt.clear(),this.r3.Vh(),this.r3=null,this.Ndt.Vh(),this.Ndt=null,this.jBt.Vh(),this.jBt=null,this.JZ.Vh(),this.JZ=null,this.zBt.Vh(),this.zBt=null,this.h9.Vh(),this.h9=null,this.BBt.Vh(),this.BBt=null,this.UBt.Vh(),this.UBt=null,this.plt.Vh(),this.plt=null,this.cM.Vh(),this.cM=null,this.lUt&&(this.lUt.Vh(),this.lUt=null),this.CAt.Vh(),this.CAt=null,this.AWt=null}_OnMessageFromDOM(t){const s=t.type;if("event"===s)this.DWt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.NWt(t)}}DWt(t){if(!this.lWt)return void this.cWt.push(t);const s=t.component,i=t.handler,e=t.data,h=t.dispatchOpts,n=!(!h||!h.dispatchRuntimeEvent),r=!(!h||!h.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(n){const t=new Vw.Event(i);t.data=e,this.CAt.If(t)}if(r){const t=new Vw.Event(i,!0);for(const[s,i]of Object.entries(e))t[s]=i;this.x5(t)}}const a=this.nWt.get(s);if(!a)return void(n||r||console.warn(`[Runtime] No DOM event handlers for component '${s}'`));const u=a.get(i);if(!u)return void(n||r||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`));let l=null;try{l=u(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.LWt(o,!1,""+t))}null!==o&&(l&&l.then?l.then((t=>this.LWt(o,!0,t))).catch((t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.LWt(o,!1,""+t)})):this.LWt(o,!0,l))}LWt(t,s,i){this.iBt.postMessage({type:"result",responseId:t,isOk:s,result:i})}NWt(t){const s=t.responseId,i=t.isOk,e=t.result,h=this.rWt.get(s);i?h.resolve(e):h.reject(e),this.rWt.delete(s)}fQ(t,s,i){let e=this.nWt.get(t);if(e||(e=new Map,this.nWt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}zc(t,s,i,e){this.iBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}gj(t,s,i,e){const h=this.oWt++,n=new Promise(((t,s)=>{this.rWt.set(h,{resolve:t,reject:s})}));return this.iBt.postMessage({type:"event",component:t,handler:s,data:i,responseId:h},e),n}sq(t,s,i,e=-1){this.zc("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}iq(t,s,i){const e=this.oWt++,h=new Promise(((t,s)=>{this.rWt.set(e,{resolve:t,reject:s})}));return this.sq(t,s,i,e),h}SWt(t){if(-1!==t.asyncId){const s=t.asyncId;this.rWt.get(s).resolve(t.params),this.rWt.delete(s)}else this.DWt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}AQ(t,s,i){this.fQ("wrapper-extension:"+t,s,i)}_Q(t){return this.jBt._Q(t)}OWt(t){if(!this.yQ())throw new Error("not in debug mode");this.zc("runtime","post-to-debugger",t)}async GNt(t){Vw.Hxt(this),this.yQ()?await Jw.GNt(this):self.MQ&&self.MQ.RWt(this);const s=await this.JZ.io("data.json");if(await this.kWt(s),await this.PWt(t),this.Kzt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.pzt()){const t=this.pzt();console.info(`[C3 runtime] Hosted in ${this.bP()?"worker":"DOM"}, rendering with WebGL ${t.gv()} [${t.uO()}]`)}else this.mzt()&&console.info(`[C3 runtime] Hosted in ${this.bP()?"worker":"DOM"}, rendering with WebGPU [${this.mzt().gzt()}]`);this.lb().RT()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.lWt=!0;for(const t of this.cWt)this.DWt(t);Vw.wr(this.cWt),this.lUt&&this.lUt.Wzt();for(const s of t.runOnStartupFunctions)this.wBt.push(this.FWt(s));if(await Promise.all([this.JZ._Z(),...this.wBt]),Vw.wr(this.wBt),!this.JZ.AZ())return this.lUt&&await this.lUt.Vzt(),await this.CAt.Cf(new Vw.Event("beforeruntimestart")),await this.NL(),this.iBt.postMessage({type:"runtime-ready"}),this;this.lUt&&this.lUt.Uzt()}async FWt(t){try{await t(this.CWt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async kWt(t){const s=t.project;this.bBt=s[0],this.xBt=s[16],this.vBt=s[31],this.CBt=s[38],this.GBt=s[36];const i=s[39]||"loading-logo.png";this.dUt=!!s[9],this.IBt=this.DBt=s[10],this._Bt=this.NBt=s[11],this.zBt.APt(this.IBt,this._Bt),this.EBt=this.IBt/2,this.ABt=this._Bt/2,this.fUt=s[37],this.cUt=!!s[40],this.av=s[14],this.RBt=s[15],this.kBt=s[42],this.PBt=s[17],this.OBt=!!s[18],this.LBt=s[19],this.hUt=s[21],this.mUt=s[22];const e=this.JZ;if(e.nZ(s[45]),e.PZ(s[7],s[25]),e.oZ(s[8]),e.aZ(s[32]),e.lZ(s[28]),e.LZ(s[29]),0===this.LBt){let t="";t="flat"===e.Wj()?e.cZ()+i:i,t&&(this.FBt=e.TZ({url:t}))}this.lUt&&(this.lUt.nzt(Vw.XPt.lzt(s[12])),this.lUt.azt(s[23]?"high":"low"),this.lUt.NT(0!==s[24]),this.lUt.ojt(s[34]),this.lUt.czt(s[41]),this.lUt.ajt(s[13]),this.lUt.ujt(s[30]),this.lUt.fjt(s[46],s[47]),this.lUt.cjt(s[26]),this.lUt.djt(s[48]),this.lUt.pjt(s[50]));const h=s[43];h&&await this.jWt(h),this.zWt(),this.jBt.lEt(),this.aUt=self.BWt();const n=s[2];for(const t of n[1])this.jBt.cEt(t);for(const t of n[0])this.jBt.uEt(t);this.aUt=self.BWt(),this.UWt(),this.jBt.yEt();for(const t of s[3]){const s=Vw.hlt.AC(this,this.VBt.length,t);this.VBt.push(s),this.JBt.set(s._c().toLowerCase(),s),this.HBt.set(s.C0(),s)}for(const t of s[4])this.VBt[t[0]].uDt(t);for(const t of s[27]){const s=t.map((t=>this.VBt[t]));this.XBt.push(Vw.Yh(Vw.lNt,this,s))}this.WWt();for(const t of this.VBt)t.cDt();for(const t of s[5])this.r3.AC(t);const r=s[1];if(r){const t=this.r3.D5(r);t&&this.r3.E5(t)}for(const t of s[35])this.BBt.AC(t);for(const t of s[33])this.h9.AC(t);for(const t of s[44])this.UBt.AC(t);this.UBt.ilt()||(this.UBt.Vh(),this.UBt=null);for(const t of s[49])this.plt.AC(t);this.plt.flt()||(this.plt.Vh(),this.plt=null);for(const t of s[6])this.Ndt.AC(t);this.Ndt.rmt(),this.QWt(),Vw.wr(this.aUt),this.BB();let o="any";const a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.zc("runtime","set-target-orientation",{targetOrientation:o})}async jWt(t){const s=t.format;"image-sequence"===s?this.yUt=new self.YWt(this,t):"image-sequence-gif"===s?this.yUt=new self.VWt(this,t):"webm"===s?this.yUt=new self.JWt(this,t):"mp4"===s&&(this.yUt=new self.HWt(this,t)),this.fUt="unlimited-frame",this.lUt.nzt("off"),this.bR=1,self.devicePixelRatio=1,await this.gj("runtime","set-exporting-to-video",{message:this.yUt.qWt(0),duration:this.yUt.iJ()})}Yzt(){return this.LBt}Bjt(){return null!==this.yUt}XWt(){return this.yUt.iJ()}ZWt(){return this.yUt.KWt()}$Wt(){return this.yUt.GNt({width:this.lUt.Lz(),height:this.lUt.Rz()})}tQt(){const t=this.xUt/this.ZWt();return this.yUt.sQt(this.lUt.ezt(),t)}iQt(){this.yUt&&this.yUt.jit()}bWt(t){this.yUt.eQt(t)}hQt(){return this.yUt._T()}$zt(){return this.pBt}TM(){return this.gM}Sj(t){this.wBt.push(t)}A4(t){this.TBt=!!t}nQt(t){this.TBt&&this.SBt.push(t)}P4(){return this.SBt}iDt(){return this.qBt++}dDt(){return this.qBt}gkt(t){this.ZBt.add(t)}ykt(t){this.ZBt.delete(t)}zjt(){return this.ZBt}async PWt(t){this.lUt&&(await this.lUt.lo(t),this.lUt.kzt(this.LBt))}async NL(){this.CUt=!0,this.OUt=Date.now();let t=null;const s=new Promise((s=>t=s));if(this.OBt){for(const t of this.VBt)t.y0()||t.bDt()||!t.Jz()||t.uIt();(async()=>{await this.JZ._Z(),await s,this.gM=!1,this.rQt()})()}else this.gM=!1;this.JZ.EZ(),this.yQ()&&Jw.oQt(Xw);for(const t of this.r3.YF())t.K4();this.Bjt()&&await this.$Wt();const i=this.r3.A5();await i.d4(null,this.lb()),await i.v4(!0),this.VUt=performance.now(),t(),this.OBt||this.rQt(),(await this.gj("runtime","before-start-ticking")).isSuspended&&!this.Bjt()?(this.DUt++,this.AUt=!0):this.f8()}rQt(){this.uQ(Vw._j.Ij.Gj.aQt,null,null),this.zc("runtime","register-sw")}fSt(t){t=Math.floor(t);const s=this.aUt;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}UWt(){for(const t of self.uQt){const s=Vw.jr(Object.keys(t));this.uUt.push(s)}}Amt(t){t=Math.floor(t);const s=this.uUt;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}lQt(){return this.rBt}cQt(){return this.nBt}bP(){return this.oBt}zzt(){return this.eBt}fQt(){return this.hBt}FP(){return this.Ndt}ZP(){return this.Ndt.ZP()}Smt(){return this.Ndt.Smt()}QP(){return this.Ndt.QP()}Tmt(){return this.Ndt.Tmt()}Vxt(){return 0===this.Smt().Zdt()}xmt(){return this.Ndt.xmt()}nkt(){return this.jBt}NZ(){return this.jBt.NZ()}J$(t){if((t=Math.floor(t))<0||t>=this.VBt.length)throw new RangeError("invalid index");return this.VBt[t]}dQt(t){return this.JBt.get(t.toLowerCase())||null}cq(t){return this.HBt.get(t)||null}hnt(t){const s=Vw.Bz.uB(t);return s?s.dB():null}g0(){return this.VBt}*pQt(){for(const t of this.VBt)t.y0()||(yield*t.SB())}yf(){return this.CAt}OP(){return this.j3}x5(t){t.runtime=this.Uz();const s=this.yQ()&&!this.Ndt.jB();s&&Jw.v5(),this.j3.dispatchEvent(t),s&&Jw.C5()}Q4(t){return t.runtime=this.Uz(),this.j3.Cf(t)}vP(){return this.IBt}GP(){return this._Bt}mQt(t,s){if(this.IBt===t&&this._Bt===s)return;this.IBt=t,this._Bt=s;const i=this.UF();i.j5(),i.z5()}H0(){return this.DBt}q0(){return this.NBt}szt(t,s){if(this.DBt===t&&this.NBt===s)return;this.DBt=t,this.NBt=s;const i=this.UF();i.j5(),i.z5()}Ujt(t){this.Bjt()||(this.bR=t)}kz(){return this.bR}q1(){return this.EBt}X1(){return this.ABt}bj(){return this.lUt}e2(){return this.lUt?this.lUt.e2():this.DBt}h2(){return this.lUt?this.lUt.h2():this.NBt}vW(){return this.lUt?this.lUt.vW():1}NH(){return this.lUt?this.lUt.NH():1}W2(){return this.lUt?this.lUt.W2():1}B2(){return this.lUt?this.lUt.B2():1}Cz(){return this.lUt?this.lUt.Cz():0}Iz(){return this.lUt?this.lUt.Iz():0}gQt(){return this.lUt?this.lUt.Ez():0}yQt(){return this.lUt?this.lUt.Dz():0}AH(){return this.lUt?this.lUt.AH():"off"}M2(t){return this.lUt?this.lUt.M2(t):null}N$(t){this.lUt&&this.lUt.N$(t)}m2(){return this.RBt}Ajt(){return this.kBt}Djt(){return this.PBt}vF(){return this.lUt?this.lUt.vF():NaN}fC(){return"nearest"!==this.IP()}GF(){return this.fUt}IF(t){this.fUt!==t&&(this.fUt=t,-1===this.JFt&&-1===this.SUt||(this.MQt(),this.wQt()))}IP(){return this.av}rDt(){return this.OBt}Pzt(){return this.FBt}Jzt(){this.FBt&&(this.FBt.YE(),this.FBt.Vh(),this.FBt=null)}UF(){return this.r3}jF(){return this.r3.jF()}Q9(){return this.h9}SQt(){return this.BBt}iLt(){return this.UBt}Rlt(){return this.plt}aP(){return this.JZ}TZ(t){return this.JZ.TZ(t)}OB(t,s,i,e,h,n){if(n&&this.UBt){if(t instanceof Vw.hlt&&t.y0()){const r=t.qMt(),o=Math.floor(this.FF()*r.length);return this.OB(r[o],s,i,e,h,n)}const r=this.UBt.elt(t,n);if(r){const t=this.i0(r,s,!1,i,e,!1,h,void 0,h);return this.UBt.nlt(t,n),t}}return this.i0(t,s,!1,i,e,!1,h,void 0,h)}i0(t,s,i,e,h,n,r,o,a){let u=null,l=null;if(t instanceof Vw.hlt){if(l=t,l.y0()){const t=l.qMt();l=t[Math.floor(this.FF()*t.length)]}u=l.q$()}else u=t,l=this.J$(u[1]);const c=l.MB().Jz();if(this.gM&&c&&!l.bDt())return null;const f=s;let d;c||(s=null),d=i&&!n&&u&&!this.nUt.has(u[2])?u[2]:this.hUt++;const p=u?u[0]:null,m=Vw.Yh(Vw.Instance,{runtime:this,objectType:l,PQ:s,CNt:p,ENt:u?u[3]:null,uid:d,tags:u?u[6]:null});this.nUt.set(d,m);let g=null;if(c&&(g=m.oj(),void 0!==e&&void 0!==h&&(g.Qb(e),g.Jb(h)),l.XDt(!0)),s&&(a||s.h0(m,!0),s.WF().g4(l)),this.eUt++,l.FW()&&!i&&!n){const t=new Set;for(const s of l.c4().q4()){if(s===l)continue;const i=this.TQt(s,g,t);if(i){const t=this.i0(i,f,!1,g?g.Wb():e,g?g.Vb():h,!0,!1,void 0,a);m.X4(t)}else{const t=this.i0(s,f,!1,g?g.Wb():e,g?g.Vb():h,!0,!1,void 0,a);m.X4(t)}}for(const t of m.jW()){t.X4(m);for(const s of m.jW())t!==s&&t.X4(s)}}if(c&&!i&&r&&this.bQt(m,p,g,s,e,h,a),l.FW()&&!i&&!n&&r)for(const t of m.jW()){const i=t.oj();if(!i)continue;const e=t.MB(),h=t.IW().q$()[0];e.Jz()?this.bQt(t,h,i,s,i.Wb(),i.Vb(),a):this.bQt(t,h,i,s,void 0,void 0,a)}if(!n&&r){void 0===e&&(e=p[0]),void 0===h&&(h=p[1]);const t=g.bY(),s=e-g.Wb()+t.Wb(),i=h-g.Vb()+t.Vb();t.jQ(s,i)}l.YDt();const y=u?Vw.Nr(u[5]):null,M=u?u[4].map((t=>Vw.Nr(t))):null,w=c&&p&&p[13];if(w&&m.RNt(),m.SDt(y,M),w){const t=p[13];m.gV().GIt(t[2],t[0],t[1])}this.$Bt.push(m),this.sUt=!0,this.yQ()&&Jw.xQt(m);const S=this.fWt.instancecreate;return S.IV=m,this.CAt.dispatchEvent(S),m}iOt(t){const s=t[0],i=t[1],e=t[2],h=t[6];return h||this.r3.N5(s).aj(i).K$(e)}TQt(t,s,i){const e=s?.sLt()??[];for(const s of e){const e=this.iOt(s),h=!!s[4],n=this.J$(e[1]);if(!i.has(e)&&t===n&&h)return i.add(e),e}}bQt(t,s,i,e,h,n,r){const o=i.vRt(),a=i.sLt();if(t.oj().CRt(o),!a)return;void 0===h&&(h=s[0]),void 0===n&&(n=s[1]);const u=new Set,l=s[0],c=s[1];for(const s of a){const i=s[0],o=s[1],a=s[2],f=s[3],d=!!s[4],p=s[5],m=s[6];let g;g=m||this.r3.N5(i).aj(o).K$(a);const y=this.J$(g[1]),M=t.hLt(y),w=u.has(y);if(M&&!w&&d){const s=t.nLt(y);s.oj().GNt(g[0]);const i=h+g[0][0]-l,e=n+g[0][1]-c;s.oj().jQ(i,e),s.oj().CRt(p),t.AY(s,{RY:!!(1&f),PY:!!(f>>1&1),jY:!!(f>>2&1),BY:!!(f>>3&1),WY:!!(f>>4&1),ZY:!!(f>>5&1),YY:!!(f>>6&1),JY:!!(f>>7&1),qY:!!(f>>8&1)}),u.add(y)}else{const s=h+g[0][0]-l,i=n+g[0][1]-c,o=this.i0(g,e,!1,s,i,!1,!0,t,r);o.oj().CRt(p),t.AY(o,{RY:!!(1&f),PY:!!(f>>1&1),jY:!!(f>>2&1),BY:!!(f>>3&1),WY:!!(f>>4&1),ZY:!!(f>>5&1),YY:!!(f>>6&1),JY:!!(f>>7&1),qY:!!(f>>8&1)})}}}LW(t){if(this.rUt.has(t))return;const s=t.IW();let i=this.tUt.get(s);if(i){if(i.has(t))return;i.add(t)}else i=new Set,i.add(t),this.tUt.set(s,i);if(this.yQ()&&Jw.vQt(t),t.PNt(),this.sUt=!0,t.FW())for(const s of t.jW())this.LW(s);for(const s of t.children())s.KY()&&this.LW(s);if(!this.r3.zB()&&!this.KUt){const s=this.FP();s.kB(!0),t.mLt(),s.kB(!1)}t.gLt(this.r3.zB())}BB(){this.sUt&&(this.iUt=!0,this.CQt(),this.GQt(),this.iUt=!1,this.sUt=!1,this.pj())}CQt(){for(const t of this.$Bt){const s=t.IW();s.h0(t);for(const i of s.Pmt())i.h0(t),i.YDt()}Vw.wr(this.$Bt)}GQt(){this.CAt.lf(!0);for(const[t,s]of this.tUt.entries())this.IQt(t,s),s.clear();this.tUt.clear(),this.CAt.lf(!1)}IQt(t,s){for(const t of s){const s=this.fWt.instancedestroy;s.IV=t,this.CAt.dispatchEvent(s),this.nUt.delete(t.zW()),this.QUt.delete(t);const i=t.oj();i&&(i._Rt(),i.a0(),i.PNt()),this.rUt.add(t),this.eUt--}Vw.Er(t.EB(),s),t.YDt(),this.oUt.add(t);for(const i of t.Pmt())Vw.Er(i.EB(),s),i.YDt(),this.oUt.add(i);if(t.MB().Jz()){const t=new Set([...s].map((t=>t.oj().aj())));for(const i of t)i.v1(s)}}JDt(){return this.$Bt}*Zvt(t){for(const s of this.JDt())t.y0()?s.IW().Jxt(t)&&(yield s):s.IW()===t&&(yield s)}wDt(){return this.hUt++}TDt(t,s){this.nUt.set(t,s)}rq(t){t=!!t,this.EUt!==t&&(this.EUt=!!t,this.EUt&&this.AUt&&(this.uq(!1),this.AUt=!1))}oq(){return this.EUt}x4(){this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"renderercontextlost")),this.uq(!0);for(const t of this.VBt)!t.y0()&&t.xDt()&&t.T4();const t=this.jF();t&&t.x4(),Vw.SEt.nK(),Vw.xZ.nK()}async dzt(){await this.jF().d4(null,this.lb()),this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"renderercontextrestored")),this.uq(!1),this.pj()}wWt(t){if(!this.EUt)return;const s=t.hidden;this.uq(s),this.AUt=s,s||this.pj()}xWt(t){this.Kzt()&&this.mUt&&!Vw.Zs.ri&&(t.data.parentHasFocus||(this.uq(!0),this.gUt=!0))}vWt(){this.gUt&&(this.uq(!1),this.gUt=!1)}wQt(){const t=this.MUt;"vsync"===this.fUt?-1===this.JFt&&(this.JFt=self.requestAnimationFrame(t.wUt)):"unlimited-tick"===this.fUt?(-1===this.SUt&&(this.SUt=Vw.Qr(t.TUt)),-1===this.JFt&&(this.JFt=self.requestAnimationFrame(t.bUt))):-1===this.SUt&&(this.SUt=Vw.Qr(t.wUt))}MQt(){-1!==this.JFt&&(self.cancelAnimationFrame(this.JFt),this.JFt=-1),-1!==this.SUt&&(Vw.Yr(this.SUt),this.SUt=-1)}nF(){return this.DUt>0}uq(t){if(this.Bjt())return;const s=this.nF();this.DUt+=t?1:-1,this.DUt<0&&(this.DUt=0);const i=this.nF();if(!s&&i)console.log("[Construct] Suspending"),this.MQt(),this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"suspend")),this.x5(Vw.Yh(Vw.Event,"suspend")),this.uQ(Vw._j.Ij.Gj._Qt,null,null);else if(s&&!i){console.log("[Construct] Resuming");const t=performance.now();this.RUt=t,this.VUt=t,this.YUt=0,this.JUt=0,this.HUt=0,this.qUt=0,this.ZUt=0,this.XUt=0,this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"resume")),this.x5(Vw.Yh(Vw.Event,"resume")),this.uQ(Vw._j.Ij.Gj.EQt,null,null),this.ugt()||this.f8(t)}}JH(t){this.pWt.Fl(t)}ZH(t){this.mWt.Fl(t)}qH(t){this.gWt.Fl(t)}HH(t){this.pWt.Xf(t)}KH(t){this.mWt.Xf(t)}XH(t){this.gWt.Xf(t)}AQt(t,s){const i=s?performance.now():0;let e;return t instanceof Hw?(e=t.wQ(),s&&Jw.DQt(t.behavior,performance.now()-i)):(e=t.f8(),s&&Jw.DQt(t.xV(),performance.now()-i)),e}NQt(){const t=this.yQ();this.pWt.Bd(!0);for(const s of this.pWt)this.AQt(s,t);this.pWt.Bd(!1)}LQt(t,s){const i=s?performance.now():0;let e;return t instanceof Hw?(e=t.tq(),s&&Jw.DQt(t.behavior,performance.now()-i)):(e=t.K_t(),s&&Jw.DQt(t.xV(),performance.now()-i)),e}OQt(){const t=this.yQ();this.mWt.Bd(!0);for(const s of this.mWt)this.LQt(s,t);this.mWt.Bd(!1)}RQt(t,s){const i=s?performance.now():0;let e;return t instanceof Hw?(e=t.bQ(),s&&Jw.DQt(t.behavior,performance.now()-i)):(e=t.JIt(),s&&Jw.DQt(t.xV(),performance.now()-i)),e}kQt(){const t=this.yQ();this.gWt.Bd(!0);for(const s of this.gWt)this.RQt(s,t);this.gWt.Bd(!1)}*PQt(){const t=this.yQ();this.pWt.Bd(!0);for(const s of this.pWt){const i=this.AQt(s,t);Vw.To(i)&&(yield*i)}this.pWt.Bd(!1)}*FQt(){const t=this.yQ();this.mWt.Bd(!0);for(const s of this.mWt){const i=this.LQt(s,t);Vw.To(i)&&(yield*i)}this.mWt.Bd(!1)}*jQt(){const t=this.yQ();this.gWt.Bd(!0);for(const s of this.gWt){const i=this.RQt(s,t);Vw.To(i)&&(yield*i)}this.gWt.Bd(!1)}async f8(t,s,i){this.IUt=!0;const e="background-wake"===i,h="background-wake"!==i&&"skip-render"!==i,n=this.UF(),r=this.bj();if(!this.CUt||this.nF()&&!s&&!e)return;const o=performance.now();this.GUt=!0,this.zQt(t||0),this.HUt++,this.BQt();const a=this.UQt();this.Vvt()&&await a;const u=this.CAt.Gf(this.fWt.pretick);u instanceof Promise&&await u,this.x5(this.dWt.pretick);const l=this.WQt();this.Vvt()&&await l,this.QQt()&&await this.YQt(),n.JF()&&await this.VQt();const c=this.JQt();this.Vvt()&&await c;const f=n.jF(),d=f.r4();let p=!1;if(-1!==d&&(f.o4(),r.n4()!==d)){const t=this.bj()._4(d);this.bP()&&(p=!0,await t)}this.zc("canvas","update-html-layer-dom-state",{layersDomState:f.v0().filter((t=>t.jU())).map((t=>t.D1()))}),h&&this.YR(),p&&this.zc("canvas","cleanup-html-layers"),this.Bjt()&&(await this.tQt(),this.cF()>=this.XWt())?this.hQt():(this.nF()||e||this.wQt(),this.xUt++,this.vUt++,this.GUt=!1,this.XUt+=performance.now()-o)}async UQt(){const t=this.Ndt,s=this.yQ();this.BB(),t.kB(!0),this.Zmt(this.jF()),s&&Jw.HQt(),this.Vvt()?await t.Agt():t.Cgt(),s&&Jw.qQt(),this.Kmt(),t.kB(!1),this.BB(),t.kB(!0)}async WQt(){const t=this.Ndt,s=this.yQ(),i=this.Vvt(),e=this.CAt,h=this.fWt,n=this.dWt;s&&Jw.HQt(),i?await this.XQt(this.PQt()):this.NQt(),i?await this.XQt(this.FQt()):this.OQt(),s&&Jw.ZQt(),s&&Jw.HQt(),i?await this.KQt(h.tick):e.dispatchEvent(h.tick),s&&Jw.$Qt(),t.kB(!1),this.x5(n.tick)}async JQt(){const t=this.Ndt,s=this.CAt,i=this.fWt,e=this.dWt,h=this.yQ(),n=this.Vvt();h&&Jw.HQt(),n?await t.$mt(this.r3):t.Xmt(this.r3),h&&Jw.qQt(),this.zBt.$kt(),this.BQt(),this._Ut=!1,t.kB(!0),h&&Jw.HQt(),n?await this.XQt(this.jQt()):this.kQt(),h&&Jw.ZQt(),h&&Jw.HQt(),n?await this.KQt(i.tick2):s.dispatchEvent(i.tick2),h&&Jw.$Qt(),t.kB(!1),this.x5(e.tick2),n&&await t.lgt(),this.BB(),this.BQt()}BQt(){if(0===this.rUt.size)return;const t=this.CAt;t.lf(!0);for(const t of this.oUt)t.wgt().adt(this.rUt);this.oUt.clear(),this.Ndt.Ngt(this.rUt);for(const t of this.rUt)t.Vh();this.rUt.clear(),t.lf(!1)}async VQt(){const t=this.UF();let s=0;for(;t.JF()&&s++<10;)await this.tYt(t.F5())}zQt(t){let s=0;this.Bjt()?(s=1/this.ZWt(),this.kUt=s,this.PUt=s):0!==this.RUt&&(s=Math.max(t-this.RUt,0)/1e3,s>.5&&(s=0),this.kUt=s,this.PUt=Vw.Zh(s,this.zUt,this.jUt)),this.RUt=t,this.FUt=this.PUt*this.xNt,this.BUt.Fl(this.FUt),this.UUt.Fl(s*this.xNt),this.WUt.Fl(this.PUt);for(const[t,s]of this.QUt)s.Fl(this.PUt*t.mF());this.lUt&&this.lUt.Gzt(),t-this.VUt>=1e3&&(this.VUt+=1e3,t-this.VUt>=1e3&&(this.VUt=t),this.JUt=this.YUt,this.YUt=0,this.qUt=this.HUt,this.HUt=0,this.ZUt=Math.min(this.XUt/1e3,1),this.XUt=0,this.lUt&&this.lUt.Czt(),this.zBt.qkt(),this.yQ()&&Jw.sYt())}LNt(t,s){if(s){if(!this.QUt.has(t)){const s=Vw.Yh(Vw.Kf);s.hd(this.BUt),this.QUt.set(t,s)}}else this.QUt.delete(t)}ONt(t){const s=this.QUt.get(t);return s?s.Ys():this.cF()}async tYt(t){const s=this.CAt,i=this.UF().jF();await i.s5(),i.b4(t,this.lb()),i===t&&this.Ndt.h5(),this.zBt.$kt(),this.BQt(),s.dispatchEvent(this.fWt.beforelayoutchange),Vw.ff.Ef(!0),await t.d4(i,this.lb()),Vw.ff.Ef(!1),await t.v4(!1),s.dispatchEvent(this.fWt.layoutchange),this.pj(),this._Ut=!0,this.BB(),this.iQt()}pj(){this.pUt=!0}pzt(){return this.lUt?this.lUt.pzt():null}mzt(){return this.lUt?this.lUt.mzt():null}lb(){return this.lUt?this.lUt.lb():null}YR(){const t=this.lUt;if(!t||t.fzt())return;const s=this.lb(),i=s.tO(),e=i&&s.kT(),h=i&&s.tS();if(e&&s.zL(),!this.pUt&&!this.Bjt())return void s.DT();const n=this.r3.jF();this.YUt++,s.NL();const r=this.yQ();r&&Jw.HQt(),this.pUt=!1;let o=null;e&&(o=t.Azt().GD(),s.$L(o));let a=null;h&&(a=s.iYt(2*(1+n.K3())),s.f2(0,1)),this.h1()&&"low"===t.g2()?s.YN(t.e2(),t.h2()):s.VN(),this.eYt(this.lb(),n),o&&s.sO(o),h&&(s.hYt(),this.lUt.Dzt(a)),s._T(),r&&(Jw.nYt(),Jw.rYt()),t&&t.Nzt()}p5(t){return"low"===this.bj().g2()||t.kT()&&(this.m2()||this.h1())}eYt(t,s){t.aS(),t.uL(),t.sL(1,1,1,1),t.QL(null),t.nL(null),t.OL(this.h1()),this.p5(t)&&s.f5(t);const i=s.n4();for(let e=1;e<i;++e)s.M5(t,e),t.tS()&&t.oYt();this.p5(t)||s.f5(t),s.y5(t)}uQ(t,s,i){if(!this.CUt)return!1;const e=!this.GUt&&!this.Ndt.pgt();let h=0;e&&(h=performance.now());const n=this.yQ();n&&this.Mq(!1);const r=this.Ndt.egt(this.r3,t,s,i);if(e){const t=performance.now()-h;this.XUt+=t,n&&Jw.aYt(t)}return n&&this.Mq(!0),r}RIt(t,s,i){if(!this.Vvt())return this.uQ(t,s,i);if(this.ugt())throw new Error("called DebugTrigger() while stopped on breakpoint");if(!this.GUt&&!this.Ndt.pgt())throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead");return this.Ndt.rgt(this.r3,t,s,i)}async vj(t,s,i){if(!this.Vvt())return this.uQ(t,s,i);if(!this.CUt)return!1;if(this.ugt())return this.Ndt.ogt(t,s,i);if(!this.jF())return this.Ndt.hgt(t,s,i);const e=performance.now(),h=this.Ndt.rgt(this.r3,t,s,i);let n=h.next();for(;!n.done;)await this.sgt(n.value),n=h.next();return this.nF()||this.Ndt.pgt()||(await this.Ndt.lgt(),this.IUt&&!this.GUt&&this.wQt()),this.XUt+=performance.now()-e,n.value}kIt(t,s,i){const e=this.yQ();e&&this.Mq(!1);const h=this.Ndt.cgt(this.r3,t,s,i);return e&&this.Mq(!0),h}PIt(t,s,i){return this.Ndt.fgt(this.r3,t,s,i)}FIt(t){return this.NUt.Fl(t)}Zmt(t){this.KBt.push(t)}Kmt(){if(!this.KBt.length)throw new Error("layout stack empty");this.KBt.pop()}nj(){return this.KBt.length?this.KBt.at(-1):this.jF()}oF(t){return t&&-1!==t.mF()?this.PUt*t.mF():this.FUt}l8(){return this.FUt}c8(){return this.PUt}uF(){return this.kUt}mF(){return this.xNt}gF(t){(isNaN(t)||t<0)&&(t=0),this.xNt=t}AF(t){this.zUt=Math.max(t,0)}EF(){return this.zUt}LF(t){this.jUt=Math.max(t,0)}NF(){return this.jUt}MF(){return this.JUt}SF(){return this.qUt}bF(){return this.ZUt}uYt(){return this.OUt}cF(){return this.BUt.Ys()}lYt(){return this.UUt.Ys()}dF(){return this.WUt.Ys()}Ttt(){return this.xUt}cYt(){return this.vUt}fYt(){return this.eUt}mP(){return this.bBt}yP(){return this.xBt}dYt(){return this.vBt}pYt(){return this.CBt}wP(){return this.GBt}ij(t){if(this.KUt)throw new Error("cannot call while loading state - wait until afterload event");return this.nUt.get(t)||null}ZLt(t){if(this.KUt)throw new Error("cannot call while loading state - wait until afterload event");this.nUt.delete(t)}H4(){this.nUt.clear();for(const t of this.VBt)if(!t.y0())for(const s of t.EB())this.nUt.set(s.zW(),s)}Kzt(){return"preview"===this.uBt}yQ(){return this.mBt}Mz(){return this.uBt}wz(){return"nwjs"===this.Mz()||this.lBt}tBt(){return"cordova"===this.uBt}mYt(){return"Android"===Vw.Zs.Ks&&("cordova"===this.uBt||"playable-ad-single-file"===this.uBt||"playable-ad-zip"===this.uBt||"instant-games"===this.uBt)}gYt(){return this.LX}yYt(){return this.cBt}Sz(){return this.fBt}MYt(){return this.dBt}cP(){return this.zBt}MEt(){return this.jBt.MEt()}wEt(){return this.jBt.wEt()}h1(){return this.cUt}wYt(){return this.lb().Ww(this.q0())}zw(t){return this.lb().zw(t||this.q0())}SYt(){return this._Ut}TYt(t){t=!!t,this.dUt!==t&&(this.dUt=t,this.UF().z5(),this.pj())}EP(){return this.dUt}bYt(t){if(!this.YBt.has(t)){const s=()=>this.xYt(t);this.YBt.set(t,s),t.yf().addEventListener("animationframeimagechange",s)}const s=this.cM.nM(t);return s.SM()||s.bM().then((()=>this.pj())),s}xYt(t){this.cM.uM(t)}WBt(t){const s=[];for(const i of t.RDt())for(const t of i.qV()){const i=t.sJ();s.push({source:t,width:i.Bg(),height:i.Zg(),tag:t.mJ()})}return{MM:s}}async QBt(t){const s=Vw.Yh(Vw.Wd),i=[],e=new Map;for(const h of t.RDt())for(const t of h.qV()){const h=t.sJ().zEt();e.has(h)||(e.set(h,null),i.push(s.Fl((async()=>{const t=await h.uK();e.set(h,t)}))))}await Promise.all(i);const h=[];for(const i of t.RDt())for(const t of i.qV())h.push(s.Fl((async()=>{const s=t.sJ(),i=e.get(s.zEt()),h=await s.BEt(i);return{vM:await createImageBitmap(h)}})));const n=await Promise.all(h);for(const t of e.values())t instanceof ImageBitmap&&t.close&&t.close();return{MM:n}}vYt(t){this.$Ut=t,this.tWt=!1}CYt(){this.$Ut="",this.tWt=!0}GYt(t){this.sWt=t}zCt(t){this.GQ=t}IYt(){return this.iWt}QQt(){return!!(this.$Ut||this.tWt||this.sWt||null!==this.GQ)}async YQt(){if(this.$Ut&&(this.BB(),await this._Yt(this.$Ut),this.EYt()),this.sWt&&(await this.AYt(this.sWt),this.EYt(),this.yQ()&&Jw.DYt()),this.tWt){const t=await this.NYt();this.iWt=t,await this.vj(Vw._j.Ij.Gj.LYt,null),this.iWt="",this.EYt()}if(null!==this.GQ){this.BB();try{await this.OYt(this.GQ),this.iWt=this.GQ,await this.vj(Vw._j.Ij.Gj.RYt,null),this.iWt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.vj(Vw._j.Ij.Gj.kYt,null)}this.EYt()}}EYt(){this.$Ut="",this.tWt=!1,this.sWt="",this.GQ=null}Fz(){return this.eWt||(this.eWt=localforage.Ci({name:"c3-localstorage-"+this.dYt(),description:this.mP()})),this.eWt}PYt(){return this.hWt||(this.hWt=localforage.Ci({name:"c3-savegames-"+this.dYt(),description:this.mP()})),this.hWt}async _Yt(t){const s=await this.NYt();try{await this.PYt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.iWt=s,await this.vj(Vw._j.Ij.Gj.LYt,null),this.iWt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.vj(Vw._j.Ij.Gj.FYt,null)}}async AYt(t){try{const s=await this.PYt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.OYt(s),this.iWt=s,await this.vj(Vw._j.Ij.Gj.RYt,null),this.iWt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.vj(Vw._j.Ij.Gj.kYt,null)}}async NYt(){const t={c3save:!0,version:1,rt:{time:this.cF(),timeRaw:this.lYt(),walltime:this.dF(),timescale:this.mF(),tickcount:this.Ttt(),next_uid:this.hUt,running_layout:this.jF().C0(),start_time_offset:Date.now()-this.OUt},types:{},layouts:{},events:this.Ndt.t3(),timelines:this.h9.t3(),user_script_data:null};for(const s of this.VBt)s.y0()||s.eNt()||(t.types[s.C0().toString()]=s.t3());for(const s of this.r3.YF())t.layouts[s.C0().toString()]=s.t3();const s=this.jYt("save");return s.saveData=null,await this.Q4(s),t.user_script_data=s.saveData,JSON.stringify(t)}F4(){return this.KUt}async OYt(t){const s=this.UF(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(i.version>1)throw new Error("C3 save data from future version");this.BCt(),this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"beforeload"));for(const t of this.pQt())t.IW().eNt()||t.d6();const e=i.rt;this.BUt.Set(e.time),e.hasOwnProperty("timeRaw")&&this.UUt.Set(e.timeRaw),this.WUt.Set(e.walltime),this.xNt=e.timescale,this.xUt=e.tickcount,this.OUt=Date.now()-e.start_time_offset;const h=e.running_layout;this.KUt=!0;let n=!1;if(h!==this.jF().C0()){const t=s.N5(h);if(!t)return;await this.tYt(t),n=!0}for(const[t,e]of Object.entries(i.layouts)){const i=parseInt(t,10),h=s.N5(i);h&&h.s3(e)}const r=new Set;for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.cq(i);!e||e.y0()||e.eNt()||e.s3(s,r)}for(const t of this.r3.YF())for(const s of t.rU())s.i3();if(this.BB(),this.H4(),this.KUt=!1,n){for(const t of this.pQt())t.j4();for(const[t,s]of Object.entries(i.types)){const i=parseInt(t,10),e=this.cq(i);!e||e.y0()||e.eNt()||e.aNt(s)}}this.hUt=e.next_uid,this.Ndt.s3(i.events);for(const t of this.VBt)if(!t.y0()&&t.FW())for(const s of t.EB()){const i=s.UW();s.eLt();for(const e of t.c4().q4()){if(e===t)continue;const h=e.EB();if(i<0||i>=h.length)throw new Error("missing sibling instance");s.X4(h[i])}}this.h9.s3(i.timelines),s.j5(),s.z5();for(const t of r)t.pLt();this.UCt(),this.CAt.dispatchEvent(Vw.Yh(Vw.Event,"afterload")),this.x5(this.jYt("afterload"));for(const[t,s]of Object.entries(i.types)){const s=parseInt(t,10),i=this.cq(s);i&&i.oNt()}const o=this.jYt("load");o.saveData=i.user_script_data,await this.Q4(o),this.pj()}zYt(t,s){return s.oj().wRt()-t.oj().wRt()}hkt(t,s){t.oj()&&(this._Wt.has(t)||(this._Wt.set(t,s),this.EWt.push(t)))}BCt(){this._Wt=new WeakMap,Vw.wr(this.EWt)}UCt(t="full",s=null){this.EWt.sort(this.zYt);const i=this.EWt.length;for(const i of this.EWt)i.m6(this._Wt.get(i),t,s);for(const i of this.EWt)i.wLt(this._Wt.get(i),t,s);if(this.BCt(),i){this.BB(),this.H4();for(const t of this.r3.YF())for(const s of t.rU())s.c0(),s.dj()}}async BYt(t){const s=await Promise.all(t.map((async t=>{if(this.tBt()&&this.JZ.fZ()||"playable-ad-single-file"===this.Mz()){const s=await this.JZ.eo(t);return URL.createObjectURL(s)}return new URL(t,location.href).toString()})));this.yWt.UYt(s)}WYt(t,s){this.yWt.QYt(t,s)}YYt(t,s){this.yWt.VYt(t,s)}JYt(t,s,i,e){return this.yWt.JYt(t,s,i,null,null,e)}HYt(t,s,i,e){return this.yWt.HYt(t,s,i,e)}qYt(){return this.yWt.XYt()}tj(t,s){this.zc("runtime","invoke-download",{url:t,filename:s})}async Bzt(t,s,i,e,h,n){if(e=e||s,h=h||i,this.bP())return(await this.gj("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:n})).imageBitmap;{const r=await self.C3_RasterSvgImageBlob(t,s,i,e,h);return n?await self.createImageBitmap(r,n):r}}async ZYt(t){return this.bP()?await this.gj("runtime","get-svg-image-size",{blob:t}):await self.C3_GetSvgImageSize(t)}KYt(){this.aWt||(this.aWt=!0,this.zc("runtime","enable-device-orientation"))}$Yt(){this.uWt||(this.uWt=!0,this.zc("runtime","enable-device-motion"))}FF(){return this.LUt()}tVt(t){this.LUt=t}TWt(){const t=this.lb();return{fps:this.MF(),tps:this.SF(),cpu:this.bF(),gpu:this.vF(),layout:this.jF()?this.jF()._c():"",renderer:t.kT()?t.uO():t.gzt()}}ugt(){return!!this.yQ()&&Jw.ugt()}sgt(t){return this.Vvt()?Jw.sgt(t):Promise.resolve()}Pwt(){return!!this.Vvt()&&Jw.sVt()}iVt(t){this.gBt=!!t,this.eVt()}hVt(){return this.gBt}Vvt(){return this.yBt}Mq(t){t?this.MBt--:this.MBt++,this.eVt()}eVt(){this.yBt=this.yQ()&&this.gBt&&0===this.MBt}sMt(){return this.yQ()&&Jw.sMt()}u2(){return this.yQ()&&this.lb().tO()&&Jw.u2()}async XQt(t){if(t)for(const s of t)await this.sgt(s)}KQt(t){return this.XQt(this.CAt._f(t))}emt(t){return this.Ndt.emt(t.name,t.params)}Mj(t){if(this.bP())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}Uz(){return this.CWt}jYt(t){const s=Vw.Yh(Vw.Event,t,!1);return s.runtime=this.CWt,s}zWt(){this.CWt=new self.nP(this),this.dWt={pretick:this.jYt("pretick"),tick:this.jYt("tick"),tick2:this.jYt("tick2")}}WWt(){const t={};for(const s of this.VBt)t[s.Amt()]={value:s.fB(),enumerable:!0,writable:!1};this.CWt.RP(t)}QWt(){const t={};for(const s of this.FP().Fmt())t[s.Amt()]=s.Dmt();this.CWt.kP(t)}qF(){return this.IWt}oB(t,s){this.GWt.set(t,s)}uU(t){return this.GWt.get(t)}cz(t){if(!(t instanceof self.gB))throw new TypeError("expected IObjectClass");const s=this.uU(t);if(!(s&&s instanceof Vw.hlt))throw new Error("invalid IObjectClass");return s}GB(t){if(!(t instanceof self.GW))throw new TypeError("expected IInstance");const s=this.uU(t);if(!(s&&s instanceof Vw.Instance))throw new Error("invalid IInstance");return s}rj(t){if(!(t instanceof self.cV))throw new TypeError("expected IWorldInstance");const s=this.uU(t);if(!(s&&s instanceof Vw.Instance))throw new Error("invalid IInstance");return s}},self.C3_CreateRuntime=Vw.sBt.AC,self.C3_InitRuntime=(t,s)=>t.GNt(s)}{const Zw=self.Gs;Zw.MWt=class extends Zw.Wh{constructor(t,s){super(),this.Pc=t,this.nVt=new Map,this.rVt=0,this.oVt=s.inputPort,s.outputPort.onmessage=t=>this.aVt(t),this.uVt=s.maxNumWorkers,this.lVt=1,this.cVt=!1,this.fVt=!1}XYt(){return this.uVt}UYt(t){this.oVt.postMessage({type:"_import_scripts",scripts:t})}QYt(t,s){this.oVt.postMessage({type:"_send_blob",blob:t,id:s})}VYt(t,s){this.oVt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}JYt(t,s,i,e,h,n){if(i||(i=[]),"number"==typeof n&&(n=Math.floor(n))<=0)throw new Error("invalid maxWorkerNum");const r=this.rVt++,o={type:t,isBroadcast:!1,maxWorkerNum:n,jobId:r,params:s,transferables:i},a=new Promise(((t,s)=>{this.nVt.set(r,{resolve:t,progress:e,reject:s,dVt:!1,pVt:n})}));return h&&h.Hf((()=>this.mVt(r))),this.oVt.postMessage(o,i),this.gVt(),a}HYt(t,s,i,e){if(i||(i=[]),"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const h={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:this.rVt++,params:s,transferables:i};this.oVt.postMessage(h,i)}mVt(t){const s=this.nVt.get(t);s&&(s.dVt=!0,s.resolve=null,s.progress=null,s.reject=null,this.oVt.postMessage({type:"_cancel",jobId:t}))}aVt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.yVt(e,s.result);break;case"progress":this.MVt(e,s.progress);break;case"error":this.wVt(e,s.error);break;case"ready":this.SVt();break;default:throw new Error(`unknown message from worker '${i}'`)}}yVt(t,s){const i=this.nVt.get(t);if(!i)throw new Error("invalid job ID");i.dVt||i.resolve(s),this.nVt.delete(t)}MVt(t,s){const i=this.nVt.get(t);if(!i)throw new Error("invalid job ID");!i.dVt&&i.progress&&i.progress(s)}wVt(t,s){const i=this.nVt.get(t);if(!i)throw new Error("invalid job ID");i.dVt||i.reject(s),this.nVt.delete(t)}SVt(){this.cVt&&(this.cVt=!1,this.lVt++,this.lVt<this.uVt?this.gVt():this.oVt.postMessage({type:"_no_more_workers"}))}TVt(){let t=0;const s=[...this.nVt.values()].sort(((t,s)=>(t.pVt||1/0)-(s.pVt||1/0)));for(const i of s)t<(i.pVt||1/0)&&t++;return t}async gVt(){if(!(this.lVt>=this.uVt||this.cVt||this.fVt||this.TVt()<=this.lVt))try{this.cVt=!0,(await this.Pc.gj("runtime","create-job-worker")).outputPort.onmessage=t=>this.aVt(t)}catch(t){this.fVt=!0,this.cVt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.lVt} so far)`,t)}}}}self.C3_Shaders={};{let Kw=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const t=""+i,s=""+e;return t<s?-1:t>s?1:0}};0;const $w=self.Gs;let tS=null,sS="",iS="",eS=[],hS="",nS="",rS="";const oS=$w.Yh($w._pt);$w._j.Ij=class extends $w.zGt{constructor(t){super(t),this.xpt=this.Pc.FP().gq(),this.udt=this.Pc.FP().ZP(),this.bVt=0,this.xVt=0,this.vVt=new Map}Vh(){super.Vh()}pj(){this.Pc.pj()}uQ(t){this.Pc.uQ(t,null,null)}CVt(t,s){return tS&&t===sS&&s===iS||(tS=new RegExp(t,s),sS=t,iS=s),tS.lastIndex=0,tS}GVt(t,s,i){if(t===hS&&s===nS&&i===rS)return eS;const e=this.CVt(s,i);return eS=t.match(e),hS=t,nS=s,rS=i,eS}async IVt(t,s){if(!s.length)return;this.bVt+=s.length;const i=[];for(const e of s)i.push(t.g4(e));await $w.Br(i,(()=>{this.xVt++})),this.xVt++,this.xVt===this.bVt&&(this.xVt=0,this.bVt=0,this.Pc.uQ($w._j.Ij.Gj._Vt,null,null))}DZ(){return 0===this.bVt?1:this.xVt/this.bVt}EVt(t,s){for(const i of s)0===i.NB()&&t.S4(i)}AVt(){return oS}DVt(t){const s=this.Pc.FP(),i=s.ZP(),e=i.pq(),h=e.QP(),n=h.fq(),r=e.upt(),o=i.mq(h),a=s.gq(),u=a.mq();if(u.Gpt(t),r)for(let i=0;i<t&&!u.Cq();++i)s.Sq(n),u.xq(i),h.Tq(e,o),s.bq(n);else for(let s=0;s<t&&!u.Cq();++s)u.xq(s),h.Tq(e,o);return i.Gq(),a.Gq(),!1}*NVt(t){const s=this.Pc.FP(),i=s.ZP(),e=i.pq(),h=e.QP(),n=h.fq(),r=e.upt(),o=i.mq(h),a=s.gq(),u=a.mq();if(u.Gpt(t),r)for(let i=0;i<t&&!u.Cq();++i)s.Sq(n),u.xq(i),yield*h.Hwt(e,o),s.bq(n);else for(let s=0;s<t&&!u.Cq();++s)u.xq(s),yield*h.Hwt(e,o);return i.Gq(),a.Gq(),!1}LVt(){const t=this.Pc.FP(),s=t.ZP(),i=s.pq(),e=i.QP(),h=e.fq(),n=i.upt(),r=s.mq(e),o=t.gq(),a=o.mq();if(n)for(let s=0;!a.Cq();++s)t.Sq(h),a.xq(s),e.Tq(i,r)||a.MJ(),t.bq(h);else for(let t=0;!a.Cq();++t)a.xq(t),e.Tq(i,r)||a.MJ();return s.Gq(),o.Gq(),!1}*OVt(){const t=this.Pc.FP(),s=t.ZP(),i=s.pq(),e=i.QP(),h=e.fq(),n=i.upt(),r=s.mq(e),o=t.gq(),a=o.mq();if(n)for(let s=0;!a.Cq();++s)t.Sq(h),a.xq(s),(yield*e.Hwt(i,r))||a.MJ(),t.bq(h);else for(let t=0;!a.Cq();++t)a.xq(t),(yield*e.Hwt(i,r))||a.MJ();return s.Gq(),o.Gq(),!1}RVt(t,s,i){const e=this.Pc.FP(),h=e.ZP(),n=h.pq(),r=n.QP(),o=r.fq(),a=n.upt(),u=h.mq(r),l=e.gq(),c=l.mq();if(c.yq(t),c.Gpt(i),i<s)if(a)for(let t=s;t>=i&&!c.Cq();--t)e.Sq(o),c.xq(t),r.Tq(n,u),e.bq(o);else for(let t=s;t>=i&&!c.Cq();--t)c.xq(t),r.Tq(n,u);else if(a)for(let t=s;t<=i&&!c.Cq();++t)e.Sq(o),c.xq(t),r.Tq(n,u),e.bq(o);else for(let t=s;t<=i&&!c.Cq();++t)c.xq(t),r.Tq(n,u);return h.Gq(),l.Gq(),!1}*kVt(t,s,i){const e=this.Pc.FP(),h=e.ZP(),n=h.pq(),r=n.QP(),o=r.fq(),a=n.upt(),u=h.mq(r),l=e.gq(),c=l.mq();if(c.yq(t),c.Gpt(i),i<s)if(a)for(let t=s;t>=i&&!c.Cq();--t)e.Sq(o),c.xq(t),yield*r.Hwt(n,u),e.bq(o);else for(let t=s;t>=i&&!c.Cq();--t)c.xq(t),yield*r.Hwt(n,u);else if(a)for(let t=s;t<=i&&!c.Cq();++t)e.Sq(o),c.xq(t),yield*r.Hwt(n,u),e.bq(o);else for(let t=s;t<=i&&!c.Cq();++t)c.xq(t),yield*r.Hwt(n,u);return h.Gq(),l.Gq(),!1}PVt(t){const s=t.AB(),i=s.EB();if(0===i.length)return!1;const e=this.Pc.FP(),h=e.ZP(),n=h.pq(),r=n.QP(),o=r.fq(),a=n.upt(),u=h.mq(r),l=e.gq(),c=l.mq(),f=t.FW(),d=oS.mq();if($w.vr(d,i),c.Gpt(d.length),a)for(let s=0,i=d.length;s<i&&!c.Cq();++s){e.Sq(o);const i=d[s];t.AB().xdt(i),f&&i.oMt(),c.xq(s),r.Tq(n,u),e.bq(o)}else{s.Sdt(!1);const t=s.Tdt();$w.wr(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.Cq();++s){const i=d[s];t[0]=i,f&&i.oMt(),c.xq(s),r.Tq(n,u)}}return h.Gq(),l.Gq(),$w.wr(d),oS.Gq(),!1}*FVt(t){const s=t.AB(),i=s.EB();if(0===i.length)return!1;const e=this.Pc.FP(),h=e.ZP(),n=h.pq(),r=n.QP(),o=r.fq(),a=n.upt(),u=h.mq(r),l=e.gq(),c=l.mq(),f=t.FW(),d=oS.mq();if($w.vr(d,i),c.Gpt(d.length),a)for(let s=0,i=d.length;s<i&&!c.Cq();++s){e.Sq(o);const i=d[s];t.AB().xdt(i),f&&i.oMt(),c.xq(s),yield*r.Hwt(n,u),e.bq(o)}else{s.Sdt(!1);const t=s.Tdt();$w.wr(t),t.push(null);for(let s=0,i=d.length;s<i&&!c.Cq();++s){const i=d[s];t[0]=i,f&&i.oMt(),c.xq(s),yield*r.Hwt(n,u)}}return h.Gq(),l.Gq(),$w.wr(d),oS.Gq(),!1}jVt(t,s){const i=t.AB(),e=i.EB();if(0===e.length)return!1;const h=this.Pc.FP(),n=h.ZP(),r=h.Tmt(),o=n.pq(),a=o.QP(),u=a.fq(),l=o.upt(),c=n.mq(a),f=h.gq(),d=f.mq(),p=t.FW(),m=oS.mq();$w.wr(m),d.Gpt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],r.lxt(1,t)]);if(m.sort(Kw),1===s&&m.reverse(),l)for(let s=0,i=m.length;s<i&&!d.Cq();++s){h.Sq(u);const i=m[s][0];t.AB().xdt(i),p&&i.oMt(),d.xq(s),a.Tq(o,c),h.bq(u)}else{i.Sdt(!1);const t=i.Tdt();$w.wr(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.Cq();++s){const i=m[s][0];t[0]=i,p&&i.oMt(),d.xq(s),a.Tq(o,c)}}return n.Gq(),f.Gq(),$w.wr(m),oS.Gq(),!1}*zVt(t,s){const i=t.AB(),e=i.EB();if(0===e.length)return!1;const h=this.Pc.FP(),n=h.ZP(),r=h.Tmt(),o=n.pq(),a=o.QP(),u=a.fq(),l=o.upt(),c=n.mq(a),f=h.gq(),d=f.mq(),p=t.FW(),m=oS.mq();$w.wr(m),d.Gpt(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],r.lxt(1,t)]);if(m.sort(Kw),1===s&&m.reverse(),l)for(let s=0,i=m.length;s<i&&!d.Cq();++s){h.Sq(u);const i=m[s][0];t.AB().xdt(i),p&&i.oMt(),d.xq(s),yield*a.Hwt(o,c),h.bq(u)}else{i.Sdt(!1);const t=i.Tdt();$w.wr(t),t.push(null);for(let s=0,i=m.length;s<i&&!d.Cq();++s){const i=m[s][0];t[0]=i,p&&i.oMt(),d.xq(s),yield*a.Hwt(o,c)}}return n.Gq(),f.Gq(),$w.wr(m),oS.Gq(),!1}BVt(t,s){let i=this.vVt.get(t);return i||(s?(i={UVt:null,WVt:new Map},this.vVt.set(t,i),i):null)}QVt(t,s,i,e,h){s.UP().lSt(i,s.JP()),e&&t.bq(h)}*YVt(t,s,i,e,h){yield*s.UP().cSt(i,s.JP()),e&&t.bq(h)}}}{const aS=self.Gs;aS._j.Ij.eDt=class extends aS.Wh{constructor(t){super(),this.sdt=t,this.Pc=t.Rj(),this.CIt=t.MB()}uIt(){}Vh(){this.sdt=null,this.Pc=null,this.CIt=null}}}{const uS=self.Gs;uS._j.Ij.Instance=class extends uS.Wh{constructor(t,s){super(),this.fi=t,this.sdt=this.fi.IW(),this.DIt=this.sdt.Bxt(),this.Pc=this.fi.Rj()}Vh(){this.fi=null,this.sdt=null,this.DIt=null,this.Pc=null}}}{const lS=self.Gs,cS=[];lS._j.Ij.Gj={VVt:()=>!0,V4:()=>!0,i5:()=>!0,_Qt:()=>!0,EQt:()=>!0,nF(){return this.Pc.nF()},YMt(){const t=this.Pc.Smt();return!t.hpt()&&!t.ipt()},JVt(){const t=this.Pc.Tmt().Xbt();let s=t.get("TriggerOnce_lastTick");void 0===s&&(s=-1,t.set("TriggerOnce_lastTick",-1));const i=this.Pc.Ttt();return t.set("TriggerOnce_lastTick",i),this.Pc.SYt()||s!==i-1},HVt(t){const s=this.Pc.Tmt().Xbt(),i=s.get("Every_lastTime")||0,e=this.Pc.cF();s.has("Every_seconds")||s.set("Every_seconds",t);const h=s.get("Every_seconds");return e>=i+h?(s.set("Every_lastTime",i+h),e>=s.get("Every_lastTime")+.04&&s.set("Every_lastTime",e),s.set("Every_seconds",t),!0):(e<i-.1&&s.set("Every_lastTime",e),!1)},oyt(t){const s=this.Pc.FP().Umt(t);return s&&s.oyt()},Kzt(){return this.Pc.Kzt()},ri:()=>lS.Zs.ri,aQt:()=>!0,Cj:()=>!0,qVt:()=>!0,LYt:()=>!0,FYt:()=>!0,RYt:()=>!0,kYt:()=>!0,XVt(t){return!!this.Pc.ij(t)},ZVt(t){switch(t){case 0:return"browser"===lS.Zs.hi;case 1:return"iOS"===lS.Zs.Ks;case 2:return"Android"===lS.Zs.Ks;case 8:return"cordova"===lS.Zs.hi;case 9:return"scirra-arcade"===this.Pc.Mz();case 10:return"nwjs"===lS.Zs.hi;case 13:return"windows-uwp"===this.Pc.Mz();default:return!1}},KVt(t,s,i){return this.CVt(s,i).test(t)},$Vt:(t,s,i)=>lS.compare(t,s,i),tJt:(t,s,i)=>t>=s&&t<=i,sJt:(t,s,i)=>lS.compare(t.Det(),s,i),iJt:t=>!!t.Det(),eJt(t,s){const i=this.Pc.cF();if(0===t){const t=this.Pc.Tmt().Xbt();return!t.get("CompareTime_executed")&&i>=s&&(t.set("CompareTime_executed",!0),!0)}return lS.compare(i,t,s)},hJt:t=>isNaN(t),aGt:(t,s,i)=>lS.an(lS.$h(t),lS.$h(i))<=lS.$h(s),uGt:(t,s)=>lS.ln(lS.$h(t),lS.$h(s)),Mvt(t,s,i){let e=lS.$h(t),h=lS.$h(s),n=lS.$h(i);return lS.ln(n,h)?lS.ln(e,h)&&!lS.ln(e,n):!(!lS.ln(e,h)&&lS.ln(e,n))},nJt:(t,s)=>"number"==typeof t?0===s:1===s,rJt:t=>!!t,jgt(t){return t.toLowerCase()===this.Pc.FP().Wgt()},oJt(t,s,i,e){if(!t)return!1;const h=this.AVt(),n=h.mq(),r=t.AB();lS.vr(n,r.EB()),r.ddt()&&lS.wr(r.bdt());const o=this.Pc.Tmt();let a=0;for(let t=0,h=n.length;t<h;++t){const h=n[t];n[a]=h,s=o.lxt(1,t),e=o.lxt(3,t),lS.compare(s,i,e)?++a:r.wdt(h)}lS.Mr(n,a),r.vdt(n);const u=!!n.length;return lS.wr(n),h.Gq(),t.eSt(),u},aJt(t,s){if(!t)return!1;const i=this.AVt(),e=i.mq(),h=t.AB();lS.vr(e,h.EB()),h.ddt()&&lS.wr(h.bdt());const n=this.Pc.Tmt();let r=0;for(let t=0,s=e.length;t<s;++t){const s=e[t];e[r]=s,n.lxt(1,t)?++r:h.wdt(s)}lS.Mr(e,r),h.vdt(e);const o=!!e.length;return lS.wr(e),i.Gq(),t.eSt(),o},uJt(t,s,i){if(!t)return!1;const e=t.AB(),h=e.EB();if(0===h.length)return!1;const n=this.Pc.Tmt();let r=null,o=0;for(let t=0,e=h.length;t<e;++t){const e=h[t];i=n.lxt(2,t),(null===r||0===s&&i<o||1===s&&i>o)&&(o=i,r=e)}return e.Edt(r),t.eSt(),!0},lJt(t,s){if(!t)return!1;const i=t.AB(),e=i.EB();if((s=Math.floor(s))>=e.length)return!1;const h=e[s];return i.Edt(h),t.eSt(),!0},cJt(t){if(!t)return!1;const s=t.AB(),i=s.EB(),e=Math.floor(this.Pc.FF()*i.length);if(e>=i.length)return!1;const h=i[e];return s.Edt(h),t.eSt(),!0},fJt:t=>!!t&&(!!t.NB()&&(t.AB().Sdt(!0),t.eSt(),!0)),dJt(t,s,i){if(!t)return!1;const e=t.AB(),h=e.EB(),n=this.Pc.QP().Adt(),r=this.Pc.Tmt().Ybt();e.ddt()?(lS.vr(cS,h),e.fdt(),e.Sdt(!1)):n?(lS.vr(cS,e.bdt()),lS.wr(e.bdt())):(lS.vr(cS,e.Tdt()),lS.wr(e.Tdt()));for(let t=0,h=cS.length;t<h;++t){const h=cS[t];lS.xor(h.oj().wY(s,i),r)?e.Mdt(h):e.wdt(h)}return t.eSt(),lS.xor(!!e.Tdt().length,r)},pJt(t){if(!t)return!1;const s=t.y0();let i=null;const e=this.Pc.JDt();for(let h=e.length-1;h>=0;--h){const n=e[h];if(s){if(n.IW().Jxt(t)){i=n;break}}else if(n.IW()===t){i=n;break}}if(!i){const s=t.EB();s.length&&(i=s.at(-1))}return!!i&&(t.AB().Edt(i),t.eSt(),!0)},mJt(t){return this.Pc.Vvt()?this.NVt(t):this.DVt(t)},gJt(){return this.Pc.Vvt()?this.OVt():this.LVt()},yJt(t,s,i){return this.Pc.Vvt()?this.kVt(t,s,i):this.RVt(t,s,i)},Ud(t){return this.Pc.Vvt()?this.FVt(t):this.PVt(t)},MJt(t,s,i){return this.Pc.Vvt()?this.zVt(t,i):this.jVt(t,i)},wJt:t=>!!t&&t.OU(),SJt:t=>!!t&&t.UU(),TJt:t=>!!t&&t.jU(),bJt:t=>!!t&&!t.NB(),xJt:(t,s,i)=>!!t&&lS.compare(100*t.tL(),s,i),vJt(t){const s=this.Pc.jF();return!!s&&s.t4(t)},_Vt:()=>!0,CJt(){return this.bVt>0},GJt(t,s){const i=this.Pc.iLt();return!!i&&!!s&&!!i.elt(t,s)}}}{let fS=function(t,s){const i=t[0]-s[0];return 0!==i?i:t[1]-s[1]},dS=function(t,s){return t[1]-s[1]};0;const pS=self.Gs,mS=[],gS=[],yS=pS.Yh(pS.Rect),MS=pS.Yh(pS.xo),wS=[];pS._j.Ij.nnt={IJt(t,s){t.dht(s)},_Jt(t,s){t.Ki()&&"number"!=typeof s&&(s=parseFloat(s)),t.dht(t.Det()+s)},EJt(t,s){t.Ki()&&t.dht(t.Det()-s)},AJt(t,s){t.dht(!!s)},DJt(t){t.dht(!t.Det())},NJt(t){t.dht(t.wmt())},LJt(t){this.Pc.FP().zmt(t)},OJt(t,s,i,e,h,n){if(!t||!s)return;const r=this.Pc.OB(t,s,i,e,h,n);if(!r)return;h&&s.RB(r);const o=this.Pc.FP();o.kB(!0),r.PB(),o.kB(!1);const a=new Map;r.JNt(a,t,h);for(const[t,s]of a)t.AB().Cdt(s)},RJt(t,s,i,e,h,n){if(!t||!s)return;const r=this.Pc.dQt(t);r&&pS._j.Ij.nnt.OJt.call(this,r,s,i,e,h,n)},m0(t,s,i,e,h,n,r,o,a,u,l){if(!t)return;const c=this.Pc.nj();let f=c;if(n){const t=this.Pc.UF().D5(n);if(!t)return;f=t}let d=null;if(("number"!=typeof r||r>=0)&&(d=f.aj(r),!d))return;let p=null;if(("number"!=typeof o||o>=0)&&(p=c.aj(o),!p))return;yS.set(s,i,e,h);const m=f.m0(t,yS,d,p,a,u,l);t.AB().vdt(m),t.eSt()},kJt(){const t=this.xpt;t.wpt()&&t.ypt().MJ()},ayt(t,s){const i=this.Pc.FP().Umt(t);i&&(0===s?i.ayt(!1):1===s?i.ayt(!0):i.ayt(!i.oyt()))},PJt(t){this.Pc.gF(t)},FJt(t,s){if(s<0&&(s=0),!t)return;const i=t.AB().EB();for(const t of i)t.gF(s)},jJt(t){if(!t)return;const s=t.AB().EB();for(const t of s)t.JW()},dr(t,s){if(t<0)return;const i=this.Pc.FP().bgt();return s?i.DGt(t):i.NGt(t),!0},iF(t){return this.Pc.FP().bgt().LGt(t),!0},zJt(){const t=this.Pc.FP();return t.bgt().OGt(t.Fgt()),!0},tF(t){this.Pc.FP().tF(t)},async xj(t,s,i,e,h,n){const r=this.Pc.bj();r&&(this.pj(),await r.xj(0===t?"image/png":"image/jpeg",s/100,i,e,h,n),await this.Pc.vj(pS._j.Ij.Gj.Cj,null))},BJt(t,s){if(t<=0||s<=0)return;this.Pc.szt(t,s),this.Pc.nj().Y2();const i=this.Pc.bj();i&&("off"===i.Hjt()||this.Pc.mQt(t,s),i.xA(i.yH(),i.MH(),!0),this.Pc.pj())},UJt(t){const s=this.Pc.bj();s&&"off"!==s.Hjt()&&(s.azt(0!==t?"high":"low"),s.xA(s.yH(),s.MH(),!0))},Vit(t){this.Pc.vYt(t)},WJt(){this.Pc.CYt()},QJt(t){this.Pc.GYt(t)},YJt(t){this.Pc.zCt(t)},VJt(t){},JJt(){for(const t of this.Pc.UF().YF())t.c5()},HJt(t){this.Pc.TYt(0!==t)},qJt(t,s){this.Pc.LF(1/t),this.Pc.AF(1/s)},XJt(t,s){this.Pc.AF(t),this.Pc.LF(s)},ZJt(t){this.Pc.IF(["vsync","unlimited-tick","unlimited-frame"][t])},KJt(t,s){if(!t)return;const i=t.AB().EB(),e=mS,h=gS,n=this.Pc.nj(),r=t.y0(),o=t.GTt();for(let t=0,n=i.length;t<n;++t){const n=i[t],a=n.oj();if(!a)continue;let u;u=r?n.Knt(s+n.IW().CTt(o)):n.Knt(s),e.push([a.aj().eP(),a.uj()]),h.push([n,u])}if(!e.length)return;e.sort(fS),h.sort(dS);let a=!1;for(let t=0,s=e.length;t<s;++t){const s=h[t][0],i=n.lj(e[t][0]),r=e[t][1],o=i.cj();o[r]!==s&&(o[r]=s,s.oj().fj(i,!0),i.dj(s),a=!0)}a&&this.Pc.pj(),pS.wr(mS),pS.wr(gS)},oz(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.Pc.cP().oz(t,s)},$Jt(t){if(this.Pc.TM())return;const s=this.Pc.UF();s.JF()||s.HF(t)},tHt(t){if(this.Pc.TM())return;const s=this.Pc.UF();if(s.JF())return;const i=s.D5(t);i&&s.HF(i)},sHt(t){if(this.Pc.TM())return;const s=this.Pc.UF();if(s.JF())return;const i=s.YF(),e=i.indexOf(s.jF());if(t&&0===e)return;if(!t&&e===i.length-1)return;const h=i[e+(t?-1:1)];s.HF(h)},iHt(){if(this.Pc.TM())return;const t=this.Pc.UF();t.JF()||(t.HF(t.jF()),this.Pc.FP().Vmt())},eHt(t,s){t&&t.NU(s)},hHt(t,s){t&&t.PU(s)},nHt(t,s){t&&t.zU(s)},rHt(t,s){t&&t.iL(s/100)},oHt(t,s){t&&t.WU(s)},aHt(t,s){t&&t.VU(s)},uHt(t,s){t&&t.qB(pS.$h(+s))},lHt(t,s,i){t&&(t.fW(!0),t.ZB(s),t.$B(i))},cHt(t){t&&t.fW(!1)},fHt(t,s,i){t&&t.X0(s/100,i/100)},dHt(t,s){t&&t.qb(+s)},pHt(t,s){t&&t.iW(1===s)},mHt(t,s){if(!t)return;MS.Ko(s),MS.Zh();const i=t.cW();i.Qo(MS)||(i.ko(MS),this.pj())},gHt(t,s){t&&t.nW(s)},yHt(t,s){t&&t.Nb(s)},MHt(t,s,i){if(!t)return;const e=t.WB().jht(i);if(!e)return;const h=1===s;e.Kyt()!==h&&(e.vkt(h),t.OV(),this.Pc.pj())},wHt(t,s,i,e){if(!t)return;const h=t.WB(),n=h.jht(s);if(!n)return;i=Math.floor(i);const r=n.EG().DG(i);r&&("color"===r?(MS.Ko(e),e=MS):"percent"===r&&(e/=100),h.kV(n.eP(),i,e)&&n.Kyt()&&this.Pc.pj())},SHt(t,s){t&&t.aW(s)},THt(t){this.Pc.nj().JB(+t)},bHt(t){this.Pc.nj().qB(pS.$h(+t))},xHt(t,s){const i=this.Pc.nj(),e=i.WB().jht(s);if(!e)return;const h=1===t;e.Kyt()!==h&&(e.vkt(h),i.OV(),this.Pc.pj())},vHt(t,s,i){const e=this.Pc.nj().WB(),h=e.jht(t);if(!h)return;s=Math.floor(s);const n=h.EG().DG(s);n&&("color"===n?(MS.Ko(i),i=MS):"percent"===n&&(i/=100),e.kV(h.eP(),s,i)&&h.Kyt()&&this.Pc.pj())},CHt(t,s){this.Pc.nj().MU(t/100,s/100)},GHt(t){const s=this.Pc.nj();0===t?s.TU():s.bU()},IHt(t){this.Pc.nj().ZB(t)},_Ht(t){this.Pc.nj().$B(t)},EHt(t,s){const i=this.Pc.nj();i.ZB(t),i.$B(s)},AHt(t){if(!t)return;const s=t.Ovt();if(!s)return;const i=s.oj();if(!i)return;const e=this.Pc.nj();e.ZB(i.Wb()),e.$B(i.Vb())},lU(t,s,i){const e=this.Pc.nj();try{e.lU(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},fU(t,s,i){if(!t)return;const e=this.Pc.nj();try{e.fU(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}},pU(t){t&&this.Pc.nj().pU(t)},gU(){this.Pc.nj().gU()},async DHt(t){const s=this.Pc.jF();if(!s||!t||this.Pc.TM())return;const i=t.y0()?t.qMt():[t];await this.IVt(s,i)},async NHt(t){await pS._j.Ij.nnt.DHt.call(this,this.Pc.dQt(t))},LHt(t){const s=this.Pc.jF();if(!s||!t)return;const i=t.y0()?t.qMt():[t];this.EVt(s,i)},OHt(t){pS._j.Ij.nnt.LHt.call(this,this.Pc.dQt(t))},RHt(){const t=this.Pc.jF();if(!t)return;const s=t.f4();this.EVt(t,s)},async kHt(t){const s=this.Pc.jF();t&&s&&!this.Pc.TM()&&await this.IVt(s,t.u4())},async PHt(t){const s=this.Pc.jF(),i=this.Pc.UF().D5(t);i&&s&&!this.Pc.TM()&&await this.IVt(s,i.u4())},$P(t){const s=this.udt.XP();if(s)switch(s.KP()){case 1:"number"==typeof t&&s.$P(t);break;case 2:"string"==typeof t&&s.$P(t);break;case 3:s.$P(t)}},FHt(t,s,i){const e=this.BVt(t.toLowerCase(),!0),h=e.WVt,n=s.toLowerCase();h.has(n)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`);const r=pS.jr(h.values())||e.UVt;r&&0!==r.HP()!=(0!==i.HP())?console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`):h.set(n,i)},jHt(t,s){const i=this.BVt(t.toLowerCase(),!0);i.UVt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`);const e=pS.jr(i.WVt.values())||i.UVt;e&&0!==e.HP()!=(0!==s.HP())?console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`):i.UVt=s},zHt(t,s,i){const e=this.Pc,h=e.Vvt()?wS:null;i=Math.floor(i);const n=this.BVt(t.toLowerCase(),!1);if(!n)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),h;let r=n.WVt.get(s.toLowerCase());if(!r){if(!n.UVt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),h;r=n.UVt,i=0}if(!r.Cl())return h;if(0!==r.HP())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),h;const o=e.FP(),a=o.QP(),u=a.WP(),l=u.length>0;l&&(r.JP()?o.Sq(u):o.Sgt(u));const c=[],f=o.pyt(a);if(f){const t=f.gyt();for(let s=i,e=t.length;s<e;++s)c.push(t[s].Det())}const d=r.gyt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].wmt());return e.Vvt()?this.YVt(o,r,c,l,u):this.QVt(o,r,c,l,u)}}}{const SS=self.Gs;SS._j.Ij.rnt={BHt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t)&&(t=0)),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t)&&(t=0)),t},_:t=>t.toString(),kt:t=>"string"==typeof t?t.length:0,random(t,s){return void 0===s?this.Pc.FF()*t:this.Pc.FF()*(s-t)+t},lTt(...t){return t[Math.floor(this.Pc.FF()*t.length)]},UHt:(t,...s)=>("number"!=typeof t&&(t=0),s[t=SS.Zh(Math.floor(t),0,s.length-1)]),WHt:()=>Math.PI,QHt:()=>1/0,sqrt:t=>Math.sqrt(t),abs:t=>Math.abs(t),round:t=>Math.round(t),YHt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor:t=>Math.floor(t),ceil:t=>Math.ceil(t),sign:t=>Math.sign(t),sin:t=>Math.sin(SS.$h(t)),cos:t=>Math.cos(SS.$h(t)),tan:t=>Math.tan(SS.$h(t)),asin:t=>SS.tn(Math.asin(t)),acos:t=>SS.tn(Math.acos(t)),atan:t=>SS.tn(Math.atan(t)),exp:t=>Math.exp(t),Ut:t=>Math.log(t),log10:t=>Math.log10(t),max(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s<e&&(s=e)}return s},min(...t){let s=t[0];"number"!=typeof s&&(s=0);for(let i=1,e=t.length;i<e;++i){let e=t[i];"number"==typeof e&&s>e&&(s=e)}return s},Zh:(t,s,i)=>SS.Zh(t,s,i),St:(t,s,i,e)=>SS.hn(t,s,i,e),angle:(t,s,i,e)=>SS.tn(SS.rn(t,s,i,e)),Gt:(t,s,i)=>SS.Gt(t,s,i),mn:(t,s,i)=>SS.mn(t,s,i),yn:(t,s,i,e)=>SS.yn(t,s,i,e),Mn:(t,s,i,e,h)=>SS.Mn(t,s,i,e,h),wn:(t,s,i)=>SS.wn(t,s,i),VHt:(t,s)=>SS.tn(SS.an(SS.$h(t),SS.$h(s))),JHt:(t,s,i)=>SS.tn(SS.cn(SS.$h(t),SS.$h(s),i)),HHt:(t,s,i)=>SS.tn(SS.un(SS.$h(t),SS.$h(s),SS.$h(i))),qHt:(t,s,i)=>(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s,XHt:(t,s)=>(t|=0)^1<<s,ZHt:(t,s)=>(t|=0)&1<<(s|=0)?1:0,KHt:()=>"\n",$Ht:t=>"string"==typeof t?t.toUpperCase():"",tqt:t=>"string"==typeof t?t.toLowerCase():"",left:(t,s)=>"string"==typeof t?t.substr(0,s):"",mid:(t,s,i)=>"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i),right:(t,s)=>"string"==typeof t?t.substr(Math.max(t.length-s,0)):"",trim:t=>"string"==typeof t?t.trim():"",sqt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},iqt:(t,s)=>"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0,find:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(SS.Xi(s),"i")):-1,eqt:(t,s)=>"string"==typeof t&&"string"==typeof s?t.search(new RegExp(SS.Xi(s),"")):-1,replace:(t,s,i)=>"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(SS.Xi(s),"gi"),i):"string"==typeof t?t:"",hqt(t,...s){let i=t;for(let t=0,e=s.length;t<e;++t)i=i.replaceAll(`{${t}}`,s[t].toString());return i},nqt(t,s,i){const e=this.CVt(s,i);return t?t.search(e):-1},rqt(t,s,i,e){const h=this.CVt(s,i);return t?t.replace(h,e):""},oqt(t,s,i){const e=this.GVt(t.toString(),s,i);return e?e.length:0},aqt(t,s,i,e){e=Math.floor(e);const h=this.GVt(t.toString(),s,i);return!h||e<0||e>=h.length?"":h[e]},uqt(t,s){let i=t<0?"-":"";t<0&&(t=-t);const e=s-t.toString().length;return i+="0".repeat(Math.max(e,0)),i+t.toString()},lqt:t=>encodeURIComponent(t),cqt:t=>decodeURIComponent(t),rF(){return this.Pc.l8()},fqt(){return this.Pc.c8()},dqt(){return this.Pc.mF()},pqt(){return(Date.now()-this.Pc.uYt())/1e3},mqt:()=>Date.now(),time(){return this.Pc.cF()},gqt(){return this.Pc.Ttt()},yqt(){return this.Pc.fYt()},yF(){return this.Pc.MF()},Mqt(){return this.Pc.bF()},wqt(){return this.Pc.vF()},Sqt(){return this.Pc.bj().Lz()},Tqt(){return this.Pc.bj().Rz()},bqt(){return this.Pc.vP()},xqt(){return this.Pc.GP()},vqt(){return this.Pc.vP()},Cqt(){return this.Pc.GP()},Gqt(){return this.Pc.nj().KB()},Iqt(){return this.Pc.nj().tU()},_qt(){return this.Pc.nj()._c()},Eqt(){return this.Pc.nj().HB()},Aqt(){return SS.tn(this.Pc.nj().XB())},Dqt(){return this.Pc.nj().Bg()},Nqt(){return this.Pc.nj().Zg()},Lqt(){return 100*this.Pc.nj().W0()},Oqt(){return 100*this.Pc.nj().Q0()},Rqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().Za():0},kqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().Ka():0},Pqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().$a():0},Fqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().tu():0},jqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().width():0},zqt(t){const s=this.Pc.nj().aj(t);return s?s.U0().height():0},Bqt(t){const s=this.Pc.nj().aj(t);if(s){const t=s.U0();return(t.Za()+t.$a())/2}return 0},Uqt(t){const s=this.Pc.nj().aj(t);if(s){const t=s.U0();return(t.Ka()+t.tu())/2}return 0},Wqt(t,s,i){const e=this.Pc.nj().aj(t);return e?e.gW(s,i)[0]:0},Qqt(t,s,i){const e=this.Pc.nj().aj(t);return e?e.gW(s,i)[1]:0},Yqt(t,s,i){const e=this.Pc.nj().aj(t);return e?e.MW(s,i)[0]:0},Vqt(t,s,i){const e=this.Pc.nj().aj(t);return e?e.MW(s,i)[1]:0},Jqt(t,s,i,e){const h=this.Pc.nj(),n=h.aj(t),r=h.aj(s);if(!n||!r||n===r)return i;const[o,a]=n.MW(i,e);return r.gW(o,a)[0]},Hqt(t,s,i,e){const h=this.Pc.nj(),n=h.aj(t),r=h.aj(s);if(!n||!r||n===r)return e;const[o,a]=n.MW(i,e);return r.gW(o,a)[1]},qqt(t){const s=this.Pc.nj().aj(t);return s?s.QU():0},Xqt(t){const s=this.Pc.nj().aj(t);return s?SS.tn(s.HU()):0},Zqt(t){const s=this.Pc.nj().aj(t);return s?100*s.tL():0},Kqt(t){const s=this.Pc.nj().aj(t);return s?s.JU():0},$qt(t){const s=this.Pc.nj().aj(t);return s?s.KB():0},tXt(t){const s=this.Pc.nj().aj(t);return s?s.tU():0},sXt(t){const s=this.Pc.nj().aj(t);return s?100*s.ZU():0},iXt(t){const s=this.Pc.nj().aj(t);return s?100*s.tW():0},eXt(t){const s=this.Pc.nj().aj(t);return s?s.Hb():0},hXt(t){const s=this.Pc.nj().aj(t);return s?s.eP():-1},nXt(){const t=this.Pc.bj();return t?t.Lzt():""},rXt(t){const s=this.xpt;if(!s.wpt())return 0;if(t){const i=s.Tpt(t);return i?i.eP():0}return s.ypt().eP()},oXt(){return this.Pc.IYt()},aXt(t,s,...i){const e=this.BVt(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let h=e.WVt.get(s.toLowerCase());if(!h){if(!e.UVt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;h=e.UVt}const n=h.HP(),r=h.zP();if(0===n)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Cl())return r;const o=this.Pc.FP(),a=o.QP().WP(),u=a.length>0;u&&(h.JP()?o.Sq(a):o.Sgt(a));const l=h.gyt();for(let t=i.length,s=l.length;t<s;++t)i.push(l[t].wmt());const c=h.UP(),f=c.VP(c.WP(),h.JP(),n,r,...i);return u&&o.bq(a),f},uXt(){return this.Pc.aP().RF()},lXt(){return this.DZ()},AI(){return this.Pc.mzt()?"webgpu":"webgl"},cXt(){return this.Pc.mzt()?this.Pc.mzt().gzt():this.Pc.pzt().uO()},fXt(){let t=this.Pc.lb().jT();return Math.round(100*t/1048576)/100},dXt:(t,s,i)=>SS.Gn(t,s,i),pXt:(t,s,i)=>SS._n(t/100,s/100,i/100),mXt:(t,s,i,e)=>SS.In(t/100,s/100,i/100,e/100),gXt:(t,s,i)=>SS._n(t/255,s/255,i/255),yXt:(t,s,i,e)=>SS.In(t/255,s/255,i/255,e/255),MXt(){return this.Pc.mP()},wXt(){return this.Pc.yP()},SXt(){return this.Pc.QP().Z3()._c()},TXt(){return this.Pc.QP().dwt()}}}{const TS=self.Gs;TS._j.bXt=class extends TS.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{let bS=function(t){switch(t){case 0:return"clamp-to-edge";case 1:return"repeat";case 2:return"mirror-repeat"}return"repeat"};0;const xS=self.Gs;xS._j.bXt.eDt=class extends xS.vIt{constructor(t,s){super(t),this.rv="repeat",this.ov="repeat",s&&(this.rv=bS(s[0]),this.ov=bS(s[1]))}Vh(){super.Vh()}uIt(){this.sJ().Oj(this.Pc)}m4(t){return this.sJ().hX(t,{qx:this.Pc.IP(),Jx:this.rv,Hx:this.ov})}T4(){this.sJ().YE()}xXt(){return this.rv}vXt(){return this.ov}}}{const vS=self.Gs,CS=self.Ps,GS=0,IS=4,_S=5,ES=6,AS=7,DS=8,NS=9,LS=10,OS=11,RS=12,kS=13,PS=14,FS=vS.Yh(vS.Rect),jS=vS.Yh(vS.Iu),zS=vS.Yh(vS.Rect),BS=vS.Yh(vS.Iu);vS._j.bXt.Instance=class extends vS.e_t{constructor(t,s){super(t),this.CXt=0,this.GXt=0,this.IXt=1,this._Xt=1,this.EXt=0,this.AXt=!1,this.DXt=0,this.NXt=0,this.LXt=0,this.OXt=0,this.RXt=0,this.kXt=null,s&&(this.oj().NU(!!s[GS]),this.CXt=s[IS],this.GXt=s[_S],this.IXt=s[ES],this._Xt=s[AS],this.EXt=vS.$h(s[DS]),this.AXt=!!s[NS],this.DXt=s[LS],this.NXt=s[OS],this.LXt=s[RS],this.OXt=s[kS],this.RXt=s[PS])}Vh(){this.PXt(),super.Vh()}PXt(){this.kXt&&(this.kXt.Vh(),this.kXt=null)}FXt(t,s,i){const e=this.c_t(),h=e.Bg(),n=e.Zg(),r=this.CXt/h,o=this.GXt/n,a=this.EXt;zS.set(0,0,t/(h*this.IXt),s/(n*this._Xt)),zS.offset(-r,-o),0===a?i.Hu(zS):i.qu(zS,-a)}jXt(t,s=!0){if(this.AXt){const s=this.c_t();t.dS(),t._L(s.Bg()*this.IXt,s.Zg()*this._Xt,this.DXt,this.NXt,this.LXt,this.OXt,this.RXt)}else s&&t.aS()}Fx(t){const s=this.c_t(),i=s.lC();if(null===i)return;this.jXt(t),t.nL(i);const e=s.Bg(),h=s.Zg(),n=this.CXt/e,r=this.GXt/h,o=this.oj();zS.set(0,0,o.Bg()/(e*this.IXt),o.Zg()/(h*this._Xt)),zS.offset(-n,-r),o.rV()?this.zXt(o,t):this.BXt(o,t)}BXt(t,s){let i=t.iY();this.Pc.EP()&&(i=t.LRt(i)),0===this.EXt?s.$S(i,zS):(BS.qu(zS,-this.EXt),s.mL(i,BS))}zXt(t,s){const i=t.ZRt();if(t.$Rt()){t.$Q(FS,jS,!1);let s=jS;this.Pc.EP()&&(s=t.LRt(s));let e=zS;0!==this.EXt&&(BS.qu(zS,-this.EXt),e=BS),i.Px(t.oV(),s,e),t.KRt(!1)}i.Fx(s)}c_t(){return this.kXt||this.sdt.sJ()}Sit(){return!0}lC(){return this.c_t().lC()}UXt(){this.oj().KRt(!0)}WXt(t){this.CXt!==t&&(this.CXt=t,this.Pc.pj(),this.UXt())}QXt(){return this.CXt}YXt(t){this.GXt!==t&&(this.GXt=t,this.Pc.pj(),this.UXt())}VXt(){return this.GXt}JXt(t){this.IXt!==t&&(this.IXt=t,this.Pc.pj(),this.UXt())}HXt(){return this.IXt}qXt(t){this._Xt!==t&&(this._Xt=t,this.Pc.pj(),this.UXt())}XXt(){return this._Xt}ZXt(t){this.EXt!==t&&(this.EXt=t,this.Pc.pj(),this.UXt())}KXt(){return this.EXt}$Xt(t){t=!!t,this.AXt!==t&&(this.AXt=t,this.Pc.pj())}tZt(){return this.AXt}sZt(t){this.DXt!==t&&(this.DXt=t,this.tZt()&&this.Pc.pj())}iZt(){return this.DXt}eZt(t){this.NXt!==t&&(this.NXt=t,this.tZt()&&this.Pc.pj())}hZt(){return this.NXt}nZt(t){this.LXt!==t&&(this.LXt=t,this.tZt()&&this.Pc.pj())}rZt(){return this.LXt}oZt(t){this.OXt!==t&&(this.OXt=t,this.tZt()&&this.Pc.pj())}aZt(){return this.OXt}uZt(t){this.RXt!==t&&(this.RXt=t,this.tZt()&&this.Pc.pj())}lZt(){return this.RXt}ix(){const t={};return 0!==this.CXt&&(t.iox=this.CXt),0!==this.GXt&&(t.ioy=this.GXt),1!==this.IXt&&(t.isx=this.IXt),1!==this._Xt&&(t.isy=this._Xt),0!==this.EXt&&(t.ia=this.EXt),this.AXt&&(t.tr=!0),1!==this.DXt&&(t.trx=this.DXt),1!==this.NXt&&(t.try=this.NXt),1!==this.LXt&&(t.tra=this.LXt),.1!==this.OXt&&(t.trbmx=this.OXt),.1!==this.RXt&&(t.trbmy=this.RXt),t}hx(t){this.CXt=t.iox||0,this.GXt=t.ioy||0,this.IXt=t.hasOwnProperty("isx")?t.isx:1,this._Xt=t.hasOwnProperty("isy")?t.isy:1,this.EXt=t.ia||0,this.AXt=!!t.tr,this.DXt=t.hasOwnProperty("trx")?t.trx:1,this.NXt=t.hasOwnProperty("try")?t.try:1,this.LXt=t.hasOwnProperty("tra")?t.tra:1,this.OXt=t.hasOwnProperty("trbmx")?t.trbmx:.1,this.RXt=t.hasOwnProperty("trbmy")?t.trbmy:.1}KIt(){const t="plugins.tiledbg.properties";return[{title:t+".image-transform.name",properties:[{name:t+".image-offset-x.name",value:this.QXt(),cZt:t=>this.WXt(t)},{name:t+".image-offset-y.name",value:this.VXt(),cZt:t=>this.YXt(t)},{name:t+".image-scale-x.name",value:100*this.HXt(),cZt:t=>this.JXt(t/100)},{name:t+".image-scale-y.name",value:100*this.XXt(),cZt:t=>this.qXt(t/100)},{name:t+".image-angle.name",value:vS.tn(this.KXt()),cZt:t=>this.ZXt(vS.$h(t))}]},{title:t+".tile-randomization.name",properties:[{name:t+".enable-tile-randomization.name",value:this.tZt(),cZt:t=>this.$Xt(t)},{name:t+".x-random.name",value:100*this.iZt(),cZt:t=>this.sZt(t/100)},{name:t+".y-random.name",value:100*this.hZt(),cZt:t=>this.eZt(t/100)},{name:t+".angle-random.name",value:100*this.rZt(),cZt:t=>this.nZt(t/100)},{name:t+".blend-margin-x.name",value:100*this.aZt(),cZt:t=>this.oZt(t/100)},{name:t+".blend-margin-y.name",value:100*this.lZt(),cZt:t=>this.uZt(t/100)}]}]}Wnt(t){switch(t){case IS:return this.QXt();case _S:return this.VXt();case ES:return this.HXt();case AS:return this.XXt();case DS:return this.KXt();case NS:return this.tZt();case LS:return this.iZt();case OS:return this.hZt();case RS:return this.rZt();case kS:return this.aZt();case PS:return this.lZt()}}qnt(t,s){switch(t){case IS:this.WXt(s);break;case _S:this.YXt(s);break;case ES:this.JXt(s);break;case AS:this.qXt(s);break;case DS:this.ZXt(s);break;case NS:this.$Xt(!!s);break;case LS:this.sZt(s);break;case OS:this.eZt(s);break;case RS:this.nZt(s);break;case kS:this.oZt(s);break;case PS:this.uZt(s)}}lIt(){return self.fZt}};const US=new WeakMap;self.fZt=class extends self.cV{constructor(){super(),US.set(this,self.GW.AW().gV())}set dZt(t){CS.ne(t),US.get(this).WXt(t)}get dZt(){return US.get(this).QXt()}set pZt(t){CS.ne(t),US.get(this).YXt(t)}get pZt(){return US.get(this).VXt()}mZt(t,s){CS.ne(t),CS.ne(s);const i=US.get(this);i.WXt(t),i.YXt(s)}gZt(){const t=US.get(this);return[t.QXt(),t.VXt()]}set yZt(t){CS.ne(t),US.get(this).JXt(t)}get yZt(){return US.get(this).HXt()}set MZt(t){CS.ne(t),US.get(this).qXt(t)}get MZt(){return US.get(this).XXt()}wZt(t,s){CS.ne(t),CS.ne(s);const i=US.get(this);i.JXt(t),i.qXt(s)}SZt(){const t=US.get(this);return[t.HXt(),t.XXt()]}set TZt(t){CS.ne(t),US.get(this).ZXt(t)}get TZt(){return US.get(this).KXt()}set bZt(t){CS.ne(t),US.get(this).ZXt(vS.$h(t))}get bZt(){return vS.tn(US.get(this).KXt())}get imageWidth(){return US.get(this).c_t().Bg()}get imageHeight(){return US.get(this).c_t().Zg()}xZt(){const t=US.get(this).c_t();return[t.Bg(),t.Zg()]}set vZt(t){US.get(this).$Xt(!!t)}get vZt(){return US.get(this).tZt()}set CZt(t){CS.ne(t),US.get(this).sZt(t)}get CZt(){return US.get(this).iZt()}set GZt(t){CS.ne(t),US.get(this).eZt(t)}get GZt(){return US.get(this).hZt()}IZt(t,s){CS.ne(t),CS.ne(s);const i=US.get(this);i.sZt(t),i.eZt(s)}_Zt(){const t=US.get(this);return[t.iZt(),t.hZt()]}set EZt(t){CS.ne(t),US.get(this).nZt(t)}get EZt(){return US.get(this).rZt()}set AZt(t){CS.ne(t),US.get(this).oZt(t)}get AZt(){return US.get(this).aZt()}set DZt(t){CS.ne(t),US.get(this).uZt(t)}get DZt(){return US.get(this).lZt()}NZt(t,s){CS.ne(t),CS.ne(s);const i=US.get(this);i.oZt(t),i.uZt(s)}LZt(){const t=US.get(this);return[t.aZt(),t.lZt()]}async OZt(t){CS.Fe(t,Blob);const s=US.get(this),i=s.Rj(),e=vS.Yh(vS.SEt);e.OEt(i,t),await e.hX(i.lb(),{qx:i.IP(),Jx:s.Bxt().xXt(),Hx:s.Bxt().vXt()}),s.Jh()?e.Vh():(s.PXt(),s.kXt=e,i.pj())}}}self.Gs._j.bXt.Gj={RZt:()=>!0,kZt:()=>!0,PZt(){return this.tZt()}};{const WS=self.Gs;WS._j.bXt.nnt={FZt(t){this.WXt(t)},jZt(t){this.YXt(t)},zZt(t){this.JXt(t/100)},BZt(t){this.qXt(t/100)},UZt(t){this.ZXt(WS.$h(t))},WZt(t){this.$Xt(t)},QZt(t,s){this.sZt(t/100),this.eZt(s/100)},YZt(t){this.nZt(t/100)},VZt(t,s){this.oZt(t/100),this.uZt(s/100)},JZt(t){this.oj().Nb(t),this.Pc.pj()},async HZt(t,s){if(this.kXt&&this.kXt.vZ()===t)return;const i=this.Pc,e=WS.Yh(WS.SEt);try{if(await e.LEt(i,t),!e.$Z())throw new Error("image failed to load");if(this.Jh())return e.Vh(),null;if(!await e.hX(i.lb(),{qx:i.IP(),Jx:this.Bxt().xXt(),Hx:this.Bxt().vXt()}))return}catch(t){return console.error("Load image from URL failed: ",t),void(this.Jh()||this.uQ(WS._j.bXt.Gj.kZt))}this.Jh()?e.Vh():(this.PXt(),this.kXt=e,i.pj(),await this.vj(WS._j.bXt.Gj.RZt))}}}{const QS=self.Gs;QS._j.bXt.rnt={qZt(){return this.c_t().Bg()},XZt(){return this.c_t().Zg()},ZZt(){return this.CXt},KZt(){return this.GXt},$Zt(){return 100*this.IXt},tKt(){return 100*this._Xt},sKt(){return QS.tn(this.EXt)},iKt(){return 100*this.iZt()},eKt(){return 100*this.hZt()},hKt(){return 100*this.rZt()},nKt(){return 100*this.aZt()},rKt(){return 100*this.lZt()}}}{const YS=self.Gs;YS._j.Uht=class extends YS.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{const VS=self.Gs,JS=self.Ps,HS=[];VS._j.Uht.eDt=class extends VS.vIt{constructor(t){super(t),this.XAt=t.RDt()}Vh(){VS.wr(this.XAt),super.Vh()}uIt(){for(const t of this.XAt)t.ZEt(this.Pc)}m4(t){const s={qx:this.Pc.IP()};return Promise.all(this.XAt.map((i=>i.KEt(t,s))))}T4(){for(const t of this.XAt)t.$Et()}M4(){this.oKt()}oKt(){for(const t of this.sdt._B())t.gV().aKt()}ixt(t){VS._j.Uht.MGt(this,t)}Uxt(t){HS.push({_It:null,uKt:!1,SB:[]})}lKt(t,s,i){const e=HS.at(-1);e._It=t,e.uKt=i,e.SB.push(s)}Wxt(t){const s=HS.pop(),i=s._It,e=s.uKt;if(!i)return;const h=new Map;for(const t of s.SB)t.JNt(h,i,e);for(const[t,s]of h)t.AB().Cdt(s)}cKt(t){const s=this.IW().zDt(t),i=this.Rj();return s.tAt(0).sJ().hX(i.lb(),{qx:i.IP()}).then((()=>this.oKt())),s}fKt(t){for(const s of this.sdt._B())s.gV().dKt(t);this.IW().BDt(t)}pKt(t,s){const i=this.sdt.FDt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);let e=i.hAt(s);e<0&&(e+=i.JV()+1);const h=VS.HEt.XEt(this.Rj());i.sAt(h,e);const n=this.Rj();h.sJ().hX(n.lb(),{qx:n.IP()}).then((()=>this.oKt()));for(const t of this.sdt._B())t.gV().mKt();return h}gKt(t,s){const i=this.sdt.FDt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);if(1===i.JV())throw new Error(`cannot remove last frame from animation '${t}'`);let e=i.hAt(s);e<0&&(e+=i.JV()),i.iAt(e);for(const t of this.sdt._B())t.gV().mKt()}lIt(){return self.yKt}};const qS=new WeakMap;self.yKt=class extends self.gB{constructor(t){super(t),qS.set(this,t.Bxt())}MKt(t){JS.ue(t);const s=qS.get(this).IW().FDt(t);return s?s.nAt():null}wKt(){return qS.get(this).IW().PDt().map((t=>t.nAt()))}SKt(t){return JS.ue(t),qS.get(this).cKt(t).nAt()}TKt(t){JS.ue(t),qS.get(this).fKt(t)}bKt(t,s){if(JS.ue(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return qS.get(this).pKt(t,s).XV()}xKt(t,s){if(JS.ue(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");qS.get(this).gKt(t,s)}}}{const XS=self.Gs,ZS=self.Ps,KS=0,$S=1,tT=2,sT=3,iT=XS.Yh(XS.Rect),eT=XS.Yh(XS.Iu),hT=XS.Yh(XS.Ia),nT=1,rT=2,oT=4;XS._j.Uht.Instance=class extends XS.e_t{constructor(t,s){super(t);let i=!0,e="",h=0,n=!0;s&&(i=!!s[KS],e=s[$S],h=s[tT],n=s[sT]),this.vKt=this.sdt.FDt(e)||this.sdt.RDt()[0],this.CKt=XS.Zh(h,0,this.vKt.JV()-1),this.GKt=this.vKt.tAt(this.CKt);const r=this.GKt.sJ();this.IKt=r.lC(),this._Kt=r.tD(),this.EKt=r.m_t(),this.o_t(),t.YNt(rT,!0),t.YNt(nT,this.vKt.FV()>=0),this.AKt=Math.abs(this.vKt.FV()),this.DKt=this.vKt.QV(),this.NKt=XS.Yh(XS.Kf),this.LKt=0,this.OKt=0,this.RKt="",this.kKt=-1,this.PKt="",this.FKt=0;const o=this.oj();this.jKt=o.iY(),o.NU(i),o.MY(n),o.QQ(this.GKt.WQ()),o.JQ(this.GKt.VQ()),o.zRt(this.GKt.cJ()),o.FQ(),1===this.sdt.kDt()&&1===this.sdt.RDt()[0].JV()||0===this.AKt||this.HIt()}Vh(){this.vKt=null,this.GKt=null,this.IKt=null,this.NKt=null,super.Vh()}c_t(){return this.GKt.sJ()}Sit(){return!0}nK(){this.IKt=null}l_t(){this.aKt()}Fx(t){const s=this.IKt;if(null===s)return;t.nL(s);const i=this.oj();i.rV()?this.zXt(i,t):this.BXt(i,t)}BXt(t,s){let i=this.jKt;this.Pc.EP()&&(i=t.LRt(i)),s.mL(i,this.EKt)}zXt(t,s){const i=t.ZRt();if(t.$Rt()){t.$Q(iT,eT,!1);let s=eT;this.Pc.EP()&&(s=t.LRt(s)),i.Px(t.oV(),s,this.EKt),t.KRt(!1)}i.Fx(s)}zKt(){return this.NKt.Ys()}BKt(){return this.fi.VNt(rT)}UKt(t){this.fi.YNt(rT,t)}WKt(){return this.fi.VNt(nT)}QKt(t){this.fi.YNt(nT,t)}YKt(){return this.fi.VNt(oT)}VKt(t){this.fi.YNt(oT,t)}f8(){this.PKt&&this.JKt(),this.kKt>=0&&this.HKt();const t=this.AKt;if(!this.BKt()||0===t)return void this.NIt();const s=this.Pc.oF(this.fi);this.NKt.Fl(s);const i=this.zKt(),e=this.GKt,h=e.iJ()/t;if(i<this.LKt+h)return;const n=this.vKt,r=this.DKt,o=n.JV(),a=n.UV(),u=n.zV(),l=n.VV();this.WKt()?this.CKt++:this.CKt--,this.LKt+=h,this.CKt>=o&&(l?(this.QKt(!1),this.CKt=o-2):u?this.CKt=r:(this.OKt++,this.OKt>=a?this.qKt(!1):this.CKt=r)),this.CKt<0&&(l?(this.CKt=1,this.QKt(!0),u||(this.OKt++,this.OKt>=a&&this.qKt(!0))):u?this.CKt=r:(this.OKt++,this.OKt>=a?this.qKt(!0):this.CKt=r)),this.CKt=XS.Zh(this.CKt,0,o-1);const c=n.tAt(this.CKt);i>this.LKt+c.iJ()/t&&(this.LKt=i),this.XKt(e,c)}qKt(t){this.CKt=t?0:this.vKt.JV()-1,this.UKt(!1),this.RKt=this.vKt._c(),this.VKt(!0),this.IIt("animationend",!1,{animationName:this.RKt}),this.uQ(XS._j.Uht.Gj.ZKt),this.uQ(XS._j.Uht.Gj.KKt),this.VKt(!1),this.OKt=0}XKt(t,s,i){if(t===s)return;const e=this.oj(),h=t.sJ(),n=s.sJ(),r=h.Bg(),o=h.Zg(),a=n.Bg(),u=n.Zg();i&&i.$Kt?i.$Kt(e,r,o,a,u):(r!==a&&e.Hg(e.Bg()*(a/r)),o!==u&&e.Ug(e.Zg()*(u/o))),e.QQ(s.WQ()),e.JQ(s.VQ()),e.zRt(s.cJ()),e.FQ(),this.GKt=s,this.IKt=n.lC(),this._Kt=n.tD(),this.EKt=n.m_t();const l=this.UJ().kht();for(let i=0,e=l.length;i<e;++i)l[i].sEt(t,s);this.IIt("framechange",!1,{animationName:this.vKt._c(),t$t:this.CKt}),this.uQ(XS._j.Uht.Gj.s$t),this.Pc.pj()}i$t(t){this.UKt(!0),this.LKt=this.zKt(),1===t&&0!==this.CKt&&(this.kKt=0,this.YKt()||this.HKt()),this.HIt()}e$t(t,s,i){this.PKt=t,this.FKt=s,this.HIt(),!i&&this.YKt()||this.JKt()}h$t(){return this.vKt}n$t(){return this.PKt?this.PKt:this.vKt._c()}dKt(t){XS.Ze(t,this.n$t())&&this.e$t(this.sdt.UDt()._c(),1,!0)}r$t(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.sdt.FDt(this.n$t());if(!s)return;if(-1===(t=s.eAt(t)))return}isFinite(t)&&(this.kKt=t,this.YKt()||this.HKt())}mKt(){if(this.PKt||-1!==this.kKt)return;const t=this.GKt,s=this.vKt.tAt(XS.Zh(this.CKt,0,this.vKt.JV()-1));t!==s&&this.XKt(t,s),this.vKt.JV()>1&&this.AKt>0&&this.HIt()}o$t(){return this.CKt}a$t(){return this.GKt.mJ()}u$t(t){this.AKt=Math.abs(t),this.QKt(t>=0),this.AKt>0&&this.HIt()}l$t(){return this.WKt()?this.AKt:-this.AKt}c$t(t){"string"==typeof t&&-1===(t=this.vKt.eAt(t))||(t=XS.Zh(Math.floor(t),0,this.vKt.JV()-1),this.DKt=t)}f$t(){return this.DKt}JKt(t){const s=this.GKt,i=this.sdt.FDt(this.PKt);if(this.PKt="",!i)return;if(i===this.vKt&&this.BKt())return;this.vKt=i,this.QKt(i.FV()>=0),this.AKt=Math.abs(i.FV()),this.DKt=i.QV(),this.CKt=XS.Zh(this.CKt,0,this.vKt.JV()-1),1===this.FKt&&(this.CKt=0),this.UKt(!0),this.LKt=this.zKt();const e=this.vKt.tAt(this.CKt);this.XKt(s,e,t)}HKt(t){const s=this.GKt,i=this.CKt;if(this.CKt=XS.Zh(Math.floor(this.kKt),0,this.vKt.JV()-1),this.kKt=-1,!t&&i===this.CKt)return;const e=this.vKt.tAt(this.CKt);this.XKt(s,e),this.LKt=this.zKt()}aKt(){const t=this.GKt.sJ();this.IKt=t.lC(),this._Kt=t.tD(),this.EKt=t.m_t(),this.oj().KRt(!0)}lC(){return this.IKt}tD(){return this._Kt}m_t(){return this.EKt}hJ(){return this.GKt.hJ()}evt(t){const s=this.GKt,i=this.oj();let e=null;if("string"==typeof t)e=s.uJ(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");e=s.aJ(t-1)}let h=i.ZQ();if(!e)return[i.Wb(),i.Vb(),h];if(hT.m(e.gAt()),i.rV()){const[t,s,e]=i.oV().Qx(hT.Na(),hT.Oa());hT.set(t,s),h+=e}return hT.offset(-s.WQ(),-s.VQ()),hT.scale(i.Bg(),i.Zg()),hT.rotate(i.XB()),hT.offset(i.Wb(),i.Vb()),[hT.Na(),hT.Oa(),h]}d$t(){return this.oj().YRt().dl()}p$t(t){t=Math.floor(t);const s=this.oj(),i=s.YRt(),e=i.dl();if(t===e&&(t=0),t<0||t>=e)return[0,0];const h=i.fl();return[h[2*t+0]+s.Wb(),h[2*t+1]+s.Vb()]}KIt(){const t=XS._j.Uht.nnt,s="plugins.sprite.debugger.animation-properties";return[{title:s+".title",properties:[{name:s+".current-animation",value:this.vKt._c(),cZt:s=>this.t_t(t.m$t,s,0)},{name:s+".current-frame",value:this.CKt,cZt:s=>this.t_t(t.g$t,s)},{name:s+".is-playing",value:this.BKt(),cZt:s=>s?this.t_t(t.y$t,0):this.t_t(t.M$t)},{name:s+".speed",value:this.AKt,cZt:s=>this.t_t(t.w$t,s)},{name:s+".repeats",value:this.OKt,cZt:t=>this.OKt=t}]}]}ix(){const t={a:this.vKt.C0()};0!==this.LKt&&(t.fs=this.LKt);const s=this.zKt();0!==s&&(t.at=s),0!==this.CKt&&(t.f=this.CKt),0!==this.AKt&&(t.cas=this.AKt),1!==this.OKt&&(t.ar=this.OKt),0!==this.DKt&&(t.rt=this.DKt),this.BKt()||(t.ap=this.BKt()),this.WKt()||(t.af=this.WKt());const i=this.oj();return i.yY()&&(t.ce=i.yY()),t}hx(t){const s=this.IW().jDt(t.a);s&&(this.vKt=s),this.LKt=t.hasOwnProperty("fs")?t.fs:0,this.NKt.Set(t.hasOwnProperty("at")?t.at:0);const i=t.hasOwnProperty("f")?t.f:0;this.CKt=XS.Zh(i,0,this.vKt.JV()-1),this.AKt=t.hasOwnProperty("cas")?t.cas:0,this.OKt=t.hasOwnProperty("ar")?t.ar:1;const e=t.hasOwnProperty("rt")?t.rt:0;this.DKt=XS.Zh(e,0,this.vKt.JV()-1),this.UKt(!t.hasOwnProperty("ap")||!!t.ap),this.QKt(!t.hasOwnProperty("af")||!!t.af);const h=this.vKt.tAt(this.CKt);this.GKt=h,this.aKt();const n=this.oj();n.QQ(h.WQ()),n.JQ(h.VQ()),n.zRt(h.cJ()),n.MY(!!t.ce),this.BKt()&&this.HIt()}Wnt(t){const s=this.oj();switch(t){case sT:return s.yY();case tT:return XS.Zh(this.CKt,0,this.vKt.JV()-1);case $S:return this.vKt._c()}}qnt(t,s,i){const e=this.oj();switch(t){case sT:e.MY(!!s);break;case tT:{this.UKt(!1);const t=this.vKt.JV()-1,e=s=XS.Zh(s,0,t),h=this.vKt.tAt(this.CKt),n=this.vKt.tAt(e);this.XKt(h,n,i),this.CKt=XS.Zh(e,0,t);break}case $S:this.PKt=s,this.JKt(i),this.vKt.JV()>1&&this.vKt.FV()>0?this.HIt():this.NIt()}}lIt(){return self.S$t}};const aT=new WeakMap,uT=new Map([["current-frame",0],["beginning",1]]);self.S$t=class extends self.cV{constructor(){super(),aT.set(this,self.GW.AW().gV())}eJ(){return aT.get(this).hJ()}nJ(t){return this.rJ(t)[0]}oJ(t){return this.rJ(t)[1]}T$t(t){return this.rJ(t)[2]}rJ(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return aT.get(this).evt(t)}lJ(){return aT.get(this).d$t()}fJ(t){return ZS.ne(t),aT.get(this).p$t(t)[0]}pJ(t){return ZS.ne(t),aT.get(this).p$t(t)[1]}dJ(t){return ZS.ne(t),aT.get(this).p$t(t)}b$t(){aT.get(this).UKt(!1)}x$t(t="current-frame"){ZS.ue(t);const s=uT.get(t);if(void 0===s)throw new Error("invalid mode");aT.get(this).i$t(s)}v$t(t,s="beginning"){ZS.ue(t),ZS.ue(s);const i=uT.get(s);if(void 0===i)throw new Error("invalid mode");const e=aT.get(this);if(!e.IW().FDt(t))throw new Error(`animation name "${t}" does not exist`);e.e$t(t,i)}MKt(t){ZS.ue(t);const s=aT.get(this).IW().FDt(t);return s?s.nAt():null}get animation(){return aT.get(this).h$t().nAt()}get animationName(){return aT.get(this).n$t()}set t$t(t){ZS.ne(t),aT.get(this).r$t(t)}get t$t(){return aT.get(this).o$t()}set C$t(t){ZS.ue(t),aT.get(this).r$t(t)}get C$t(){return aT.get(this).a$t()}set G$t(t){ZS.ne(t),aT.get(this).u$t(t)}get G$t(){return aT.get(this).l$t()}set I$t(t){ZS.ne(t),aT.get(this).c$t(t)}get I$t(){return aT.get(this).f$t()}get imageWidth(){return aT.get(this).c_t().Bg()}get imageHeight(){return aT.get(this).c_t().Zg()}xZt(){const t=aT.get(this).c_t();return[t.Bg(),t.Zg()]}async _$t(t){ZS.Fe(t,Blob);const s=aT.get(this),i=s.Rj(),e=s.c_t(),h=XS.Yh(XS.SEt);if(h.OEt(i,t),await h.hX(i.lb(),{qx:i.IP()}),s.Jh())return void h.Vh();e.REt(h);const n=s.Bxt();n.oKt(),n.IW().yf().dispatchEvent(new XS.Event("animationframeimagechange")),i.pj()}E$t(t,s){ZS.ue(s),aT.get(this).oj().ERt(!!t,s)}}}{const lT=self.Gs;lT._j.Uht.Gj={A$t(t){return lT.Ze(this.n$t(),t)},D$t(t,s){return lT.compare(this.CKt,t,s)},N$t(t,s){if("string"!=typeof s)return!1;const i=this.GKt.mJ();return lT.compare(i.toLowerCase(),t,s.toLowerCase())},L$t(t,s){return lT.compare(this.l$t(),t,s)},KKt(t){return lT.Ze(this.RKt,t)},ZKt:()=>!0,s$t:()=>!0,O$t(){return this.oj().Bg()<0},R$t(){return this.oj().Zg()<0},RZt:()=>!0,kZt:()=>!0,yY(){return this.oj().yY()}}}{const cT=self.Gs;cT._j.Uht.nnt={k$t(t,s,i,e,h){if(!t||!s)return;const[n,r]=this.evt(i),o=this.Pc.OB(t,s,n,r,e,h);if(!o)return;if(e&&s.RB(o),t.MB().Kz()){const t=o.oj();t.qB(this.oj().XB()),t.FQ()}const a=this.Pc.FP();a.kB(!0),o.PB(),a.kB(!1),t!==this.Pc.xmt().IW()&&this.DIt.lKt(t,o,e)},M$t(){this.UKt(!1)},y$t(t){this.i$t(t)},m$t(t,s){this.e$t(t,s)},g$t(t){this.r$t(t)},w$t(t){this.u$t(t)},P$t(t){this.c$t(t)},F$t(t,s){try{0===t?this.Bxt().cKt(s):this.Bxt().fKt(s)}catch(s){console.error(`[Construct] Error ${0===t?"adding":"removing"} animation: `,s)}},j$t(t,s,i){try{0===t?this.Bxt().pKt(s,i):this.Bxt().gKt(s,i)}catch(s){console.error(`[Construct] Error ${0===t?"adding":"removing"} animation frame: `,s)}},z$t(t){const s=this.oj(),i=s.Bg(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Hg(e),s.FQ())},B$t(t){const s=this.oj(),i=s.Zg(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Ug(e),s.FQ())},JB(t){const s=this.GKt.sJ(),i=this.oj(),e=i.Bg()<0?-1:1,h=i.Zg()<0?-1:1,n=s.Bg()*t*e,r=s.Zg()*t*h;i.Bg()===n&&i.Zg()===r||(i.xA(n,r),i.FQ())},async HZt(t,s,i){const e=this.GKt.sJ(),h=this.oj(),n=this.Pc,r=this.DIt;if(e.vZ()===t)return 0===s&&(h.xA(e.Bg(),e.Zg()),h.FQ()),void this.uQ(cT._j.Uht.Gj.RZt);const o=cT.Yh(cT.SEt);try{if(await o.LEt(n,t),!o.$Z())throw new Error("image failed to load");if(this.Jh())return void o.Vh();await o.hX(n.lb(),{qx:n.IP()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.Jh()||this.uQ(cT._j.Uht.Gj.kZt))}this.Jh()?o.Vh():(e.REt(o),r.oKt(),r.IW().yf().dispatchEvent(new cT.Event("animationframeimagechange")),n.pj(),0===s&&(h.xA(e.Bg(),e.Zg()),h.FQ()),await this.vj(cT._j.Uht.Gj.RZt))},U$t(t){this.oj().MY(t)},ERt(t,s){this.oj().ERt(0===t,s)},JZt(t){this.oj().Nb(t),this.Pc.pj()}}}self.Gs._j.Uht.rnt={W$t(){return this.o$t()},Q$t(){return this.a$t()},Y$t(){return this.vKt.JV()},V$t(){return this.vKt._c()},J$t(){return this.l$t()},H$t(){return this.vKt.FV()},q$t(t){return this.evt(t)[0]},X$t(t){return this.evt(t)[1]},Z$t(t){return this.evt(t)[2]},K$t(){return this.hJ()},qZt(){return this.c_t().Bg()},XZt(){return this.c_t().Zg()},$$t(t){return this.p$t(t)[0]},t0t(t){return this.p$t(t)[1]},s0t(){return this.d$t()}};{const fT=self.Gs;fT._j.i0t=class extends fT.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{let dT=function(){return gT.mB().gV()};0;const pT=self.Gs,mT=self.Ps;pT._j.i0t.eDt=class extends pT.vIt{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}lIt(){return self.e0t}};let gT=null;self.e0t=class extends self.gB{constructor(t){super(t),gT=t,t.Rj().qF().XF=this}h0t(t){return dT().n0t(t)[0]}r0t(t){return dT().n0t(t)[1]}o0t(t){return dT().n0t(t)}a0t(t){return dT().u0t(t)}l0t(t){mT.ue(t),dT().c0t(t)}f0t(t){const s=dT(),i=s.Rj().cz(t);s.d0t(i)}}}{const yT=self.Gs,MT="mouse";let wT=null;yT._j.i0t.Instance=class extends yT.EIt{constructor(t,s){super(t,MT),this.p0t=[!1,!1,!1,!1,!1],this.m0t=0,this.g0t=0,this.y0t=0,this.M0t=0,this.w0t=0,this.S0t=0,this.T0t=0,this.b0t=0,this.x0t=!1,this.v0t=0,this.C0t=0,this.zIt([["pointer-lock-change",t=>this.G0t(t)],["pointer-lock-error",t=>this.I0t(t)]]);const i=this.Rj().yf();this.qf=new yT.Vf(yT.zf.Yf(i,"pointermove",(t=>this._0t(t.data))),yT.zf.Yf(i,"pointerdown",(t=>this.E0t(t.data))),yT.zf.Yf(i,"pointerup",(t=>this.A0t(t.data))),yT.zf.Yf(i,"dblclick",(t=>this.D0t(t.data))),yT.zf.Yf(i,"wheel",(t=>this.N0t(t.data))),yT.zf.Yf(i,"window-blur",(()=>this.xWt())))}Vh(){super.Vh()}E0t(t){"mouse"===t.pointerType&&(this.m0t=t.pageX-this.Pc.Cz(),this.g0t=t.pageY-this.Pc.Iz(),this.L0t(t.lastButtons,t.buttons))}_0t(t){this.v0t=t.movementX,this.C0t=t.movementY,this.uQ(yT._j.i0t.Gj.O0t),this.v0t=0,this.C0t=0,"mouse"===t.pointerType&&(this.m0t=t.pageX-this.Pc.Cz(),this.g0t=t.pageY-this.Pc.Iz(),this.L0t(t.lastButtons,t.buttons))}A0t(t){"mouse"===t.pointerType&&this.L0t(t.lastButtons,t.buttons)}L0t(t,s){this.R0t(t,s,1,0),this.R0t(t,s,4,1),this.R0t(t,s,2,2),this.R0t(t,s,8,3),this.R0t(t,s,16,4)}R0t(t,s,i,e){!(t&i)&&s&i?this.k0t(e):t&i&&!(s&i)&&this.P0t(e)}k0t(t){this.p0t[t]=!0,this.uQ(yT._j.i0t.Gj.F0t),this.y0t=t,this.M0t=0,this.uQ(yT._j.i0t.Gj.j0t),this.uQ(yT._j.i0t.Gj.z0t)}P0t(t){this.p0t[t]&&(this.p0t[t]=!1,this.y0t=t,this.uQ(yT._j.i0t.Gj.B0t))}D0t(t){this.y0t=t.button,this.M0t=1,this.uQ(yT._j.i0t.Gj.j0t),this.uQ(yT._j.i0t.Gj.z0t)}N0t(t){this.w0t=t.deltaY<0?1:0,this.S0t=t.deltaX,this.T0t=t.deltaY,this.b0t=t.deltaZ,this.uQ(yT._j.i0t.Gj.U0t)}xWt(){for(let t=0,s=this.p0t.length;t<s;++t){if(!this.p0t[t])return;this.p0t[t]=!1,this.y0t=t,this.uQ(yT._j.i0t.Gj.B0t)}}n0t(t){const s=this.Pc.jF(),i=this.m0t,e=this.g0t;if(void 0===t)return s.lj(0).H2(i,e);{const h=s.aj(t);return h?h.gW(i,e):[0,0]}}u0t(t){return t=Math.floor(t),!!this.p0t[t]}W0t(){return this.m0t>=0&&this.g0t>=0&&this.m0t<this.Pc.gQt()&&this.g0t<this.Pc.yQt()}c0t(t){wT!==t&&(wT=t,this.BIt("cursor",t))}async d0t(t){if(yT.Zs.ri||!t)return;const s=t.Ovt();if(!s)return;const i=s.oj(),e=s.c_t();if(!i||!e)return;if(wT===e)return;wT=e;const h=`url(${await e.UEt()}) ${Math.round(i.WQ()*e.Bg())} ${Math.round(i.VQ()*e.Zg())}, auto`;this.BIt("cursor",h)}G0t(t){this.Q0t(t["has-pointer-lock"])}I0t(t){this.Q0t(t["has-pointer-lock"]),this.uQ(yT._j.i0t.Gj.Y0t)}Q0t(t){this.x0t!==t&&(this.x0t=t,this.x0t?this.uQ(yT._j.i0t.Gj.V0t):this.uQ(yT._j.i0t.Gj.J0t))}KIt(){const t="plugins.mouse";return[{title:t+".name",properties:[{name:t+".debugger.absolute-position",value:this.m0t+","+this.g0t},{name:t+".debugger.left-button",value:this.p0t[0]},{name:t+".debugger.middle-button",value:this.p0t[1]},{name:t+".debugger.right-button",value:this.p0t[2]},{name:t+".debugger.button-4",value:this.p0t[3]},{name:t+".debugger.button-5",value:this.p0t[4]}]},{title:t+".debugger.position-on-each-layer",properties:this.Pc.jF().nU().map((t=>({name:"$"+t._c(),value:t.gW(this.m0t,this.g0t).join(", ")})))}]}}}{const ST=self.Gs;ST._j.i0t.Gj={j0t(t,s){return this.y0t===t&&this.M0t===s},F0t:()=>!0,H0t(t){return this.p0t[t]},B0t(t){return this.y0t===t},q0t(t){const s=this.Pc.Tmt().Ybt(),i=[];return this.W0t()&&i.push([this.m0t,this.g0t]),ST.xor(this.Pc.cP().oPt(t,i,s),s)},z0t(t,s,i){if(t!==this.y0t||s!==this.M0t)return!1;if(!this.W0t())return!1;const e=this.m0t,h=this.g0t;return this.Pc.cP().oPt(i,[[e,h]],!1)},U0t(t){return 2===t||this.w0t===t},V0t:()=>!0,J0t:()=>!0,Y0t:()=>!0,X0t(){return this.x0t},O0t:()=>!0}}{const TT=self.Gs,bT=["auto","pointer","text","crosshair","move","help","wait","none"],xT=["auto","all-scroll","none","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","not-allowed","grab","grabbing","col-resize","row-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"];TT._j.i0t.nnt={Z0t(t){this.c0t(bT[t])},K0t(t){this.c0t(xT[t])},$0t(t){this.d0t(t)},t1t(t){this.WIt("request-pointer-lock",{unadjustedMovement:t})},s1t(){this.BIt("release-pointer-lock")}}}self.Gs._j.i0t.rnt={KCt(t){return this.n0t(t)[0]},$Ct(t){return this.n0t(t)[1]},i1t(){return this.m0t},e1t(){return this.g0t},h1t(){return this.v0t},n1t(){return this.C0t},r1t(){return this.S0t},o1t(){return this.T0t},a1t(){return this.b0t}};{const vT=self.Gs;vT._j.Text=class extends vT.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{const CT=self.Gs;CT._j.Text.eDt=class extends CT.vIt{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}m4(t){}T4(){}}}{const GT=self.Gs,IT=self.Ps,_T=[0,0,0],ET=0,AT=1,DT=2,NT=3,LT=4,OT=5,RT=6,kT=7,PT=8,FT=9,jT=10,zT=11,BT=12,UT=13,WT=15,QT=["left","center","right"],YT=["top","center","bottom"],VT=["ltr","rtl"],JT=["word","cjk","character"],HT=new GT.Rect,qT=new GT.Iu,XT=new GT.xo,ZT=GT.Yh(GT.Ia),KT=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);GT._j.Text.Instance=class extends GT.e_t{constructor(t,s){if(super(t),this.Fc="",this.u1t=!0,this.l1t="Arial",this.c1t=12,this.f1t=0,this.aE=!1,this.uE=!1,this.Eb=GT.Yh(GT.xo),this.mE=0,this.gE=0,this.wE="word",this.SE=0,this.d1t="auto",this.p1t=1,this.m1t=null,this.g1t="",this.y1t=!1,this.M1t=!1,this.w1t=null,this.S1t=-1,this.T1t=-1,this.b1t=0,this.x1t=GT.Yh(GT.OM.UT,this.Pc.lb(),{timeout:5}),this.x1t.JE=()=>this.Pc.pj(),this.v1t=()=>this.C1t(),this.G1t=!1,s){this.Fc=s[ET],this.u1t=!!s[AT],this.l1t=s[DT],this.c1t=s[NT],this.f1t=s[LT],this.aE=!!s[OT],this.uE=!!s[RT],this.mE=s[PT],this.gE=s[FT],this.wE=JT[s[jT]],this.SE=s[zT],this.I1t(this.Pc.cq(s[BT]));const t=s[kT];this.Eb.Eo(t[0],t[1],t[2]),this.oj().NU(s[UT]),this.M1t=!!s[WT]}this._1t(),this.E1t()}Vh(){this.I1t(null),this.A1t(),this.w1t&&(this.w1t.Vh(),this.w1t=null),this.x1t.Vh(),this.x1t=null,super.Vh()}_1t(){const t=this.x1t;t.Bc(this.Fc),t.ZE(this.u1t),this.x1t.sE()&&this.m1t?this.x1t.jg(this.Rj().bYt(this.m1t)):this.x1t.jg(null),t.KE("nearest"!==this.Pc.IP()),t.$E(this.l1t),t.eA(this.f1t),t.nA(this.aE),t.oA(this.uE),t.Lb(this.Eb),t.pA(QT[this.mE]),t.gA(YT[this.gE]),t.MA(this.wE),t.SA(VT[this.SE])}D1t(){const t=this.oj();this.x1t.tA(this.c1t),this.x1t.iA(t.XOt());const s=t.aj();let i;"auto"===this.d1t?i=s.W1(t.ZQ()):"fixed"===this.d1t&&(i=this.p1t),t.rV()&&i!==this.x1t.vA()&&t.KRt(!0),this.x1t.xA(t.Bg(),t.Zg(),i)}I1t(t){t&&(t.y0()||t.MB().constructor!==GT._j.Uht)||t!==this.m1t&&(this.m1t&&this.m1t.yf().removeEventListener("animationframeimagechange",this.v1t),this.m1t=t,this.m1t&&this.m1t.yf().addEventListener("animationframeimagechange",this.v1t),this._1t(),this.y1t=!1,this.Pc.pj())}C1t(){this.Pc.xYt(this.m1t),this.Pc.pj(),this.G1t=!0}E1t(){if(this.M1t){let t=this.Fc;this.u1t&&(t=GT.dh.Lg(t)),this.w1t?this.w1t.Bc(t):this.w1t=GT.Yh(GT.kc,this.Pc,t)}else this.w1t&&(this.w1t.Vh(),this.w1t=null)}Fx(t){const s=this.oj();this.D1t(),this.G1t&&(this.G1t=!1,this.x1t.sE()&&this.m1t&&this.x1t.jg(this.Rj().bYt(this.m1t)));const i=this.x1t.lC();if(!i)return;const e=s.aj();if(0===s.XB()&&0===e.XB()&&0===s.ZQ()&&!s.rV()&&e.e1()){const h=s.iY(),[n,r]=e.bW(h.Fn(),h.jn()),[o,a]=e.bW(h.Un(),h.Wn()),u=n-Math.round(n),l=r-Math.round(r);HT.set(n,r,o,a),HT.offset(-u,-l),qT.Hu(HT);const[c,f]=t.wL(t.FL());this.Pc.bj().fX(t,c,f),t.nL(i),t.$S(qT,this.x1t.tD()),e.pX(t)}else t.nL(i),s.rV()?this.zXt(s,t):this.BXt(s,t)}BXt(t,s){let i=t.iY();this.Pc.EP()&&(i=this.N1t(i)),s.$S(i,this.x1t.tD())}zXt(t,s){const i=t.ZRt();if(t.$Rt()){t.$Q(HT,qT,!1);let s=qT;this.Pc.EP()&&(s=this.N1t(s)),i.Px(t.oV(),s,this.x1t.tD()),t.KRt(!1)}i.Fx(s)}N1t(t){const s=t.Fn()-Math.round(t.Fn()),i=t.jn()-Math.round(t.jn());return 0===s&&0===i?t:(qT.m(t),qT.offset(-s,-i),qT)}f_t(){const t=this.x1t.lC();return t?[t.Bg(),t.Zg()]:[100,100]}d_t(){return this.x1t.tD()}g_t(){return!1}ix(){const t={t:this.Fc,c:this.Eb.toJSON(),fn:this.l1t,ps:this.c1t};return this.u1t&&(t.bbc=this.u1t),0!==this.mE&&(t.ha=this.mE),0!==this.gE&&(t.va=this.gE),"word"!==this.wE&&(t.wr=this.wE),0!==this.f1t&&(t.lho=this.f1t),this.aE&&(t.b=this.aE),this.uE&&(t.i=this.uE),-1!==this.T1t&&(t.tw={st:this.S1t,en:this.T1t,l:this.b1t}),this.m1t&&(t.ioc=this.m1t.C0()),"fixed"===this.d1t&&(t.fs=this.p1t),t}hx(t){if(this.A1t(),this.Fc=t.t,this.Eb.ya(t.c),this.l1t=t.fn,this.c1t=t.ps,this.u1t=!!t.hasOwnProperty("bbc")&&t.bbc,this.mE=t.hasOwnProperty("ha")?t.ha:0,this.gE=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.wE="boolean"==typeof s?s?"word":"character":s}else this.wE="word";if(this.f1t=t.hasOwnProperty("lho")?t.lho:0,this.aE=!!t.hasOwnProperty("b")&&t.b,this.uE=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const s=t.tw;this.S1t=s.st,this.T1t=s.en,this.b1t=s.l}if(t.hasOwnProperty("ioc")){const s=this.Rj().cq(t.ioc);s&&this.I1t(s)}else this.I1t(null);t.hasOwnProperty("fs")?(this.d1t="fixed",this.p1t=t.fs):this.d1t="auto",this._1t(),this.E1t(),this.y1t=!1,-1!==this.T1t&&this.HIt()}Wnt(t){switch(t){case ET:return this.bA();case AT:return this.u1t;case DT:return this.L1t();case NT:return this.O1t();case LT:return this.R1t();case OT:return this.k1t();case RT:return this.P1t();case kT:return _T[0]=this.Eb.Po(),_T[1]=this.Eb.Fo(),_T[2]=this.Eb.jo(),_T;case PT:return this.F1t();case FT:return this.j1t();case jT:return this.z1t();case WT:return this.B1t()}}qnt(t,s){switch(t){case ET:this.U1t(s);break;case AT:if(this.u1t===!!s)return;this.u1t=!!s,this._1t();break;case DT:this.W1t(s);break;case NT:this.Q1t(s);break;case LT:this.Y1t(s);break;case OT:this.V1t(s);break;case RT:this.J1t(s);break;case kT:const t=this.Eb,i=s;if(t.Po()===i[0]&&t.Fo()===i[1]&&t.jo()===i[2])return;this.Eb.Eo(i[0],i[1],i[2]),this._1t();break;case PT:this.H1t(s);break;case FT:this.q1t(s);break;case jT:this.X1t(s)}}$It(t,s,i,e){0===s&&0===i&&0===e||t!==kT||(this.Eb.Ao(s,i,e),this._1t())}U1t(t){this.Fc!==t&&(this.Fc=t,this.x1t.Bc(t),this.E1t(),this.y1t=!1,this.Pc.pj())}bA(){return this.Fc}Z1t(t,s){this.D1t(),this.U1t(t),this.S1t=this.Pc.dF(),this.T1t=this.S1t+s/this.UJ().YW(),this.b1t=this.x1t._A(),this.x1t.uA(0),this.HIt()}A1t(){this.S1t=-1,this.T1t=-1,this.b1t=0,this.x1t.uA(-1),this.NIt()}K1t(){-1!==this.T1t&&(this.A1t(),this.uQ(GT._j.Text.Gj.$1t),this.Pc.pj())}W1t(t){this.l1t!==t&&(this.l1t=t,this.x1t.$E(t),this.Pc.pj())}L1t(){return this.l1t}V1t(t){t=!!t,this.aE!==t&&(this.aE=t,this.x1t.nA(t),this.Pc.pj())}k1t(){return this.aE}J1t(t){t=!!t,this.uE!==t&&(this.uE=t,this.x1t.oA(t),this.Pc.pj())}P1t(){return this.uE}Q1t(t){this.c1t!==t&&(this.c1t=t,this.Pc.pj())}O1t(){return this.c1t}t2t(t){this.Eb.Qo(t)||(this.Eb.ko(t),this.x1t.Lb(this.Eb),this.Pc.pj())}s2t(){return this.Eb}Y1t(t){this.f1t!==t&&(this.f1t=t,this._1t(),this.Pc.pj())}R1t(){return this.f1t}H1t(t){this.mE!==t&&(this.mE=t,this._1t(),this.Pc.pj())}F1t(){return this.mE}q1t(t){this.gE!==t&&(this.gE=t,this._1t(),this.Pc.pj())}j1t(){return this.gE}i2t(t){this.X1t(JT[t])}X1t(t){this.wE!==t&&(this.wE=t,this._1t(),this.Pc.pj())}z1t(){return this.wE}e2t(t){this.SE!==t&&(this.SE=t,this._1t(),this.Pc.pj())}h2t(){return this.SE}n2t(t){this.M1t=!!t,this.E1t()}B1t(){return this.M1t}r2t(t){this.d1t!==t&&(this.d1t=t,this.Pc.pj())}o2t(){return this.d1t}a2t(t){this.p1t!==t&&(this.p1t=t,"fixed"===this.d1t&&this.Pc.pj())}u2t(){return this.p1t}l2t(){return this.D1t(),this.x1t.CA()}c2t(){return this.D1t(),this.x1t.IA()}f2t(t,s){this.D1t();const i=this.oj();ZT.set(t-i.Wb(),s-i.Vb()),ZT.rotate(-i.XB()),ZT.offset(i.Bg()*i.WQ(),i.Zg()*i.VQ()),ZT.Mt(i.Bg(),i.Zg()),ZT.scale(this.x1t.Bg(),this.x1t.Zg());const e=this.x1t.AA(ZT.Na(),ZT.Oa());if(e){const t=e.Wy("tag");if(t)return t.Ig}return""}d2t(t,s,i){const e=this.f2t(s,i);return e&&GT.Ze(t,e)}p2t(t,s){this.D1t(),s=Math.floor(s);const i=this.x1t.NA(t,s);if(!i)return null;const e=this.oj(),h=this.x1t.fA(),n=i.Fy(),r=i.zy()-(i.Zg()-i.$g())*h,o=i.Bg()*h/this.x1t.Bg()*e.Bg(),a=i.Zg()*h/this.x1t.Zg()*e.Zg();return ZT.set(n,r),ZT.Mt(this.x1t.Bg(),this.x1t.Zg()),ZT.scale(e.Bg(),e.Zg()),ZT.offset(-e.Bg()*e.WQ(),-e.Zg()*e.VQ()),ZT.rotate(e.XB()),ZT.offset(e.Wb(),e.Vb()),{x:ZT.Na(),y:ZT.Oa(),width:o,height:a}}m2t(t){return this.D1t(),this.x1t.LA(t)}g2t(t){let s=KT.get(t);return null===s?"":(s||(s="span"),`</${s||"span"}>`)}y2t(t,s){let i=KT.get(t);if(null===i)return"";switch(i||(i="span"),t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async M2t(){if(this.y1t)return this.g1t;const t=new GT.dh(this.Fc,{fg:!0}).Cg(),s=new Map;let i='<span class="c3-text"';const e=[];e.push(`font-family: '${this.L1t()}';`),this.k1t()&&e.push("font-weight: bold;"),this.P1t()&&e.push("font-style: italic;"),"character"===this.z1t()&&e.push("word-break: break-all;"),i+=` style="${e.join(" ")}">`;const h=this.m1t?this.Rj().bYt(this.m1t):null;if(this.m1t){const i=GT.Yh(GT.Wd),e=[],n=new Map;for(const s of t)if(s.qg()){const t=s.qy(h);if(t){const s=t.AM().sJ().zEt();if(n.has(s))continue;n.set(s,null),e.push(i.Fl((async()=>{const t=await s.uK();n.set(s,t)})))}}await Promise.all(e);const r=[];for(const e of t)if(e.qg()){const t=e.qy(h);if(t){const e=t.AM(),h=e.sJ().zEt();r.push(i.Fl((async()=>{const i=await e.sJ().UEt(n.get(h));s.set(t,i)})))}}await Promise.all(r);for(const t of n.values())t instanceof ImageBitmap&&t.close&&t.close()}const n=new Map;for(const e of t){const t=e.Yy();let r=[...n.keys()];r.reverse();for(const s of r)t.has(s)&&t.get(s)===n.get(s)||(n.delete(s),i+=this.g2t(s));for(const[s,e]of t)n.has(s)||(n.set(s,e),i+=this.y2t(s,e));if(e.Jg()&&(i+=GT._m(GT.Gm(e.gy().join("")),"\n","<br>")),e.qg()&&h){const n=e.qy(h);if(n){const h=s.get(n);if(h){const s=[];let r="0.2em";const o=t.get("iconoffsety");if(o){let t=o.trim();r=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}s.push(`top: ${r}`),"nearest"===this.Pc.IP()&&s.push("image-rendering: pixelated"),i+=`<img class="c3-text-icon" data-icon="${e.Hy()}" width="${n.Bg()}" height="${n.Zg()}" style="${s.join(";")}" src="${h}">`}}}}const r=[...n.keys()];r.reverse();for(const t of r)i+=this.g2t(t);return i+="</span>",this.g1t=i,this.y1t=!0,this.g1t}f8(){const t=this.Pc.dF();if(t>=this.T1t)this.A1t(),this.uQ(GT._j.Text.Gj.$1t),this.Pc.pj();else{let s=GT.gn(this.S1t,this.T1t,t,0,this.b1t);s=Math.floor(s),s!==this.x1t.lA()&&(this.x1t.uA(s),this.Pc.pj())}}KIt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.bA(),cZt:t=>this.U1t(t)},{name:t+".properties.font.name",value:this.L1t(),cZt:t=>this.W1t(t)},{name:t+".properties.size.name",value:this.O1t(),cZt:t=>this.Q1t(t)},{name:t+".properties.line-height.name",value:this.R1t(),cZt:t=>this.Y1t(t)},{name:t+".properties.bold.name",value:this.k1t(),cZt:t=>this.V1t(t)},{name:t+".properties.italic.name",value:this.P1t(),cZt:t=>this.J1t(t)}]}]}lIt(){return self.w2t}};const $T=new WeakMap,tb=new Map([["left",0],["center",1],["right",2]]),sb=new Map([["top",0],["center",1],["bottom",2]]),ib=["ltr","rtl"];self.w2t=class extends self.cV{constructor(){super(),$T.set(this,self.GW.AW().gV())}get text(){return $T.get(this).bA()}set text(t){IT.ue(t);const s=$T.get(this);s.A1t(),s.U1t(t)}S2t(t,s){IT.ue(t),IT.ne(s);const i=$T.get(this);i.A1t(),i.Z1t(t,s)}T2t(){$T.get(this).K1t()}set gX(t){IT.ue(t),$T.get(this).W1t(t)}get gX(){return $T.get(this).L1t()}set MX(t){$T.get(this).V1t(t)}get MX(){return $T.get(this).k1t()}set wX(t){$T.get(this).J1t(t)}get wX(){return $T.get(this).P1t()}set yX(t){IT.ne(t),$T.get(this).Q1t(t)}get yX(){return $T.get(this).O1t()}set b2t(t){if(IT.ve(t),t.length<3)throw new Error("expected 3 elements");XT.Eo(t[0],t[1],t[2]),$T.get(this).t2t(XT)}get b2t(){const t=$T.get(this).s2t();return[t.Po(),t.Fo(),t.jo()]}set lineHeight(t){IT.ne(t),$T.get(this).Y1t(t)}get lineHeight(){return $T.get(this).R1t()}set bX(t){IT.ue(t);const s=tb.get(t);if(void 0===s)throw new Error("invalid mode");$T.get(this).H1t(s)}get bX(){return QT[$T.get(this).F1t()]}set verticalAlign(t){IT.ue(t);const s=sb.get(t);if(void 0===s)throw new Error("invalid mode");$T.get(this).q1t(s)}get verticalAlign(){return YT[$T.get(this).j1t()]}set xX(t){if(!JT.includes(t))throw new Error("invalid mode");$T.get(this).X1t(t)}get xX(){return $T.get(this).z1t()}set vX(t){IT.ue(t);const s=ib.indexOf(t);if(-1===s)throw new Error("invalid text direction");$T.get(this).e2t(s)}get vX(){return ib[$T.get(this).h2t()]}set x2t(t){$T.get(this).n2t(!!t)}get x2t(){return $T.get(this).B1t()}v2t(t){IT.ne(t);const s=$T.get(this);s.r2t("fixed"),s.a2t(t)}C2t(){$T.get(this).r2t("auto")}get IX(){return $T.get(this).l2t()}get _X(){return $T.get(this).c2t()}G2t(){const t=$T.get(this);return[t.l2t(),t.c2t()]}I2t(t,s,i){return IT.ue(t),IT.ne(s),IT.ne(i),$T.get(this).d2t(t,s,i)}_2t(t,s){return IT.ne(t),IT.ne(s),$T.get(this).f2t(t,s)}E2t(t,s=0){return IT.ue(t),IT.ne(s),$T.get(this).p2t(t,s)}A2t(t){return IT.ue(t),$T.get(this).m2t(t)}D2t(t){const s=$T.get(this),i=s.Rj().cz(t);s.I1t(i)}N2t(){return $T.get(this).M2t()}}}{const eb=self.Gs;eb._j.Text.Gj={L2t(t,s){return s?this.Fc===t:eb.Ze(this.Fc,t)},O2t(){return-1!==this.T1t},$1t:()=>!0,R2t(t,s,i){return this.d2t(t,s,i)}}}{const hb=self.Gs,nb=hb.Yh(hb.xo);hb._j.Text.nnt={Bc(t){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.U1t(t.toString())},k2t(t){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),(t=t.toString())&&this.U1t(this.Fc+t)},P2t(t,s){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.Z1t(t.toString(),s)},F2t(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.l1t&&i===this.aE&&e===this.uE||(this.W1t(t),this.V1t(i),this.J1t(e))},tA(t){this.Q1t(t)},j2t(t){nb.Ko(t),nb.Zh(),this.t2t(nb)},z2t(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},JZt(t){this.oj().Nb(t),this.Pc.pj()},B2t(){this.K1t()},eA(t){this.Y1t(t)},U2t(t){this.H1t(t)},W2t(t){this.q1t(t)},Q2t(t){this.i2t(t)},SA(t){this.e2t(t)},Y2t(t){this.I1t(t)},V2t(){return this.M2t()},J2t(t){this.n2t(t)},H2t(t,s){this.r2t(["auto","fixed"][t]),this.a2t(s)}}}{const rb=self.Gs;rb._j.Text.rnt={Text(){return this.Fc},q2t(){return this.u1t?rb.dh.Lg(this.Fc):this.Fc},X2t(){return this.l1t},Z2t(){return this.c1t},K2t(){return this.l2t()},$2t(){return this.c2t()},t3t(){return this.f1t},s3t(t,s){return this.f2t(t,s)},i3t(t){return this.m2t(t)},e3t(t,s){const i=this.p2t(t,s);return i?i.x:0},h3t(t,s){const i=this.p2t(t,s);return i?i.y:0},n3t(t,s){const i=this.p2t(t,s);return i?i.width:0},r3t(t,s){const i=this.p2t(t,s);return i?i.height:0},o3t(){return this.g1t}}}{const ob=self.Gs;ob._j.Keyboard=class extends ob.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{let ab=function(){return lb.mB().gV()};0;const ub=self.Gs;self.Ps,ub._j.Keyboard.eDt=class extends ub.vIt{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}lIt(){return self.a3t}};let lb=null;self.a3t=class extends self.gB{constructor(t){super(t),lb=t,t.Rj().qF().keyboard=this}u3t(t){const s=ab();if("string"==typeof t)return s.l3t(t);if("number"==typeof t)return s.c3t(t);throw new TypeError("expected string or number")}}}{const cb=self.Gs,fb="keyboard";cb._j.Keyboard.Instance=class extends cb.EIt{constructor(t,s){super(t,fb),this.f3t=new Set,this.d3t=new Set,this.p3t=0,this.m3t="",this.g3t="",this.y3t=!1;const i=this.Rj().yf();this.qf=new cb.Vf(cb.zf.Yf(i,"keydown",(t=>this.M3t(t.data))),cb.zf.Yf(i,"keyup",(t=>this.w3t(t.data))),cb.zf.Yf(i,"window-blur",(()=>this.S3t())),cb.zf.Yf(i,"keyboard-blur",(()=>this.S3t()))),this.Pc.Sj(this.Ub())}Vh(){super.Vh()}async Ub(){const t=await this.UIt("init");this.y3t=t.isKeyboardLockSupported}M3t(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.f3t.has(i)||(this.f3t.add(i),this.d3t.add(s),this.m3t=i,this.p3t=s,this.g3t=e,this.uQ(cb._j.Keyboard.Gj.T3t),this.uQ(cb._j.Keyboard.Gj.b3t),this.uQ(cb._j.Keyboard.Gj.x3t),this.uQ(cb._j.Keyboard.Gj.v3t))}w3t(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.f3t.delete(i),this.d3t.delete(s),this.m3t=i,this.p3t=s,this.g3t=e,this.uQ(cb._j.Keyboard.Gj.C3t),this.uQ(cb._j.Keyboard.Gj.G3t),this.uQ(cb._j.Keyboard.Gj.I3t),this.uQ(cb._j.Keyboard.Gj._3t)}S3t(){for(const t of this.d3t)this.d3t.delete(t),this.p3t=t,this.uQ(cb._j.Keyboard.Gj.C3t),this.uQ(cb._j.Keyboard.Gj.G3t),this.uQ(cb._j.Keyboard.Gj._3t);this.f3t.clear()}l3t(t){return this.f3t.has(t)}c3t(t){return this.d3t.has(t)}ix(){return{tk:this.p3t,tkk:this.g3t}}hx(t){this.p3t=t.tk,t.hasOwnProperty("tkk")&&(this.g3t=t.tkk)}KIt(){const t="plugins.keyboard";return[{title:t+".name",properties:[{name:t+".debugger.last-key-code",value:this.p3t},{name:t+".debugger.last-key-string",value:cb._j.Keyboard.rnt.E3t(this.p3t)},{name:t+".debugger.last-typed-key",value:this.g3t}]}]}}}{const db=self.Gs,pb=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];db._j.Keyboard.Gj={l3t(t){return this.d3t.has(t)},b3t(t){return this.p3t===t},T3t:()=>!0,C3t:()=>!0,G3t(t){return this.p3t===t},c3t(t){return t=Math.floor(t),this.d3t.has(t)},v3t(t){return this.p3t===t},_3t(t){return this.p3t===t},x3t(t){const s=pb[t];return this.m3t===s},I3t(t){const s=pb[t];return this.m3t===s},A3t(t){const s=pb[t];return this.f3t.has(s)},D3t(){return this.y3t},N3t:()=>!0,L3t:()=>!0}}{const mb=self.Gs;mb._j.Keyboard.nnt={async O3t(t){if(!this.y3t)return;let s=[];t&&(s=t.split(",")),(await this.UIt("lock-keyboard",{keysArr:s})).isOk?this.uQ(mb._j.Keyboard.Gj.N3t):this.uQ(mb._j.Keyboard.Gj.L3t)},R3t(){this.y3t&&this.UIt("unlock-keyboard")}}}{let gb=function(t){switch(t=Math.floor(t)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"";case 38:return"";case 39:return"";case 40:return"";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(t)}};self.Gs._j.Keyboard.rnt={k3t(){return this.p3t},E3t:t=>gb(t),P3t(){return this.g3t}}}{const yb=self.Gs,Mb="button";yb._j.F3t=class extends yb.mIt{constructor(t){super(t,Mb),this.wIt("click",((t,s)=>t.j3t(s)))}Vh(){super.Vh()}}}{const wb=self.Gs;wb._j.F3t.eDt=class extends wb.vIt{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const Sb=self.Gs,Tb=self.Ps,bb=0,xb=1,vb=2,Cb=3,Gb=4,Ib=5,_b=6,Eb=7,Ab=8,Db="button";Sb._j.F3t.Instance=class extends Sb.w_t{constructor(t,s){super(t,Db),this.Fc="OK",this.z3t=!1,this.B3t=!1,this.U3t="",this.jc="",this.W3t="",this.bSt=!0,this.x_t=!0,s&&(this.z3t=1===s[bb],this.Fc=s[xb],this.U3t=s[vb],this.oj().NU(s[Cb]),this.bSt=s[Gb],this.x_t=s[Ib],this.B3t=s[_b],this.jc=s[Eb],this.W3t=s[Ab]),this.O_t({id:this.jc,className:this.W3t})}Vh(){super.Vh()}R_t(){return{text:this.Fc,isCheckbox:this.z3t,isChecked:this.B3t,title:this.U3t,isVisible:this.oj().OU(),isEnabled:this.bSt}}async j3t(t){this.B3t=t.isChecked,this.IIt("click",!0),await this.vj(Sb._j.F3t.Gj.Q3t)}U1t(t){this.Fc!==t&&(this.Fc=t,this.F_t())}Y3t(){return this.Fc}V3t(t){this.U3t!==t&&(this.U3t=t,this.F_t())}J3t(){return this.U3t}wCt(t){t=!!t,this.bSt!==t&&(this.bSt=t,this.F_t())}TCt(){return this.bSt}H3t(t){this.z3t&&(t=!!t,this.B3t!==t&&(this.B3t=t,this.F_t()))}q3t(){return this.B3t}Fx(t){}ix(){return{text:this.Fc,checked:this.B3t,title:this.U3t,enabled:this.bSt}}hx(t){this.Fc=t.text,this.B3t=t.checked,this.U3t=t.title,this.bSt=t.enabled,this.F_t()}Wnt(t){switch(t){case xb:return this.Y3t();case vb:return this.J3t();case Gb:return this.TCt();case Ib:return this.x_t;case _b:return this.q3t()}}qnt(t,s){switch(t){case xb:this.U1t(s);break;case vb:this.V3t(s);break;case Gb:this.wCt(!!s);break;case Ib:this.x_t=!!s;break;case _b:this.H3t(!!s)}}KIt(){const t="plugins.button";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.Y3t(),cZt:t=>this.U1t(t)},{name:t+".properties.enabled.name",value:this.TCt(),cZt:t=>this.wCt(t)},{name:t+".properties.checked.name",value:this.q3t(),cZt:t=>this.H3t(t)}]}]}lIt(){return self.X3t}};const Nb=new WeakMap;self.X3t=class extends self.dV{constructor(){super(),Nb.set(this,self.GW.AW().gV())}set text(t){Tb.ue(t),Nb.get(this).U1t(t)}get text(){return Nb.get(this).Y3t()}set Z3t(t){Tb.ue(t),Nb.get(this).V3t(t)}get Z3t(){return Nb.get(this).J3t()}set isEnabled(t){Nb.get(this).wCt(t)}get isEnabled(){return Nb.get(this).TCt()}set K3t(t){Nb.get(this).H3t(t)}get K3t(){return Nb.get(this).q3t()}}}{const Lb=self.Gs;Lb._j.F3t.Gj={Q3t:()=>!0,$3t(){return this.B3t},L2t(t,s){return s?this.Fc===t:Lb.Ze(this.Fc,t)}}}self.Gs._j.F3t.nnt={Bc(t){this.U1t(t)},t4t(t){this.V3t(t)},s4t(t){this.H3t(0!==t)},i4t(){this.z3t&&(this.B3t=!this.B3t,this.F_t())}},self.Gs._j.F3t.rnt={Text(){return this.Fc}};{const Ob=self.Gs;Ob._j.e4t=class extends Ob.zGt{constructor(t){super(t)}Vh(){super.Vh()}}}{const Rb=self.Gs;Rb._j.e4t.eDt=class extends Rb.vIt{constructor(t){super(t),this.h4t=Rb.Yh(self.n4t)}Vh(){super.Vh()}uIt(){this.sJ().Oj(this.Pc)}m4(t){return this.sJ().hX(t,{qx:this.Pc.IP()})}T4(){this.sJ().YE()}r4t(){return this.h4t}o4t(t,s,i,e){const h=this.sJ(),n=this.h4t;n.Hg(h.Bg()),n.Ug(h.Zg()),n.a4t(t),n.u4t(s),n.l4t(i),n.c4t(e),n.f4t()}}}{const kb=self.Gs,Pb=self.Ps,Fb=kb.Yh(kb.Ia),jb=0,zb=1,Bb=2,Ub=3,Wb=4,Qb=5,Yb=6,Vb=7,Jb=8,Hb=9,qb=10,Xb=11,Zb=14,Kb=["left","center","right"],$b=["top","center","bottom"],tx=["word","cjk","character"];kb._j.e4t.Instance=class extends kb.e_t{constructor(t,s){super(t),this.Fc="",this.u1t=!0,this.d4t=16,this.p4t=16,this.m4t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@+=*$<>";let i="";this.g4t=1,this.y4t=0,this.oE=0,this.mE=0,this.gE=0,this.wE="word",this.M4t=!0,this.M1t=!1,this.w1t=null,this.w4t=null,this.S1t=-1,this.T1t=-1,this.b1t=0,s&&(this.Fc=s[0],this.u1t=s[1],this.d4t=s[2],this.p4t=s[3],this.m4t=s[4],i=s[5],this.g4t=s[6],this.y4t=s[7],this.oE=s[8],this.mE=s[9],this.gE=s[10],this.wE=tx[s[11]],this.oj().NU(s[12]),this.M1t=!!s[Zb]),this.DIt.o4t(this.d4t,this.p4t,this.m4t,i),this.w4t=kb.Yh(self.S4t,this.DIt.r4t());const e=this.oj();this.w4t.xA(e.Bg(),e.Zg()),this.T4t(),this.E1t(),this.fi.FNt()}Vh(){this.A1t(),this.w1t&&(this.w1t.Vh(),this.w1t=null),this.w4t.Vh(),this.w4t=null,super.Vh()}T4t(){const t=this.w4t;t&&(t.ZE(this.u1t),t.Bc(this.Fc),t.MA(this.wE),t.b4t(Kb[this.mE]),t.x4t($b[this.gE]),t.v4t(this.y4t),t.eA(this.oE))}D1t(){const t=this.oj();this.w4t.xA(t.Bg(),t.Zg()),this.w4t.JB(this.g4t)}E1t(){if(this.M1t){let t=this.Fc;this.u1t&&(t=kb.dh.Lg(t)),this.w1t?this.w1t.Bc(t):this.w1t=kb.Yh(kb.kc,this.Pc,t)}else this.w1t&&(this.w1t.Vh(),this.w1t=null)}Fx(t){const s=this.sdt.sJ(),i=s.lC();if(!i)return;t.nL(i);const e=this.oj();let h=e.iY();const n=this.w4t;n.JB(this.g4t),n.C4t(e.XOt()),this.Pc.EP()&&(h=e.LRt(h)),n.xA(e.Bg(),e.Zg()),n.r4t().G4t(s.tD()),n.Lb(e.rY()),n.Fx(t,h.Fn(),h.jn(),e.XB()),this.M4t=!1}ix(){const t={t:this.Fc,ebbc:this.u1t,csc:this.g4t,csp:this.y4t,lh:this.oE,ha:this.mE,va:this.gE,w:this.wE,cw:this.DIt.r4t().I4t(),ch:this.DIt.r4t()._4t(),cs:this.DIt.r4t().E4t(),sd:this.DIt.r4t().A4t()};return-1!==this.T1t&&(t.tw={st:this.S1t,en:this.T1t,l:this.b1t}),t}hx(t){if(this.A1t(),this.Fc=t.t,this.u1t=t.ebbc,this.g4t=t.csc,this.y4t=t.csp,this.oE=t.lh,this.mE=t.ha,this.gE=t.va,t.hasOwnProperty("w")){const s=t.w;this.wE="boolean"==typeof s?s?"word":"character":s}else this.wE="word";if(t.hasOwnProperty("tw")){const s=t.tw;this.S1t=s.st,this.T1t=s.en,this.b1t=t.l}const s=this.DIt.r4t();s.a4t(t.cw),s.u4t(t.ch),s.l4t(t.cs),s.c4t(t.sd),this.T4t(),this.E1t(),-1!==this.T1t&&this.HIt()}Wnt(t){switch(t){case jb:return this.bA();case zb:return this.u1t;case Bb:return this.DIt.r4t().I4t();case Ub:return this.DIt.r4t()._4t();case Wb:return this.DIt.r4t().E4t();case Qb:return this.DIt.r4t().A4t();case Yb:return this.D4t();case Vb:return this.N4t();case Jb:return this.R1t();case Hb:return this.F1t();case qb:return this.j1t();case Xb:return this.z1t()}}qnt(t,s){switch(t){case jb:this.U1t(s);break;case zb:if(this.u1t===!!s)return;this.u1t=!!s,this.T4t();break;case Bb:this.DIt.r4t().a4t(s);break;case Ub:this.DIt.r4t().u4t(s);break;case Wb:this.DIt.r4t().l4t(s);break;case Qb:this.DIt.r4t().c4t(s);break;case Yb:this.L4t(s);break;case Vb:this.O4t(s);break;case Jb:this.Y1t(s);break;case Hb:this.H1t(s);break;case qb:this.q1t(s);break;case Xb:this.X1t(s)}}U1t(t){this.Fc!==t&&(this.Fc=t,this.w4t.Bc(t),this.E1t(),this.Pc.pj())}bA(){return this.Fc}Z1t(t,s){this.U1t(t),this.S1t=this.Pc.dF(),this.T1t=this.S1t+s/this.UJ().YW(),this.b1t=kb.Vm(kb.dh.Lg(t)),this.w4t.uA(0),this.HIt()}A1t(){this.S1t=-1,this.T1t=-1,this.b1t=0,this.w4t.uA(-1),this.NIt()}K1t(){-1!==this.T1t&&(this.A1t(),this.uQ(kb._j.e4t.Gj.$1t),this.Pc.pj())}L4t(t){this.g4t!==t&&(this.g4t=t,this.w4t.JB(this.g4t),this.Pc.pj())}D4t(){return this.g4t}O4t(t){this.y4t!==t&&(this.y4t=t,this.w4t.v4t(this.y4t),this.Pc.pj())}N4t(){return this.y4t}Y1t(t){this.oE!==t&&(this.oE=t,this.w4t.eA(this.oE),this.Pc.pj())}R1t(){return this.oE}H1t(t){this.mE!==t&&(this.mE=t,this.T4t(),this.Pc.pj())}F1t(){return this.mE}q1t(t){this.gE!==t&&(this.gE=t,this.T4t(),this.Pc.pj())}j1t(){return this.gE}i2t(t){this.X1t(tx[t])}X1t(t){this.wE!==t&&(this.wE=t,this.T4t(),this.Pc.pj())}z1t(){return this.wE}n2t(t){this.M1t=!!t,this.E1t()}B1t(){return this.M1t}l2t(){return this.D1t(),this.w4t.CA()}c2t(){return this.D1t(),this.w4t.IA()}f2t(t,s){this.D1t();const i=this.oj();Fb.set(t-i.Wb(),s-i.Vb()),Fb.rotate(-i.XB()),Fb.offset(i.Bg()*i.WQ(),i.Zg()*i.VQ());const e=this.w4t.AA(Fb.Na(),Fb.Oa());if(e){const t=e.Wy("tag");if(t)return t.Ig}return""}d2t(t,s,i){const e=this.f2t(s,i);return e&&kb.Ze(t,e)}p2t(t,s){this.D1t(),s=Math.floor(s);const i=this.w4t.NA(t,s);if(!i)return null;const e=this.oj();return Fb.set(i.Fy(),i.zy()),Fb.offset(-e.Bg()*e.WQ(),-e.Zg()*e.VQ()),Fb.rotate(e.XB()),Fb.offset(e.Wb(),e.Vb()),{x:Fb.Na(),y:Fb.Oa(),width:i.Bg(),height:i.Zg()}}m2t(t){return this.D1t(),this.w4t.LA(t)}f8(){const t=this.Pc.dF();if(t>=this.T1t)this.A1t(),this.uQ(kb._j.e4t.Gj.$1t),this.Pc.pj();else{let s=kb.gn(this.S1t,this.T1t,t,0,this.b1t);s=Math.floor(s),s!==this.w4t.lA()&&(this.w4t.uA(s),this.Pc.pj())}}KIt(){const t="plugins.spritefont2";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.bA(),cZt:t=>this.U1t(t)},{name:t+".properties.scale.name",value:this.D4t(),cZt:t=>this.L4t(t)},{name:t+".properties.character-spacing.name",value:this.N4t(),cZt:t=>this.O4t(t)},{name:t+".properties.line-height.name",value:this.R1t(),cZt:t=>this.Y1t(t)}]}]}lIt(){return self.R4t}};const sx=new WeakMap,ix=new Map([["left",0],["center",1],["right",2]]),ex=new Map([["top",0],["center",1],["bottom",2]]);self.R4t=class extends self.cV{constructor(){super(),sx.set(this,self.GW.AW().gV())}get text(){return sx.get(this).bA()}set text(t){Pb.ue(t);const s=sx.get(this);s.A1t(),s.U1t(t)}S2t(t,s){Pb.ue(t),Pb.ne(s);const i=sx.get(this);i.A1t(),i.Z1t(t,s)}T2t(){sx.get(this).K1t()}set k4t(t){Pb.ne(t),sx.get(this).L4t(t)}get k4t(){return sx.get(this).D4t()}set P4t(t){Pb.ne(t),sx.get(this).O4t(t)}get P4t(){return sx.get(this).N4t()}set lineHeight(t){Pb.ne(t),sx.get(this).Y1t(t)}get lineHeight(){return sx.get(this).R1t()}set bX(t){Pb.ue(t);const s=ix.get(t);if(void 0===s)throw new Error("invalid mode");sx.get(this).H1t(s)}get bX(){return Kb[sx.get(this).F1t()]}set verticalAlign(t){Pb.ue(t);const s=ex.get(t);if(void 0===s)throw new Error("invalid mode");sx.get(this).q1t(s)}get verticalAlign(){return $b[sx.get(this).j1t()]}set xX(t){if(!tx.includes(t))throw new Error("invalid mode");sx.get(this).X1t(t)}get xX(){return sx.get(this).z1t()}set x2t(t){sx.get(this).n2t(!!t)}get x2t(){return sx.get(this).B1t()}get IX(){return sx.get(this).l2t()}get _X(){return sx.get(this).c2t()}G2t(){const t=sx.get(this);return[t.l2t(),t.c2t()]}I2t(t,s,i){return Pb.ue(t),Pb.ne(s),Pb.ne(i),sx.get(this).d2t(t,s,i)}_2t(t,s){return Pb.ne(t),Pb.ne(s),sx.get(this).f2t(t,s)}E2t(t,s=0){return Pb.ue(t),Pb.ne(s),sx.get(this).p2t(t,s)}A2t(t){return Pb.ue(t),sx.get(this).m2t(t)}}}{const hx=self.Gs;hx._j.e4t.Gj={L2t(t,s){return s?this.Fc===t:hx.Ze(this.Fc,t)},O2t(){return-1!==this.T1t},$1t:()=>!0,R2t(t,s,i){return this.d2t(t,s,i)}}}self.Gs._j.e4t.nnt={Bc(t){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.U1t(t.toString())},k2t(t){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),(t=t.toString())&&this.U1t(this.Fc+t)},P2t(t,s){this.A1t(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.Z1t(t.toString(),s)},B2t(){this.K1t()},JB(t){this.L4t(t)},F4t(t){this.O4t(t)},eA(t){this.Y1t(t)},a4t(t,s){let i=!1;const e=this.DIt.r4t();for(const h of t)if(" "===h)e.j4t(s),i=!0;else{const t=e.z4t(h);t&&(t.B4t(s),i=!0)}i&&e.U4t(),this.Pc.pj()},JZt(t){this.oj().Nb(t),this.Pc.pj()},U2t(t){this.H1t(t)},W2t(t){this.q1t(t)},Q2t(t){this.i2t(t)},J2t(t){this.n2t(t)}};{const nx=self.Gs;nx._j.e4t.rnt={W4t(t){const s=this.DIt.r4t().z4t(t);return s?s.Q4t():this.DIt.r4t().I4t()},Y4t(){return this.p4t},V4t(){return this.g4t},J4t(){return this.y4t},t3t(){return this.oE},Text(){return this.Fc},q2t(){return this.u1t?nx.dh.Lg(this.Fc):this.Fc},K2t(){return this.l2t()},$2t(){return this.c2t()},s3t(t,s){return this.f2t(t,s)},i3t(t){return this.m2t(t)},e3t(t,s){const i=this.p2t(t,s);return i?i.x:0},h3t(t,s){const i=this.p2t(t,s);return i?i.y:0},n3t(t,s){const i=this.p2t(t,s);return i?i.width:0},r3t(t,s){const i=this.p2t(t,s);return i?i.height:0}}}{const rx=self.Gs;self.H4t=class{constructor(t,s,i,e){let h=t.I4t(),n=t._4t();this.h4t=t,this.q4t=s,this.X4t=new rx.Rect(i,e,i+h,e+n),this.Z4t=new rx.Rect,this.K4t=-1,this.$4t()}Vh(){this.h4t=null,this.X4t=null,this.Z4t=null}$4t(){let t=this.h4t.Bg(),s=this.h4t.Zg();this.Z4t.m(this.X4t),this.Z4t.Mt(t,s),this.Z4t.Gu(this.h4t.tD())}r4t(){return this.h4t}t5t(){return this.q4t}tD(){return this.Z4t}B4t(t){this.K4t=t}Q4t(){return this.K4t<0?this.h4t.I4t():this.K4t}}}{let ox=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0},ax=function(t){return gx||(gx=ux.lo(32,32).getContext("2d")),gx.fillStyle="#FFFFFF",gx.fillStyle=t,gx.fillStyle};0;const ux=self.Gs,lx=new ux.Rect,cx=new ux.Iu,fx=new ux.xo,dx=new Set(["left","center","right"]),px=new Set(["top","center","bottom"]),mx=new Set(["word","cjk","character"]);let gx=null;self.S4t=class{constructor(t){this.h4t=t,this.GE=0,this.IE=0,this.Fc="",this.cE=!1,this.yE=null,this.ME=ux.Yh(ux.Og),this.wE="word",this.TE=!1,this.bE=!1,this.mE="left",this.gE="top",this.a$=1,this.s5t=1,this.i5t=0,this.oE=0,this.Eb=ux.Yh(ux.xo),this.vE=-1,this.CE=0,this.zE=t=>this.BE(t),this.h4t.e5t(this)}Vh(){this.h4t.h5t(this),this.Eb=null,this.zE=null,this.ME._l(),this.ME=null,this.h4t=null,this.yE=null}BE(t){if(t.qg())return{width:0,height:0};const s=t.gy(),i=t.Wy("scale"),e=(i?parseFloat(i.Ig):this.a$)*this.s5t,h=t.Wy("scalex"),n=(h?parseFloat(h.Ig):1)*e,r=t.Wy("scaley"),o=(r?parseFloat(r.Ig):1)*e,a=this.h4t._4t()*o+this.oE,u=this.r4t(),l=u.I4t()*n,c=this.n5t();if(u.r5t()){let t=0,i=0;for(const e of s){let s=l;const h=u.z4t(e);h?s=h.Q4t()*n:" "===e&&(s=u.o5t()*n),i+=s,++t}return{width:i+t*c,height:a}}{const t=s.length;return{width:l*t+Math.max(t,0)*c,height:a}}}XE(){this.bE=!0}eE(){this.XE(),this.TE=!0,this.ME._l()}xA(t,s){t<=0||s<=0||this.GE===t&&this.IE===s||(this.GE!==t?this.eE():this.XE(),this.GE=t,this.IE=s)}uA(t){this.vE=Math.floor(t)}lA(){return this.vE}AA(t,s){this.GA();const i=this.ME.Pg();for(const e of i)if(s>e.zy()&&s<e.zy()+e.Zg())for(const s of e.ey())if(t>=s.Fy()&&t<s.Fy()+s.Bg())return s;return null}*DA(t){this.GA();const s=this.ME.Pg();for(const i of s)for(const s of i.ey()){const i=s.Wy("tag");i&&ux.Ze(i.Ig,t)&&(yield s)}}NA(t,s){for(const i of this.DA(t)){if(0===s)return i;--s}return null}LA(t){let s=0;for(const i of this.DA(t))++s;return s}GA(){this.zA(),this.BA()}zA(){if(!this.TE)return;!this.cE||this.yE&&this.yE.toString()===this.Fc||(this.yE=new ux.dh(this.Fc,{fg:!0}));const t=-this.n5t();this.ME.Og(this.cE?this.yE.Cg():this.Fc,this.zE,this.GE,this.wE,t),this.TE=!1}BA(){this.bE&&(this.UA(),this.bE=!1)}UA(){let t=0;const s=this.oE,i=ux.Nr(this.ME.Pg());for(const t of i){t.Py(NaN),t.jy(NaN);for(const s of t.ey())s.Py(NaN),s.jy(NaN)}const e=i.reduce(((t,s)=>t+s.Zg()),0)-s;"center"===this.gE?t=Math.max(Math.floor(this.IE/2-e/2),0):"bottom"===this.gE&&(t=Math.floor(this.IE-e));for(let e=0,h=i.length;e<h;++e){const h=i[e],n=h.Zg();if(e>0&&t>this.IE-(n-s))break;t>=0&&this.JA(h,t),t+=n}}JA(t,s){let i=0;"center"===this.mE?i=Math.max(Math.floor((this.GE-t.Bg())/2),0):"right"===this.mE&&(i=Math.max(Math.floor(this.GE-t.Bg()),0)),t.Py(i),t.jy(s);for(const e of t.ey())e.qg()||(this.a5t(e,i,s),i+=e.Bg())}a5t(t,s,i){const e=t.Wy("offsetx");s+=e?ox(e.Ig,t.Zg()):0;const h=t.Wy("offsety");i+=h?ox(h.Ig,t.Zg()):0,t.Py(s),t.jy(i)}Fx(t,s,i,e){this.GA(),this.CE=0;const h=ux.Nr(this.ME.Pg()),n=Math.sin(e),r=Math.cos(e);for(const e of h)this.u5t(t,e,s,i,n,r)}u5t(t,s,i,e,h,n){const r=s.Fy(),o=s.zy();if(!Number.isFinite(r)||!Number.isFinite(o))return;const a=s.Zg();for(const r of s.ey())this.XA(t,r,i,e,h,n,a)}XA(t,s,i,e,h,n,r){let o=s.Fy(),a=s.zy();if(!Number.isFinite(o)||!Number.isFinite(a))return;let u=s.gy(),l=s.Bg();if(-1!==this.vE){if(this.CE>=this.vE)return;this.CE+u.length>this.vE&&(u=u.slice(0,this.vE-this.CE),l=this.BE(s).width),this.CE+=u.length}const c=s.Wy("background");if(ux.wm(u)&&!c||s.Qy("hide"))return;const f=s.Wy("scale"),d=(f?parseFloat(f.Ig):this.a$)*this.s5t,p=s.Wy("scalex"),m=(p?parseFloat(p.Ig):1)*d,g=s.Wy("scaley"),y=(g?parseFloat(g.Ig):1)*d,M=this.h4t._4t()*y;a+=r-this.oE-M;let w=1;const S=s.Wy("opacity");S&&(w=parseFloat(S.Ig)/100),c&&(t.pS(),fx.ua(ax(c.Ig)),fx.Ro(fx.zo()*w*this.Eb.zo()),fx.Xo(),t.Lb(fx),lx.set(o,a,o+l,a+M),lx.$a()>this.GE&&lx.Ja(this.GE),cx.Xu(lx,h,n),cx.offset(i,e),t.Iu(cx),t.aS());const T=s.Wy("color");T?(fx.ua(ax(T.Ig)),fx.Ro(this.Eb.zo())):fx.m(this.Eb),fx.Ro(fx.zo()*w),fx.Xo(),t.Lb(fx);const b=this.h4t.I4t()*m,x=Math.abs(this.n5t());for(const s of u){const r=this.h4t.z4t(s);if(r){const s=r.Q4t()*m;if(o+s>this.GE+x+1e-5)return;lx.set(o,a,o+b,a+M),cx.Xu(lx,h,n),cx.offset(i,e),t.$S(cx,r.tD()),o+=s+this.i5t}else o+=this.h4t.o5t()*m+this.i5t}}r4t(){return this.h4t}ZE(t){t=!!t,this.cE!==t&&(this.cE=t,this.eE())}sE(){return this.cE}Bc(t){this.Fc!==t&&(this.Fc=t,this.eE())}MA(t){if(!mx.has(t))throw new Error("invalid word wrap mode");this.wE!==t&&(this.wE=t,this.eE())}b4t(t){if(!dx.has(t))throw new Error("invalid alignment");this.mE!==t&&(this.mE=t,this.XE())}x4t(t){if(!px.has(t))throw new Error("invalid alignment");this.gE!==t&&(this.gE=t,this.XE())}JB(t){this.a$!==t&&(this.a$=t,this.eE())}HB(){return this.a$}C4t(t){this.s5t!==t&&(this.s5t=t,this.eE())}XOt(){return this.s5t}v4t(t){this.i5t!==t&&(this.i5t=t,this.eE())}n5t(){return this.i5t}eA(t){this.oE=t,this.eE()}hA(){return this.oE}iL(t){t=ux.Zh(t,0,1),this.Eb.a=t}Lb(t){this.Eb.equals(t)||this.Eb.m(t)}hL(){return this.Eb}CA(){return this.GA(),this.ME.Gy()}IA(){this.GA();const t=this.h4t._4t()*this.a$,s=this.oE,i=t+s;return this.ME.Fg()*i-s}}}{const yx=self.Gs,Mx=(self.S4t,{width:256,height:256,l5t:16,c5t:16,characterSet:""});self.n4t=class{constructor(t){if((t=Object.assign({},Mx,t)).width<=0||t.height<=0||t.l5t<=0||t.c5t<=0)throw new Error("invalid size");this._y=t.width,this.Ey=t.height,this.d4t=t.l5t,this.p4t=t.c5t,this.m4t=t.characterSet,this.f5t="",this.d5t=null,this.p5t=!1,this.m5t=-1,this.Z4t=new yx.Rect(0,0,1,1),this.g5t=new Map,this.y5t=!0,this.M5t=new Set}Vh(){this.Z4t=null,this.w5t(),this.g5t=null,this.M5t&&this.M5t.clear(),this.M5t=null}w5t(){for(let t of this.g5t.values())t.Vh();this.g5t.clear()}e5t(t){this.M5t.add(t)}h5t(t){this.M5t.delete(t)}f4t(){if(!this.y5t)return;this.w5t();let t=yx.Qm(this.m4t),s=Math.floor(this._y/this.d4t),i=s*Math.floor(this.Ey/this.p4t);for(let e=0,h=t.length;e<h&&!(e>=i);++e){let i=t[e];if(this.g5t.has(i))continue;let h=e%s,n=Math.floor(e/s);this.g5t.set(i,yx.Yh(self.H4t,this,i,h*this.d4t,n*this.p4t))}if(this.p5t=!1,this.m5t=-1,Array.isArray(this.d5t))for(let t of this.d5t){if(!Array.isArray(t))continue;if(2!==t.length)continue;let s=t[0],i=t[1];if("number"==typeof s&&isFinite(s)&&"string"==typeof i&&s!==this.d4t)for(let t of i){let i=this.g5t.get(t);i?(i.B4t(s),this.p5t=!0):" "===t&&(this.m5t=s,this.p5t=!0)}}this.y5t=!1;for(let t of this.M5t)t.eE()}U4t(){this.p5t=!0;for(const t of this.M5t)t.eE()}z4t(t){return this.f4t(),this.g5t.get(t)||null}r5t(){return this.p5t}Hg(t){if((t=Math.floor(t))<=0)throw new Error("invalid size");this._y!==t&&(this._y=t,this.y5t=!0)}Bg(){return this._y}Ug(t){if((t=Math.floor(t))<=0)throw new Error("invalid size");this.Ey!==t&&(this.Ey=t,this.y5t=!0)}Zg(){return this.Ey}G4t(t){if(!this.Z4t.equals(t)){this.Z4t.m(t);for(const t of this.g5t.values())t.$4t()}}tD(){return this.Z4t}a4t(t){if((t=Math.floor(t))<=0)throw new Error("invalid size");this.d4t!==t&&(this.d4t=t,this.y5t=!0)}I4t(){return this.d4t}u4t(t){if((t=Math.floor(t))<=0)throw new Error("invalid size");this.p4t!==t&&(this.p4t=t,this.y5t=!0)}_4t(){return this.p4t}l4t(t){this.m4t!==t&&(this.m4t=t,this.y5t=!0)}E4t(){return this.m4t}c4t(t){if(this.f5t!==t&&(this.f5t=t,this.y5t=!0,this.d5t=null,this.f5t.length))try{this.d5t=JSON.parse(this.f5t)}catch(t){this.d5t=null}}A4t(){return this.f5t}j4t(t){t<0&&(t=-1),this.m5t!==t&&(this.m5t=t,this.m5t>=0&&(this.p5t=!0))}o5t(){return this.m5t<0?this.d4t:this.m5t}}}{const wx=self.Gs,Sx=[];wx._j.Audio=class extends wx.zGt{constructor(t){super(t)}S5t(t){Sx.push(t)}static async T5t(){await Promise.all(Sx),wx.wr(Sx)}Vh(){super.Vh()}}}{let Tx=function(){return Cx.mB().gV()},bx=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};0;const xx=self.Gs,vx=self.Ps;xx._j.Audio.eDt=class extends xx.vIt{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}lIt(){return self.b5t}};let Cx=null;self.b5t=class extends self.gB{constructor(t){super(t),Cx=t}get x5t(){return bx().GetAudioContextExtern()}get v5t(){return bx().GetDestinationNodeExtern()}get C5t(){return Tx().G5t()}set C5t(t){Tx().I5t(t)}get _5t(){return Tx().E5t()}set _5t(t){vx.ne(t),Tx().A5t(t)}D5t(){Tx().N5t()}}}{const Gx=self.Gs,Ix="audio",_x=["interactive","balanced","playback"];Gx._j.Audio.Instance=class extends Gx.EIt{constructor(t,s){super(t,Ix),this.L5t=0,this.O5t=[],this.R5t=!0,this.k5t=0,this.P5t=0,this.F5t=!1,this.j5t=1,this.z5t=1,this.B5t=[this.Pc.H0()/2,this.Pc.q0()/2,600],this.U5t=[0,0,-1],this.W5t=[0,1,0],this.Q5t=600,this.Y5t=1e4,this.V5t=1,this.J5t=null,this.H5t=-1,this.q5t=1,this.X5t=!1,this.Z5t=0,this.K5t="suspended",this.$5t=0,this.t6t=new Map,this.s6t=0,this.i6t=0,this.e6t=new Map,this.h6t=new Map;let i="interactive";s&&(this.k5t=s[0],this.P5t=s[1],this.F5t=s[2],i=_x[s[3]],this.R5t=s[4],this.j5t=s[5],this.z5t=s[6],this.B5t[2]=s[7],this.Q5t=s[8],this.Y5t=s[9],this.V5t=s[10]),this.n6t=[],this.r6t=[],this.o6t=[],this.zIt([["state",t=>this.a6t(t)],["audiocontext-state",t=>this.u6t(t)],["fxstate",t=>this.l6t(t)],["trigger",t=>this.c6t(t)],["buffer-metadata",t=>this.f6t(t)]]);const e=this.Rj().yf();this.qf=new Gx.Vf(Gx.zf.Yf(e,"instancedestroy",(t=>this.d6t(t.IV))),Gx.zf.Yf(e,"afterload",(()=>this.m6())),Gx.zf.Yf(e,"suspend",(()=>this.p6t())),Gx.zf.Yf(e,"resume",(()=>this.m6t())));const h=this.Pc.Mz(),n="Safari"===Gx.Zs.ti,r=this.Pc.yYt()||"macos-wkwebview"===h,o=this.Pc.aP().fZ(),a="playable-ad-single-file"===this.Pc.Mz(),u=n||r||o||a;this.Pc.Sj(this.UIt("create-audio-context",{preloadList:this.Pc.aP().WZ().map((t=>({originalUrl:t.QZ,url:t.url,type:t.type,fileSize:t.fileSize}))),timeScaleMode:this.k5t,latencyHint:i,panningModel:this.j5t,distanceModel:this.z5t,refDistance:this.Q5t,maxDistance:this.Y5t,rolloffFactor:this.V5t,listenerPos:this.B5t,usePlayMusicAsSoundWorkaround:u}).then((t=>{this.Z5t=t.sampleRate,this.K5t=t.audioContextState,this.$5t=t.outputLatency}))),this.HIt()}Vh(){this.J5t=null,super.Vh()}g6t(t){return this.R5t?t.split(" ").filter((t=>!!t)):t?[t]:[]}y6t(t,s){for(const i of s){let s=!1;for(const e of t)if(Gx.Ze(e,i)){s=!0;break}if(!s)return!1}return!0}M6t(t,s){return this.y6t(t,this.g6t(s))}S5t(t){this.MB().S5t(t)}d6t(t){this.J5t===t&&(this.J5t=null)}w6t(t){return Math.pow(10,t/20)}S6t(t){const s=this.w6t(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}T6t(t){return Math.log(t)/Math.log(10)*20}b6t(t){return this.T6t(Math.max(Math.min(t,1),0))}p6t(){this.F5t||this.BIt("set-suspended",{isSuspended:!0})}m6t(){this.F5t||this.BIt("set-suspended",{isSuspended:!1})}a6t(t){const s=t.tickCount;this.$5t=t.outputLatency;const i=this.n6t.filter((t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.n6t=t.audioInstances,this.o6t=t.analysers,i.length>0&&Gx.Lh(this.n6t,i)}f6t(t){this.e6t.set(t.originalUrl,{duration:t.duration})}u6t(t){this.K5t=t.audioContextState}mnt(){return this.Pc.Bjt()?"running":this.K5t}l6t(t){this.r6t=t.fxstate}x6t(t){const s=this.g6t(t);for(const t of this.n6t)if(this.y6t(t.tags,s))return t;return null}v6t(t){const s=this.g6t(t);return this.n6t.some((t=>this.y6t(t.tags,s)&&t.isPlaying))}C6t(t,s,i,e,h){if(this.v6t(s))return null;const n=this.e6t.get(t),r={tags:this.g6t(s),duration:n?n.duration:0,volume:h,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:i,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.n6t.push(r),r}G6t(t){const s=this.g6t(t);for(const t of this.n6t)this.y6t(t.tags,s)&&(t.isPlaying=!1)}async c6t(t){const s=t.type;this.O5t=t.tags;const i=t.aiid;if("ended"===s){for(const t of this.n6t)if(t.aiid===i){t.isPlaying=!1;break}await this.vj(Gx._j.Audio.Gj.I6t)}else"fade-ended"===s&&await this.vj(Gx._j.Audio.Gj._6t)}E6t(t){return this.M6t(this.O5t,t)}f8(){const t={timeScale:this.Pc.mF(),gameTime:this.Pc.lYt(),instPans:this.A6t(),tickCount:this.Pc.cYt()};if(this.J5t){const s=this.J5t.oj();this.B5t[0]=s.Wb(),this.B5t[1]=s.Vb(),t.listenerPos=this.B5t,t.listenerOrientation=[...this.U5t,...this.W5t]}this.BIt("tick",t)}D6t(t,s,i,e,h){if(0===i)return[t,s];const n=Math.sin(i),r=Math.cos(i),o=(t-=e)*n;return t=t*r-(s-=h)*n,s=s*r+o,[t+=e,s+=h]}A6t(){return this.n6t.filter((t=>-1!==t.uid)).map((t=>this.Pc.ij(t.uid))).filter((t=>t)).map((t=>{const s=t.oj(),i=s.aj().XB(),[e,h]=this.D6t(s.Wb(),s.Vb(),-i,this.B5t[0],this.B5t[1]);return{uid:t.zW(),x:e,y:h,z:s.ZQ(),angle:s.XB()-i}}))}N6t(t,s){for(const i of this.o6t)if(i.index===s&&Gx.Ze(i.tag,t))return i;return null}L6t(t){for(const s of this.g6t(t)){const t=s.toLowerCase();this.t6t.set(t,(this.t6t.get(t)||0)+1)}}G5t(){return this.X5t}I5t(t){t=!!t,this.X5t!==t&&(this.X5t=t,this.BIt("set-silent",{isSilent:t}))}E5t(){return this.q5t}A5t(t){this.q5t!==t&&(this.q5t=t,this.BIt("set-master-volume",{vol:t}))}N5t(){this.BIt("stop-all");for(const t of this.n6t)t.isPlaying=!1}O6t(t){return!(t.hasOwnProperty("placeholder")||3===this.P5t||t.isMusic&&1===this.P5t||!t.isMusic&&2===this.P5t)}ix(){return{isSilent:this.X5t,masterVolume:this.q5t,listenerZ:this.B5t[2],listenerForwardVec:this.U5t,listenerUpVec:this.W5t,listenerUid:this.J5t?this.J5t.zW():-1,remoteUrls:[...this.h6t.entries()],playing:this.n6t.filter((t=>this.O6t(t))),effects:this.r6t,analysers:this.o6t}}hx(t){if(this.X5t=t.isSilent,this.q5t=t.masterVolume,this.B5t[2]=t.listenerZ,this.J5t=null,this.H5t=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.U5t=t.listenerForwardVec:this.U5t=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.W5t=t.listenerUpVec:this.W5t=[0,1,0],this.h6t.clear(),t.remoteUrls)for(const[s,i]of t.remoteUrls)this.h6t.set(s,i);this.n6t=t.playing;for(const t of this.n6t)t.hasOwnProperty("tag")&&!t.hasOwnProperty("tags")&&(t.tags=[t.tag].filter((t=>!!t)));this.r6t=t.effects,this.o6t=t.analysers}m6(){if(-1!==this.H5t&&(this.J5t=this.Pc.ij(this.H5t),this.H5t=-1,this.J5t)){const t=this.J5t.oj();this.B5t[0]=t.Wb(),this.B5t[1]=t.Vb()}for(const t of this.n6t){const s=this.Pc.aP().UZ(t.bufferOriginalUrl);s?(t.bufferUrl=s.url,t.bufferType=s.type):t.bufferUrl=null}for(const t of Object.values(this.r6t))for(const s of t)if(s.hasOwnProperty("bufferOriginalUrl")){const t=this.Pc.aP().UZ(s.bufferOriginalUrl);t&&(s.bufferUrl=t.url,s.bufferType=t.type)}this.BIt("load-state",{saveLoadMode:this.P5t,timeScale:this.Pc.mF(),gameTime:this.Pc.lYt(),listenerPos:this.B5t,listenerOrientation:[...this.U5t,...this.W5t],isSilent:this.X5t,masterVolume:this.q5t,playing:this.n6t.filter((t=>null!==t.bufferUrl)),effects:this.r6t})}KIt(){const t=[];for(const[s,i]of Object.entries(this.r6t))t.push({name:"$"+s,value:i.map((t=>t.type)).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.n6t.length},...this.n6t.map(((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / ${Math.round(10*t.duration)/10}`})))]}]}}}self.Gs._j.Audio.Gj={I6t(t){return this.E6t(t)},_6t(t){return this.E6t(t)},R6t(){return this.i6t===this.s6t},k6t:()=>!0,P6t(){return this.G5t()},F6t(){for(const t of this.n6t)if(t.isPlaying)return!0;return!1},j6t(t){return this.v6t(t)}};{const Ex=self.Gs,Ax=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];Ex._j.Audio.nnt={Play(t,s,i,e,h){const n=Ex._j.Audio.nnt.z6t.call(this,t,s,i,e,h);return this.S5t(n),n},gnt(t,s,i,e){Ex._j.Audio.nnt.z6t.call(this,t,0,s,0,i,e)},async z6t(t,s,i,e,h,n){if(this.X5t)return;const r=t[1],o=this.Pc.aP().UZ(t[0]);if(!o)return;const a=this.L5t;this.L5t=0;const u=this.C6t(t[0],h,r,0!==s,this.S6t(i));try{await this.UIt("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:r,tags:this.g6t(h),isLooping:0!==s,vol:this.S6t(i),stereoPan:Ex.Zh(e/100,-1,1),pos:n||0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{u&&(u.placeholder=this.Pc.cYt())}},async B6t(t,s,i,e,h,n,r,o,a,u,l){if(this.X5t)return;const c=t[1],f=this.Pc.aP().UZ(t[0]);if(!f)return;const d=this.L5t;this.L5t=0;const p=this.C6t(t[0],l,c,0!==s,this.S6t(i));try{await this.UIt("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this.g6t(l),isLooping:0!==s,vol:this.S6t(i),pos:0,off:d,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:h,z:n,angle:Ex.$h(r),innerAngle:Ex.$h(o),outerAngle:Ex.$h(a),outerGain:this.S6t(u)}})}finally{p&&(p.placeholder=this.Pc.cYt())}},async U6t(t,s,i,e,h,n,r,o){if(this.X5t)return;if(!e)return;const a=e.Ovt();if(!a||!a.oj())return;const u=a.oj(),l=u.aj().XB(),[c,f]=this.D6t(u.Wb(),u.Vb(),-l,this.B5t[0],this.B5t[1]),d=t[1],p=this.Pc.aP().UZ(t[0]);if(!p)return;const m=this.L5t;this.L5t=0;const g=this.C6t(t[0],o,d,0!==s,this.S6t(i));try{await this.UIt("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this.g6t(o),isLooping:0!==s,vol:this.S6t(i),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:f,z:u.ZQ(),angle:u.XB()-l,innerAngle:Ex.$h(h),outerAngle:Ex.$h(n),outerGain:this.S6t(r),uid:a.zW()}})}finally{g&&(g.placeholder=this.Pc.cYt())}},async W6t(t,s,i,e,h,n){if(this.X5t)return;const r=1===t,o=this.Pc.aP().UZ(s)||this.h6t.get(s.toLowerCase());if(!o)return;const a=this.L5t;this.L5t=0;const u=this.C6t(s,n,r,0!==i,this.S6t(e));try{await this.UIt("play",{originalUrl:s,url:o.url,type:o.type,isMusic:r,tags:this.g6t(n),isLooping:0!==i,vol:this.S6t(e),stereoPan:Ex.Zh(h/100,-1,1),pos:0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{u&&(u.placeholder=this.Pc.cYt())}},async Q6t(t,s,i,e,h,n,r,o,a,u,l,c){if(this.X5t)return;const f=1===t,d=this.Pc.aP().UZ(s)||this.h6t.get(s.toLowerCase());if(!d)return;const p=this.L5t;this.L5t=0;const m=this.C6t(s,c,f,0!==i,this.S6t(e));try{await this.UIt("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this.g6t(c),isLooping:0!==i,vol:this.S6t(e),pos:0,off:p,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:n,z:r,angle:Ex.$h(o),innerAngle:Ex.$h(a),outerAngle:Ex.$h(u),outerGain:this.S6t(l)}})}finally{m&&(m.placeholder=this.Pc.cYt())}},async Y6t(t,s,i,e,h,n,r,o,a){if(this.X5t)return;if(this.X5t)return;if(!h)return;const u=h.Ovt();if(!u||!u.oj())return;const l=u.oj(),c=l.aj().XB(),[f,d]=this.D6t(l.Wb(),l.Vb(),-c,this.B5t[0],this.B5t[1]),p=1===t,m=this.Pc.aP().UZ(s)||this.h6t.get(s.toLowerCase());if(!m)return;const g=this.L5t;this.L5t=0;const y=this.C6t(s,a,p,0!==i,this.S6t(e));try{await this.UIt("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this.g6t(a),isLooping:0!==i,vol:this.S6t(e),pos:0,off:g,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:d,z:l.ZQ(),angle:l.XB()-c,innerAngle:Ex.$h(n),outerAngle:Ex.$h(r),outerGain:this.S6t(o),uid:u.zW()}})}finally{y&&(y.placeholder=this.Pc.cYt())}},V6t(t,s){this.BIt("set-looping",{tags:this.g6t(t),isLooping:0===s})},J6t(t,s){this.BIt("set-muted",{tags:this.g6t(t),isMuted:0===s})},dnt(t,s){this.BIt("set-volume",{tags:this.g6t(t),vol:this.S6t(s)})},H6t(t,s,i,e){this.BIt("fade-volume",{tags:this.g6t(t),vol:this.S6t(s),duration:i,stopOnEnd:0===e})},q6t(t,s){this.BIt("set-stereo-pan",{tags:this.g6t(t),p:Ex.Zh(s/100,-1,1)})},async X6t(t){const s=t[1],i=this.Pc.aP().UZ(t[0]);i&&(this.s6t++,await this.UIt("preload",{originalUrl:t[0],url:i.url,type:i.type,isMusic:s}),this.i6t++)},async Z6t(t,s){const i=1===t,e=this.Pc.aP().UZ(s)||this.h6t.get(s.toLowerCase());e&&(this.s6t++,await this.UIt("preload",{originalUrl:s,url:e.url,type:e.type,isMusic:i}),this.i6t++)},_J(t,s){this.BIt("set-playback-rate",{tags:this.g6t(t),rate:Math.max(s,0)})},MJ(t){this.G6t(t),this.BIt("stop",{tags:this.g6t(t)})},K6t(){this.N5t()},$6t(t,s){this.BIt("set-paused",{tags:this.g6t(t),paused:0===s})},t8t(t,s){this.BIt("seek",{tags:this.g6t(t),pos:s})},s8t(t){2===t&&(t=this.G5t()?1:0),this.I5t(0===t)},i8t(t){const s=this.S6t(t);this.A5t(s)},e8t(t,s,i,e,h,n,r){const o=Ax[s];this.L6t(t),this.BIt("add-effect",{type:"filter",tags:this.g6t(t),params:[o,i,e,h,n,Ex.Zh(r/100,0,1)]})},h8t(t,s,i,e){this.L6t(t),this.BIt("add-effect",{type:"delay",tags:this.g6t(t),params:[s,this.S6t(i),Ex.Zh(e/100,0,1)]})},n8t(t,s,i,e,h,n){this.L6t(t),this.BIt("add-effect",{type:"flanger",tags:this.g6t(t),params:[s/1e3,i/1e3,e,h/100,Ex.Zh(n/100,0,1)]})},r8t(t,s,i,e,h,n,r){this.L6t(t),this.BIt("add-effect",{type:"phaser",tags:this.g6t(t),params:[s,i,e,h,n,Ex.Zh(r/100,0,1)]})},o8t(t,s,i,e){const h=this.Pc.aP().UZ(s[0]);h&&(this.L6t(t),this.BIt("add-effect",{type:"convolution",tags:this.g6t(t),bufferOriginalUrl:s[0],bufferUrl:h.url,bufferType:h.type,params:[0===i,Ex.Zh(e/100,0,1)]}))},a8t(t,s){this.L6t(t),this.BIt("add-effect",{type:"gain",tags:this.g6t(t),params:[this.S6t(s)]})},u8t(t,s){this.L6t(t),this.BIt("add-effect",{type:"stereopan",tags:this.g6t(t),params:[Ex.Zh(s/100,-1,1)]})},l8t(t){this.L6t(t),this.BIt("add-effect",{type:"gain",tags:this.g6t(t),params:[0]})},c8t(t,s,i){this.L6t(t),this.BIt("add-effect",{type:"tremolo",tags:this.g6t(t),params:[s,Ex.Zh(i/100,0,1)]})},f8t(t,s,i){this.L6t(t),this.BIt("add-effect",{type:"ringmod",tags:this.g6t(t),params:[s,Ex.Zh(i/100,0,1)]})},d8t(t,s,i,e,h,n){this.L6t(t),this.BIt("add-effect",{type:"distortion",tags:this.g6t(t),params:[this.w6t(s),this.w6t(i),e,this.w6t(h),Ex.Zh(n/100,0,1)]})},p8t(t,s,i,e,h,n){this.L6t(t),this.BIt("add-effect",{type:"compressor",tags:this.g6t(t),params:[s,i,e,h/1e3,n/1e3]})},m8t(t,s,i){this.L6t(t),this.BIt("add-effect",{type:"analyser",tags:this.g6t(t),params:[s,i]})},g8t(t){const s=this.g6t(t);for(const t of s)this.t6t.set(t.toLowerCase(),0);this.BIt("remove-effects",{tags:s}),this.r6t={}},kV(t,s,i,e,h,n){this.BIt("set-effect-param",{tags:this.g6t(t),index:Math.floor(s),param:i,value:e,ramp:h,time:n})},y8t(t){if(!t)return;const s=t.Ovt();s&&s.oj()&&(this.J5t=s)},M8t(t){this.B5t[2]=t},w8t(t,s,i,e,h,n){this.U5t[0]=t,this.U5t[1]=s,this.U5t[2]=-i,this.W5t[0]=e,this.W5t[1]=h,this.W5t[2]=-n},S8t(t){this.L5t=Math.max(t,0)},T8t(t){const s=t[1],i=this.Pc.aP().UZ(t[0]);i&&this.BIt("unload",{url:i.url,type:i.type,isMusic:s})},b8t(t,s){const i=1===t,e=this.Pc.aP().UZ(s)||this.h6t.get(s.toLowerCase());e&&this.BIt("unload",{url:e.url,type:e.type,isMusic:i})},x8t(){this.BIt("unload-all")},v8t(t,s,i){this.h6t.set(i.toLowerCase(),{url:t,type:s})}}}{const Dx=self.Gs;Dx._j.Audio.rnt={C8t(t){const s=this.x6t(t);return s?s.duration:0},unt(t){const s=this.x6t(t);return s?s.playbackTime:0},pnt(t){const s=this.x6t(t);return s?s.playbackRate:0},lnt(t){const s=this.x6t(t);return s?this.b6t(s.volume):0},G8t(){return this.b6t(this.E5t())},I8t(t){return this.t6t.get(t.toLowerCase())||0},_8t(t,s){const i=this.N6t(t,Math.floor(s));return i?i.binCount:0},E8t(t,s,i){const e=this.N6t(t,Math.floor(s));return e?(i=Math.floor(i))<0||i>=e.binCount?0:e.freqBins[i]:0},A8t(t,s){const i=this.N6t(t,Math.floor(s));return i?i.peak:0},D8t(t,s){const i=this.N6t(t,Math.floor(s));return i?i.rms:0},N8t(){return this.Z5t},L8t:()=>self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3,O8t(){return this.$5t},R8t(t,s){return 0==(t=Dx.Zh(+t,0,100)/100)?-1/0:t<.1?this.b6t(Dx.Gt(0,this.S6t(s),10*t)):Dx.Gt(s,0,(t-.1)/.9)}}}{const Nx=self.Gs;Nx.tut.k8t=class extends Nx.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const Lx=self.Gs;Lx.tut.k8t.eDt=class extends Lx.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const Ox=self.Gs,Rx=self.Ps,kx=self.TV,Px=1/Math.sqrt(2),Fx=0,jx=1,zx=2,Bx=3,Ux=4,Wx=5,Qx=6,Yx=7;Ox.tut.k8t.Instance=class extends Ox.J_t{constructor(t,s){super(t),this.P8t=!1,this.F8t=!1,this.j8t=!1,this.z8t=!1,this.B8t=!1,this.U8t=!1,this.W8t=!1,this.Q8t=!1,this.Y8t=!1,this.V8t=0,this.J8t=0,this.H8t=200,this.q8t=600,this.X8t=500,this.Z8t=3,this.K8t=3,this.$8t=!1,this.t7t=!0,this.bSt=!0,s&&(this.H8t=s[Fx],this.q8t=s[jx],this.X8t=s[zx],this.Z8t=s[Bx],this.K8t=s[Ux],this.$8t=!!s[Wx],this.t7t=!!s[Qx],this.bSt=!!s[Yx]),this.bSt&&this.HIt(),this.t7t&&this.s7t()}s7t(){if(this.qf)return;const t=this.Pc.yf();this.qf=new Ox.Vf(Ox.zf.Yf(t,"keydown",(t=>this.M3t(t.data))),Ox.zf.Yf(t,"keyup",(t=>this.w3t(t.data))),Ox.zf.Yf(t,"window-blur",(()=>this.S3t())),Ox.zf.Yf(t,"keyboard-blur",(()=>this.S3t())))}i7t(){this.qf&&(this.qf.Vh(),this.qf=null)}Vh(){super.Vh()}ix(){return{dx:this.V8t,dy:this.J8t,e:this.bSt,ms:this.H8t,acc:this.q8t,dec:this.X8t,d:this.Z8t,am:this.K8t,dc:this.t7t,ii:this.B8t}}hx(t){this.V8t=t.dx,this.J8t=t.dy,this.wCt(t.e),this.H8t=t.ms,this.q8t=t.acc,this.X8t=t.dec,this.Z8t=t.d,this.K8t=t.am,this.t7t=t.dc,this.B8t=t.ii,this.P8t=!1,this.F8t=!1,this.j8t=!1,this.z8t=!1,this.U8t=!1,this.W8t=!1,this.Q8t=!1,this.Y8t=!1,this.t7t?this.s7t():this.i7t()}M3t(t){switch(t.key){case"ArrowLeft":this.j8t=!0;break;case"ArrowUp":this.P8t=!0;break;case"ArrowRight":this.z8t=!0;break;case"ArrowDown":this.F8t=!0}}w3t(t){switch(t.key){case"ArrowLeft":this.j8t=!1;break;case"ArrowUp":this.P8t=!1;break;case"ArrowRight":this.z8t=!1;break;case"ArrowDown":this.F8t=!1}}S3t(){this.P8t=!1,this.F8t=!1,this.j8t=!1,this.z8t=!1}f8(){const t=this.Pc.oF(this.fi),s=this.Pc.cP();let i=this.j8t||this.Q8t,e=this.z8t||this.Y8t,h=this.P8t||this.U8t,n=this.F8t||this.W8t;if(this.Q8t=!1,this.Y8t=!1,this.U8t=!1,this.W8t=!1,!this.bSt)return;let r=s.nz(this.fi);if(r&&(s.Kkt(this.fi,r),!s.wPt(this.fi)))return;if(this.B8t&&(i=e=h=n=!1),0===this.Z8t?i=e=!1:1===this.Z8t&&(h=n=!1),2===this.Z8t&&(h||n)&&(i=e=!1),i===e){const s=h===n&&0!==this.J8t?Px:1;this.V8t<0?this.V8t=Math.min(this.V8t+this.X8t*s*t,0):this.V8t>0&&(this.V8t=Math.max(this.V8t-this.X8t*s*t,0))}if(h===n){const s=i===e&&0!==this.V8t?Px:1;this.J8t<0?this.J8t=Math.min(this.J8t+this.X8t*s*t,0):this.J8t>0&&(this.J8t=Math.max(this.J8t-this.X8t*s*t,0))}let o=0,a=0;i&&!e&&(o=-1),e&&!i&&(o=1),h&&!n&&(a=-1),n&&!h&&(a=1);let u=0,l=0;if(0!==o){const t=0!==a?Px:1;u=Math.sign(this.V8t)===-o?o*t*(this.q8t+this.X8t):o*t*this.q8t}if(0!==a){const t=0!==o?Px:1;l=Math.sign(this.J8t)===-a?a*t*(this.q8t+this.X8t):a*t*this.q8t}if(this.V8t+=u*t,this.J8t+=l*t,0!==this.V8t||0!==this.J8t){let i=Math.hypot(this.V8t,this.J8t);const e=Math.atan2(this.J8t,this.V8t),h=this.H8t*Math.cos(e),n=this.H8t*Math.sin(e);i>this.H8t&&(i=this.H8t,this.V8t=h,this.J8t=n);const o=this.fi.oj(),a=o.Wb(),c=o.Vb(),f=o.XB(),d=Math.abs(h)*t,p=Math.abs(n)*t,m=Ox.Zh(this.V8t*t+.5*u*t*t,-d,d),g=Ox.Zh(this.J8t*t+.5*l*t*t,-p,p);if(this.$8t){if(o.BQ(m,g),o.FQ(),r=s.nz(this.fi),r){s.Kkt(this.fi,r);const e=Math.atan2(this.J8t,this.V8t)+Math.PI/2;let h=!1;const n=(o.Bg()+o.Zg())/4;if(s.MPt(this.fi,Math.cos(e),Math.sin(e),Math.max(2.5*i*t,n))){h=!0;const e=o.Wb(),n=o.Vb(),u=i*t,l=Ox.hn(a,c,e,n);if(l>1.01*u){const t=u/l,i=Ox.Gt(a,e,t),f=Ox.Gt(c,n,t);if(o.jQ(i,f),o.FQ(),r=s.nz(this.fi),r){const t=Ox.rn(a,c,e,n)+Math.PI/2,i=Math.cos(t),r=Math.sin(t),u=(o.Bg()+o.Zg())/2/10;s.MPt(this.fi,i,r,Math.max(u,1))||(o.jQ(a,c),o.FQ(),h=!1)}}}if(!h){const e=Math.hypot(m,g),h=-m/e,r=-g/e;this.V8t=0,this.J8t=0,s.gPt(this.fi,h,r,Math.max(2.5*i*t,n))||(o.jQ(a,c),o.FQ())}}}else o.hrt(m),o.FQ(),r=s.nz(this.fi),r&&(s.gPt(this.fi,this.V8t<0?1:-1,0,Math.max(Math.abs(Math.floor(m)),1))||(o.Qb(a),o.FQ()),this.V8t=0,s.Kkt(this.fi,r)),o.nrt(g),o.FQ(),r=s.nz(this.fi),r&&(s.gPt(this.fi,0,this.J8t<0?1:-1,Math.max(Math.abs(Math.floor(g)),1))||(o.Jb(c),o.FQ()),this.J8t=0,s.Kkt(this.fi,r));const y=Ox.vn(this.V8t,6),M=Ox.vn(this.J8t,6);0===y&&0===M||!this.fi.MB().Kz()||(1===this.K8t?o.qB(Ox.$h(90*Math.round(Ox.tn(Math.atan2(M,y))/90))):2===this.K8t?o.qB(Ox.$h(45*Math.round(Ox.tn(Math.atan2(M,y))/45))):3===this.K8t&&o.qB(Math.atan2(M,y))),o.FQ(),o.XB()!=f&&(r=s.nz(this.fi),r&&(o.qB(f),o.FQ(),s.Kkt(this.fi,r)))}}Wnt(t){switch(t){case Fx:return this.e7t();case jx:return this.h7t();case zx:return this.n7t();case Bx:return this.Z8t;case Ux:return this.K8t;case Wx:return this.$8t;case Qx:return this.r7t();case Yx:return this.TCt()}}qnt(t,s){switch(t){case Fx:this.o7t(s);break;case jx:this.a7t(s);break;case zx:this.u7t(s);break;case Bx:this.Z8t=s;break;case Ux:this.K8t=s;break;case Wx:this.$8t=!!s;break;case Qx:this.l7t(!!s);break;case Yx:this.wCt(!!s)}}c7t(){this.V8t=0,this.J8t=0}f7t(){this.V8t*=-1,this.J8t*=-1}d7t(){const t=Math.hypot(this.V8t,this.J8t);t>this.H8t&&this.p7t(t)}p7t(t){t=Ox.Zh(t,0,this.H8t);const s=Math.atan2(this.J8t,this.V8t);this.V8t=t*Math.cos(s),this.J8t=t*Math.sin(s)}m7t(){return Math.hypot(this.V8t,this.J8t)}o7t(t){this.H8t=Math.max(t,0)}e7t(){return this.H8t}a7t(t){this.q8t=Math.max(t,0)}h7t(){return this.q8t}u7t(t){this.X8t=Math.max(t,0)}n7t(){return this.X8t}g7t(){return Math.atan2(this.J8t,this.V8t)}y7t(t){this.V8t=t,this.d7t()}M7t(){return this.V8t}w7t(t){this.J8t=t,this.d7t()}S7t(){return this.J8t}T7t(t){if(this.bSt)switch(t){case 0:this.Q8t=!0;break;case 1:this.Y8t=!0;break;case 2:this.U8t=!0;break;case 3:this.W8t=!0}}l7t(t){t=!!t,this.t7t!==t&&(this.t7t=t,this.t7t?this.s7t():(this.i7t(),this.S3t()))}r7t(){return this.t7t}b7t(t){this.B8t=!!t}x7t(){return this.B8t}wCt(t){this.bSt=!!t,this.bSt?this.HIt():(this.Q8t=!1,this.Y8t=!1,this.U8t=!1,this.W8t=!1,this.NIt())}TCt(){return this.bSt}v7t(t){this.$8t=!!t}C7t(){return this.$8t}KIt(){const t="behaviors.eightdir";return[{title:"$"+this.GV()._c(),properties:[{name:t+".debugger.vector-x",value:this.M7t(),cZt:t=>this.y7t(t)},{name:t+".debugger.vector-y",value:this.S7t(),cZt:t=>this.w7t(t)},{name:t+".debugger.speed",value:this.m7t(),cZt:t=>this.p7t(t)},{name:t+".debugger.angle-of-motion",value:Ox.tn(this.g7t())},{name:t+".properties.max-speed.name",value:this.e7t(),cZt:t=>this.o7t(t)},{name:t+".properties.acceleration.name",value:this.h7t(),cZt:t=>this.a7t(t)},{name:t+".properties.deceleration.name",value:this.n7t(),cZt:t=>this.u7t(t)},{name:t+".properties.allow-sliding.name",value:this.C7t(),cZt:t=>this.v7t(t)},{name:t+".properties.enabled.name",value:this.TCt(),cZt:t=>this.wCt(t)}]}]}lIt(){return self.G7t}};const Vx=new WeakMap,Jx=new Map([["left",0],["right",1],["up",2],["down",3]]);self.G7t=class extends kx{constructor(){super(),Vx.set(this,kx.AW().gV())}stop(){Vx.get(this).c7t()}reverse(){Vx.get(this).f7t()}I7t(t){Rx.ue(t);const s=Jx.get(t);if("number"!=typeof s)throw new Error("invalid control");Vx.get(this).T7t(s)}get speed(){return Vx.get(this).m7t()}set speed(t){Rx.ne(t),Vx.get(this).p7t(t)}get _7t(){return Vx.get(this).e7t()}set _7t(t){Rx.ne(t),Vx.get(this).o7t(t)}get acceleration(){return Vx.get(this).h7t()}set acceleration(t){Rx.ne(t),Vx.get(this).a7t(t)}get E7t(){return Vx.get(this).n7t()}set E7t(t){Rx.ne(t),Vx.get(this).u7t(t)}get A7t(){return Vx.get(this).M7t()}set A7t(t){Rx.ne(t),Vx.get(this).y7t(t)}get D7t(){return Vx.get(this).S7t()}set D7t(t){Rx.ne(t),Vx.get(this).w7t(t)}N7t(t,s){Rx.ne(t),Rx.ne(s);const i=Vx.get(this);i.y7t(t),i.w7t(s)}L7t(){const t=Vx.get(this);return[t.M7t(),t.S7t()]}get O7t(){return Vx.get(this).r7t()}set O7t(t){Vx.get(this).l7t(!!t)}get R7t(){return Vx.get(this).x7t()}set R7t(t){Vx.get(this).b7t(!!t)}get k7t(){return Vx.get(this).C7t()}set k7t(t){Vx.get(this).v7t(!!t)}get isEnabled(){return Vx.get(this).TCt()}set isEnabled(t){Vx.get(this).wCt(!!t)}}}{const Hx=self.Gs;Hx.tut.k8t.Gj={P7t(){return this.m7t()>1e-10},F7t(t,s){return Hx.compare(this.m7t(),t,s)},Cl(){return this.TCt()},j7t(){return this.C7t()}}}self.Gs.tut.k8t.nnt={MJ(){this.c7t()},z7t(){this.f7t()},B7t(t){this.b7t(t)},U7t(t){this.p7t(t)},W7t(t){this.o7t(t)},Q7t(t){this.a7t(t)},Y7t(t){this.u7t(t)},V7t(t){this.T7t(t)},yGt(t){this.wCt(t)},J7t(t){this.y7t(t)},H7t(t){this.w7t(t)},q7t(t){this.l7t(!!t)},X7t(t){this.v7t(t)}};{const qx=self.Gs;qx.tut.k8t.rnt={Z7t(){return this.m7t()},K7t(){return this.e7t()},$7t(){return this.h7t()},t9t(){return this.n7t()},s9t(){return qx.tn(this.g7t())},i9t(){return this.M7t()},e9t(){return this.S7t()}}}{const Xx=self.Gs;Xx.tut.h9t=class extends Xx.z_t{constructor(t){super(t),this.n9t=0,this.r9t=0,this.o9t=0,this.a9t=0}Vh(){super.Vh()}u9t(t){this.n9t=t}l9t(){return this.n9t}c9t(t){this.r9t=t}f9t(){return this.r9t}d9t(t){this.o9t=t}p9t(){return this.o9t}m9t(t){this.a9t=t}g9t(){return this.a9t}}}{const Zx=self.Gs;Zx.tut.h9t.eDt=class extends Zx.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const Kx=self.Gs,$x=0;Kx.tut.h9t.Instance=class extends Kx.J_t{constructor(t,s){super(t),this.bSt=!0,s&&(this.bSt=s[$x]),this.bSt&&this.XIt()}Vh(){super.Vh()}ix(){const t=this.xV();return{e:this.bSt,smg:t.l9t(),ss:t.f9t(),se:t.p9t(),smd:t.g9t()}}hx(t){const s=this.xV();s.u9t(t.smg),s.c9t(t.ss),s.d9t(t.se),s.m9t(t.smd),this.bSt=t.e,this.bSt?this.XIt():this.LIt()}wCt(t){this.bSt=!!t,this.bSt?this.XIt():this.LIt()}Cl(){return this.bSt}JIt(){if(!this.Cl())return;this.Pc.oF(this.fi);const t=this.xV(),s=t.EB();let i=0,e=0,h=0;for(const t of s){const s=t.aLt(Kx.tut.h9t);if(!s||!s.gV().Cl())continue;const n=t.oj();i+=n.Wb(),e+=n.Vb(),++h}const n=this.fi.oj().WF(),r=this.Pc.cF();let o=0,a=0;if(r>=t.f9t()&&r<t.p9t()){let s=t.l9t()*Math.min(this.Pc.mF(),1);0===t.g9t()&&(s*=1-(r-t.f9t())/(t.p9t()-t.f9t()));const i=this.Pc.FF()*Math.PI*2,e=this.Pc.FF()*s;o=Math.cos(i)*e,a=Math.sin(i)*e}n.ZB(i/h+o),n.$B(e/h+a)}Wnt(t){if(t===$x)return this.bSt}qnt(t,s){t===$x&&(this.bSt=!!s,this.bSt?this.XIt():this.LIt())}KIt(){return[{title:"$"+this.GV()._c(),properties:[{name:"behaviors.scrollto.properties.enabled.name",value:this.Cl(),cZt:t=>this.wCt(t)}]}]}}}self.Gs.tut.h9t.Gj={Cl(){return this.Cl()}},self.Gs.tut.h9t.nnt={y9t(t,s,i){const e=this.xV();e.u9t(t),e.c9t(this.Pc.cF()),e.d9t(this.Pc.cF()+s),e.m9t(i)},yGt(t){this.wCt(0!==t)}},self.Gs.tut.h9t.rnt={};{const tv=self.Gs;tv.tut.bound=class extends tv.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const sv=self.Gs;sv.tut.bound.eDt=class extends sv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const iv=self.Gs,ev=0;iv.tut.bound.Instance=class extends iv.J_t{constructor(t,s){super(t),this.M9t=0,s&&(this.M9t=s[ev]),this.XIt()}Vh(){super.Vh()}ix(){return{m:this.M9t}}hx(t){this.M9t=t.m}JIt(){const t=this.fi.oj(),s=t.tY(),i=t.WF();let e=!1;0===this.M9t?(t.Wb()<0&&(t.Qb(0),e=!0),t.Vb()<0&&(t.Jb(0),e=!0),t.Wb()>i.Bg()&&(t.Qb(i.Bg()),e=!0),t.Vb()>i.Zg()&&(t.Jb(i.Zg()),e=!0)):(s.Za()<0&&(t.hrt(-s.Za()),e=!0),s.Ka()<0&&(t.nrt(-s.Ka()),e=!0),s.$a()>i.Bg()&&(t.hrt(-(s.$a()-i.Bg())),e=!0),s.tu()>i.Zg()&&(t.nrt(-(s.tu()-i.Zg())),e=!0)),e&&t.FQ()}Wnt(t){if(t===ev)return this.M9t}qnt(t,s){t===ev&&(this.M9t=s)}}}self.Gs.tut.bound.Gj={},self.Gs.tut.bound.nnt={},self.Gs.tut.bound.rnt={};{const hv=self.Gs;hv.tut.w9t=class extends hv.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const nv=self.Gs;nv.tut.w9t.eDt=class extends nv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const rv=self.Gs,ov=self.Ps,av=self.TV,uv=0,lv=1,cv=2,fv=3,dv=4,pv=5,mv=6;rv.tut.w9t.Instance=class extends rv.J_t{constructor(t,s){super(t);const i=this.oj();this.QEt=0,this.q8t=0,this.Co=0,this.S9t=!1,this.T9t=!1,this.b9t=!1,this.bSt=!0,this.V8t=0,this.J8t=0,this.x9t=i.Wb(),this.v9t=i.Vb(),this.C9t=i.XB(),this.G9t=0,this.I9t=Math.min(Math.abs(i.Bg()),Math.abs(i.Zg())/2),this._9t=!1,s&&(this.QEt=s[uv],this.q8t=s[lv],this.Co=s[cv],this.S9t=!!s[fv],this.T9t=!!s[dv],this.b9t=!!s[pv],this.bSt=!!s[mv]);const e=i.XB();this.V8t=Math.cos(e)*this.QEt,this.J8t=Math.sin(e)*this.QEt,this.bSt&&(this.HIt(),this.S9t&&this.$_t())}Vh(){super.Vh()}ix(){const t={dx:this.V8t,dy:this.J8t,lx:this.x9t,ly:this.v9t,lka:this.C9t,t:this.G9t};return 0!==this.q8t&&(t.acc=this.q8t),0!==this.Co&&(t.g=this.Co),this.b9t&&(t.st=this.b9t),this.bSt||(t.e=this.bSt),this.S9t&&(t.bos=this.S9t),this.T9t&&(t.sa=this.T9t),t}hx(t){this.V8t=t.dx,this.J8t=t.dy,this.x9t=t.lx,this.v9t=t.ly,this.C9t=t.lka,this.G9t=t.t,this.q8t=t.hasOwnProperty("acc")?t.acc:0,this.Co=t.hasOwnProperty("g")?t.g:0,this.b9t=!!t.hasOwnProperty("st")&&t.st,this.S9t=!!t.hasOwnProperty("bos")&&t.bos,this.T9t=!!t.hasOwnProperty("sa")&&t.sa,this.wCt(!t.hasOwnProperty("e")||t.e)}f8(){if(!this.bSt)return;const t=this.Pc.oF(this.fi),s=this.fi.oj();if(s.XB()!==this.C9t){const t=s.XB();if(this.T9t){const s=rv.hn(0,0,this.V8t,this.J8t);this.V8t=Math.cos(t)*s,this.J8t=Math.sin(t)*s}this.C9t=t}let i=0,e=0;if(0!==this.q8t){let h=rv.hn(0,0,this.V8t,this.J8t),n=0;n=0===this.V8t&&0===this.J8t?s.XB():rv.rn(0,0,this.V8t,this.J8t),h+=this.q8t*t,i=Math.cos(n)*this.q8t,e=Math.sin(n)*this.q8t,h<0&&(h=0,i=0,e=0),this.V8t=Math.cos(n)*h,this.J8t=Math.sin(n)*h}if(0!==this.Co&&(this.J8t+=this.Co*t,e+=this.Co),this.x9t=s.Wb(),this.v9t=s.Vb(),0!==this.V8t||0!==this.J8t){const h=this.V8t*t+.5*i*t*t,n=this.J8t*t+.5*e*t*t,r=rv.hn(0,0,h,n);if(this.E9t(h,n,r),this.G9t+=r,this.T9t&&(0!==h||0!==n)){const t=rv.rn(0,0,h,n);s.qB(t),this.C9t=s.XB()}s.FQ()}}E9t(t,s,i){const e=this.oj();if(!this.b9t||i<=this.I9t)return e.BQ(t,s),e.FQ(),void(this.b9t&&this.uQ(rv.tut.w9t.Gj.A9t));this._9t=!1;const h=e.Wb(),n=e.Vb(),r=h+t,o=n+s,a=rv.rn(0,0,t,s),u=Math.cos(a)*this.I9t,l=Math.sin(a)*this.I9t,c=Math.floor(i/this.I9t);for(let t=1;t<=c;++t)if(e.jQ(h+u*t,n+l*t),e.FQ(),this.uQ(rv.tut.w9t.Gj.A9t),this.fi.DH()||this._9t)return;e.jQ(r,o),e.FQ(),this.uQ(rv.tut.w9t.Gj.A9t)}K_t(){if(!this.bSt||!this.S9t||0===this.V8t&&0===this.J8t)return;const t=this.Pc.oF(this.fi),s=this.fi.oj(),i=this.Pc.cP(),e=i.nz(this.fi);if(e){i.Kkt(this.fi,e);const h=rv.hn(0,0,this.V8t,this.J8t),n=i.SPt(this.fi,this.x9t,this.v9t);this.V8t=Math.cos(n)*h,this.J8t=Math.sin(n)*h,s.BQ(this.V8t*t,this.J8t*t),s.FQ(),this.T9t&&(s.qB(n),this.C9t=s.XB(),s.FQ()),i.gPt(this.fi,this.V8t/h,this.J8t/h,Math.max(2.5*h*t,30))||i.wPt(this.fi,100)}}Wnt(t){switch(t){case uv:return this.m7t();case lv:return this.h7t();case cv:return this.D9t();case dv:return this.T9t;case pv:return this.b9t;case mv:return this.TCt()}}qnt(t,s){switch(t){case uv:this.p7t(s);break;case lv:this.q8t=s;break;case cv:this.Co=s;break;case dv:this.T9t=!!s;break;case pv:this.b9t=!!s;break;case mv:this.wCt(!!s)}}p7t(t){const s=rv.rn(0,0,this.V8t,this.J8t);this.V8t=Math.cos(s)*t,this.J8t=Math.sin(s)*t}m7t(){return rv.vn(rv.hn(0,0,this.V8t,this.J8t),6)}a7t(t){this.q8t=t}h7t(){return this.q8t}N9t(t){this.Co=t}D9t(){return this.Co}L9t(t){const s=rv.hn(0,0,this.V8t,this.J8t);this.V8t=Math.cos(t)*s,this.J8t=Math.sin(t)*s}O9t(){return rv.rn(0,0,this.V8t,this.J8t)}R9t(t){t=!!t,this.S9t!==t&&(this.S9t=t,this.bSt&&(this.S9t?this.$_t():this.q_t()))}k9t(){return this.S9t}P9t(t){this.G9t=t}F9t(){return this.G9t}wCt(t){this.bSt=!!t,this.bSt?(this.HIt(),this.S9t&&this.$_t()):(this.NIt(),this.q_t())}TCt(){return this.bSt}KIt(){const t="behaviors.bullet";return[{title:"$"+this.GV()._c(),properties:[{name:t+".debugger.vector-x",value:this.V8t,cZt:t=>this.V8t=t},{name:t+".debugger.vector-y",value:this.J8t,cZt:t=>this.J8t=t},{name:t+".properties.speed.name",value:this.m7t(),cZt:t=>this.p7t(t)},{name:t+".debugger.angle-of-motion",value:rv.tn(this.O9t())},{name:t+".properties.gravity.name",value:this.D9t(),cZt:t=>this.N9t(t)},{name:t+".properties.acceleration.name",value:this.h7t(),cZt:t=>this.a7t(t)},{name:t+".debugger.distance-travelled",value:this.F9t()},{name:t+".properties.enabled.name",value:this.TCt(),cZt:t=>this.wCt(t)}]}]}lIt(){return self.j9t}};const gv=new WeakMap;self.j9t=class extends av{constructor(){super(),gv.set(this,av.AW().gV())}get speed(){return gv.get(this).m7t()}set speed(t){ov.ne(t),gv.get(this).p7t(t)}get acceleration(){return gv.get(this).h7t()}set acceleration(t){ov.ne(t),gv.get(this).a7t(t)}get z9t(){return gv.get(this).D9t()}set z9t(t){ov.ne(t),gv.get(this).N9t(t)}get B9t(){return gv.get(this).O9t()}set B9t(t){ov.ne(t),gv.get(this).L9t(t)}get U9t(){return gv.get(this).k9t()}set U9t(t){gv.get(this).R9t(!!t)}get W9t(){return gv.get(this).F9t()}set W9t(t){ov.ne(t),gv.get(this).P9t(t)}get isEnabled(){return gv.get(this).TCt()}set isEnabled(t){gv.get(this).wCt(t)}}}{const yv=self.Gs;yv.tut.w9t.Gj={F7t(t,s){const i=Math.hypot(this.V8t,this.J8t);return yv.compare(i,t,s)},Q9t(t,s){return yv.compare(this.F9t(),t,s)},A9t:()=>!0,Cl(){return this.TCt()}}}{const Mv=self.Gs;Mv.tut.w9t.nnt={U7t(t){this.p7t(t)},Q7t(t){this.a7t(t)},Y9t(t){this.N9t(t)},V9t(t){this.L9t(Mv.$h(t))},BR(t){if(!t)return;const s=t.Ovt(this.fi);if(!s)return;const i=this.fi.oj(),e=this.Pc.cP(),h=this.Pc.oF(this.fi),n=Mv.hn(0,0,this.V8t,this.J8t),r=e.SPt(this.fi,this.x9t,this.v9t,s);this.V8t=Math.cos(r)*n,this.J8t=Math.sin(r)*n,i.BQ(this.V8t*h,this.J8t*h),i.FQ(),this.T9t&&(i.qB(r),this.C9t=i.XB(),i.FQ()),0!==n&&(this.S9t?e.gPt(this.fi,this.V8t/n,this.J8t/n,Math.max(2.5*n*h,30))||e.wPt(this.fi,100):e.mPt(this.fi,this.V8t/n,this.J8t/n,Math.max(2.5*n*h,30),s))},J9t(t){this.R9t(t)},H9t(t){this.P9t(t)},yGt(t){this.wCt(t)},q9t(){this._9t=!0}}}{const wv=self.Gs;wv.tut.w9t.rnt={Z7t(){return this.m7t()},$7t(){return this.h7t()},X9t(){return wv.tn(this.O9t())},Z9t(){return this.F9t()},K9t(){return this.D9t()}}}{const Sv=self.Gs;Sv.tut.destroy=class extends Sv.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const Tv=self.Gs;Tv.tut.destroy.eDt=class extends Tv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const bv=self.Gs;bv.tut.destroy.Instance=class extends bv.J_t{constructor(t,s){super(t),this.HIt()}Vh(){super.Vh()}f8(){const t=this.fi.oj(),s=t.tY(),i=t.WF();(s.$a()<0||s.tu()<0||s.Za()>i.Bg()||s.Ka()>i.Zg())&&this.Pc.LW(this.fi)}}}self.Gs.tut.destroy.Gj={},self.Gs.tut.destroy.nnt={},self.Gs.tut.destroy.rnt={};{const xv=self.Gs;xv.tut.$9t=class extends xv.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const vv=self.Gs;vv.tut.$9t.eDt=class extends vv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const Cv=self.Gs,Gv=self.Ps,Iv=self.TV,_v=0,Ev=1,Av=2,Dv=3,Nv=4;Cv.tut.$9t.Instance=class extends Cv.J_t{constructor(t,s){super(t),this.tts=0,this.sts=0,this.its=0,this.ets=!0,this.hts=!0,this.nts=!1,this.rts=0,this.ots=Cv.Yh(Cv.Kf),this.ats=this.fi.oj().tL()||1,s&&(this.tts=s[_v],this.sts=s[Ev],this.its=s[Av],this.ets=!!s[Dv],this.hts=!!s[Nv],this.rts=this.hts?0:3),this.hts&&(0===this.tts?(this.rts=1,0===this.sts&&(this.rts=2)):(this.fi.oj().iL(0),this.Pc.pj())),this.HIt()}Vh(){super.Vh()}ix(){return{fit:this.tts,wt:this.sts,fot:this.its,d:this.ets,s:this.rts,st:this.ots.Ys(),mo:this.ats}}hx(t){this.tts=t.fit,this.sts=t.wt,this.its=t.fot,this.ets=t.d,this.rts=t.s,this.ots.Set(t.st),this.ats=t.mo,3===this.rts?this.NIt():this.HIt()}f8(){const t=this.Pc.oF(this.fi);this.ots.Fl(t);const s=this.fi.oj();0===this.rts&&(s.iL(this.ots.Ys()/this.tts*this.ats),this.Pc.pj(),s.tL()>=this.ats&&(s.iL(this.ats),this.rts=1,this.ots.Ff(),this.IIt("fadeinend"),this.uQ(Cv.tut.$9t.Gj.uts))),1===this.rts&&this.ots.Ys()>=this.sts&&(this.rts=2,this.ots.Ff(),this.IIt("waitend"),this.uQ(Cv.tut.$9t.Gj.lts)),2===this.rts&&(0!==this.its?(s.iL(this.ats-this.ots.Ys()/this.its*this.ats),this.Pc.pj(),s.tL()<=0&&(this.rts=3,this.ots.Ff(),this.IIt("fadeoutend"),this.uQ(Cv.tut.$9t.Gj.cts),this.ets&&this.Pc.LW(this.fi))):(this.rts=3,this.ots.Ff())),3===this.rts&&this.NIt()}fts(){this.hts||this.nts||(this.ats=this.fi.oj().tL()||1,this.nts=!0),3===this.rts&&this.NL()}dts(){this.NL()}NL(){this.rts=0,this.ots.Ff(),0===this.tts?(this.rts=1,0===this.sts&&(this.rts=2)):(this.fi.oj().iL(0),this.Pc.pj()),this.HIt()}pts(t){this.tts=Math.max(t,0)}mts(){return this.tts}gts(t){this.sts=Math.max(t,0)}yts(){return this.sts}Mts(t){this.its=Math.max(t,0)}wts(){return this.its}Wnt(t){switch(t){case _v:return this.mts();case Ev:return this.yts();case Av:return this.wts();case Dv:return this.ets}}qnt(t,s){switch(t){case _v:this.pts(s);break;case Ev:this.gts(s);break;case Av:this.Mts(s);break;case Dv:this.ets=!!s}}KIt(){const t="behaviors.fade";return[{title:"$"+this.GV()._c(),properties:[{name:t+".properties.fade-in-time.name",value:this.mts(),cZt:t=>this.pts(t)},{name:t+".properties.wait-time.name",value:this.yts(),cZt:t=>this.gts(t)},{name:t+".properties.fade-out-time.name",value:this.wts(),cZt:t=>this.Mts(t)},{name:t+".debugger.stage",value:[t+".debugger."+["fade-in","wait","fade-out","done"][this.rts]]}]}]}lIt(){return self.Sts}};const Lv=new WeakMap;self.Sts=class extends Iv{constructor(){super(),Lv.set(this,Iv.AW().gV())}Tts(){Lv.get(this).fts()}bts(){Lv.get(this).dts()}set xts(t){Gv.ne(t),Lv.get(this).pts(t)}get xts(){return Lv.get(this).mts()}set vts(t){Gv.ne(t),Lv.get(this).gts(t)}get vts(){return Lv.get(this).yts()}set Cts(t){Gv.ne(t),Lv.get(this).Mts(t)}get Cts(){return Lv.get(this).wts()}}}self.Gs.tut.$9t.Gj={cts:()=>!0,uts:()=>!0,lts:()=>!0},self.Gs.tut.$9t.nnt={Gts(){this.fts()},Its(){this.dts()},_ts(t){this.pts(t)},Ets(t){this.gts(t)},Ats(t){this.Mts(t)}},self.Gs.tut.$9t.rnt={Dts(){return this.mts()},Nts(){return this.yts()},Lts(){return this.wts()}};{const Ov=self.Gs;Ov.tut.Ots=class extends Ov.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const Rv=self.Gs;Rv.tut.Ots.eDt=class extends Rv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const kv=self.Gs,Pv=(self.Ps,self.TV),Fv=0,jv=1,zv=2,Bv=3,Uv=4;kv.tut.Ots.Instance=class extends kv.J_t{constructor(t,s){super(t),this.Rts=2,this.kts=2,this.Pts=0,this.Fts=0,this.bSt=!0;const i=this.fi.oj().tY();this.jts=i.Za(),this.zts=i.Ka(),this.Bts=this.Pc.vP()-i.Za(),this.Uts=this.Pc.GP()-i.Ka(),this.Wts=this.Pc.vP()-i.$a(),this.Qts=this.Pc.GP()-i.tu(),s&&(this.Rts=s[Fv],this.kts=s[jv],this.Pts=s[zv],this.Fts=s[Bv],this.bSt=!!s[Uv]);const e=this.Pc.yf();this.qf=new kv.Vf(kv.zf.Yf(e,"layoutchange",(()=>this.Yts()))),this.bSt&&this.HIt()}Vh(){super.Vh()}ix(){return{xl:this.jts,yt:this.zts,xr:this.Bts,yb:this.Uts,rd:this.Wts,bd:this.Qts,al:this.Rts,at:this.kts,ar:this.Pts,ab:this.Fts,e:this.bSt}}hx(t){this.jts=t.xl,this.zts=t.yt,this.Bts=t.xr,this.Uts=t.yb,this.Wts=t.rd,this.Qts=t.bd,this.Rts=t.al,this.kts=t.at,this.Pts=t.ar,this.Fts=t.ab,this.bSt=t.e,this.bSt?this.HIt():this.NIt()}wCt(t){if(this.bSt&&!t)this.bSt=!1,this.NIt();else if(!this.bSt&&t){const t=this.fi.oj().tY();this.jts=t.Za(),this.zts=t.Ka(),this.Bts=this.Pc.vP()-t.Za(),this.Uts=this.Pc.GP()-t.Ka(),this.Wts=this.Pc.vP()-t.$a(),this.Qts=this.Pc.GP()-t.tu(),this.bSt=!0,this.HIt()}}TCt(){return this.bSt}k_t(){if(!this.bSt)return;const t=this.fi.oj(),s=t.aj().pW();if(0===this.Rts){const i=s.Za()+this.jts-t.tY().Za();0!==i&&(t.hrt(i),t.FQ())}else if(1===this.Rts){const i=s.$a()-this.Bts-t.tY().Za();0!==i&&(t.hrt(i),t.FQ())}if(0===this.kts){const i=s.Ka()+this.zts-t.tY().Ka();0!==i&&(t.nrt(i),t.FQ())}else if(1===this.kts){const i=s.tu()-this.Uts-t.tY().Ka();0!==i&&(t.nrt(i),t.FQ())}if(1===this.Pts){const i=s.$a()-this.Wts-t.tY().$a();0!==i&&(t.hrt(t.WQ()*i),t.Hg(Math.max(t.Bg()+i),0),t.FQ(),this.Wts=s.$a()-t.tY().$a())}if(1===this.Fts){const i=s.tu()-this.Qts-t.tY().tu();0!==i&&(t.nrt(t.VQ()*i),t.Ug(Math.max(t.Zg()+i,0)),t.FQ(),this.Qts=s.tu()-t.tY().tu())}}f8(){this.k_t()}Yts(){this.k_t()}Wnt(t){switch(t){case Fv:return this.Rts;case jv:return this.kts;case zv:return this.Pts;case Bv:return this.Fts;case Uv:return this.bSt}}qnt(t,s){switch(t){case Fv:this.Rts=s;break;case jv:this.kts=s;break;case zv:this.Pts=s;break;case Bv:this.Fts=s;break;case Uv:this.bSt=!!s,this.bSt?this.HIt():this.NIt()}}KIt(){return[{title:"$"+this.GV()._c(),properties:[{name:"behaviors.anchor.properties.enabled.name",value:this.TCt(),cZt:t=>this.wCt(t)}]}]}lIt(){return self.Vts}};const Wv=new WeakMap;self.Vts=class extends Pv{constructor(){super(),Wv.set(this,Pv.AW().gV())}get isEnabled(){return Wv.get(this).TCt()}set isEnabled(t){Wv.get(this).wCt(t)}}}self.Gs.tut.Ots.Gj={Cl(){return this.TCt()}},self.Gs.tut.Ots.nnt={yGt(t){this.wCt(0!==t)}},self.Gs.tut.Ots.rnt={};{const Qv=self.Gs;Qv.tut.wrap=class extends Qv.z_t{constructor(t){super(t)}Vh(){super.Vh()}}}{const Yv=self.Gs;Yv.tut.wrap.eDt=class extends Yv.Y_t{constructor(t){super(t)}Vh(){super.Vh()}uIt(){}}}{const Vv=self.Gs,Jv=0,Hv=new Vv.Rect;Vv.tut.wrap.Instance=class extends Vv.J_t{constructor(t,s){super(t),this.M9t=0,s&&(this.M9t=s[Jv]),this.HIt()}Vh(){super.Vh()}ix(){return{m:this.M9t}}hx(t){this.M9t=t.m}f8(){const t=this.fi.oj(),s=t.aj(),i=s.WF(),e=t.tY();0===this.M9t?Hv.set(0,0,i.Bg(),i.Zg()):Hv.m(s.pW());let h=!1;e.$a()<Hv.Za()?(t.Qb(Hv.$a()-1+(t.Wb()-e.Za())),t.FQ(),h=!0):e.Za()>Hv.$a()?(t.Qb(Hv.Za()+1-(e.$a()-t.Wb())),t.FQ(),h=!0):e.tu()<Hv.Ka()?(t.Jb(Hv.tu()-1+(t.Vb()-e.Ka())),t.FQ(),h=!0):e.Ka()>Hv.tu()&&(t.Jb(Hv.Ka()+1-(e.tu()-t.Vb())),t.FQ(),h=!0),h&&this.uQ(Vv.tut.wrap.Gj.Jts)}Wnt(t){if(t===Jv)return this.M9t}qnt(t,s){t===Jv&&(this.M9t=s)}}}self.Gs.tut.wrap.Gj={Jts:()=>!0},self.Gs.tut.wrap.nnt={},self.Gs.tut.wrap.rnt={};{let qv=function(t,s){return"number"==typeof t&&"number"==typeof s},Xv=function(t,s){return qv(t,s)?t+s:t},Zv=function(t,s){return qv(t,s)?t-s:t},Kv=function(t,s){return qv(t,s)?t*s:t},$v=function(t,s){return qv(t,s)?t/s:t},tC=function(t,s){return qv(t,s)?t%s:t},sC=function(t,s){return qv(t,s)?Math.pow(t,s):t},iC=function(t,s){if("string"==typeof t||"string"==typeof s){let i,e;return i="number"==typeof t?(Math.round(1e10*t)/1e10).toString():t,e="number"==typeof s?(Math.round(1e10*s)/1e10).toString():s,i+e}return t&&s?1:0},eC=function(t,s){return qv(t,s)?t||s?1:0:t};0;const hC=self.Gs;self.kTt=[t=>{const s=t.VTt(0).fTt();return()=>s()},t=>{const s=t.VTt(0).RTt();return()=>iC("Pontuao:",s.Det())},()=>0,()=>1,()=>"",()=>30,t=>{const s=t.VTt(0).fTt();return()=>s(360)},()=>-15,t=>{const s=t.VTt(0);return()=>s.MTt()},t=>{const s=t.VTt(0),i=t.VTt(1),e=t.VTt(2),h=t.VTt(3);return()=>hC.hn(s.MTt(),i.MTt(),e.MTt(),h.MTt())},()=>200,()=>1300,()=>3,()=>2,()=>-100]}var Gt=self.Gs;self.BWt=function(){return[Gt._j.bXt,Gt._j.Uht,Gt.tut.k8t,Gt.tut.h9t,Gt.tut.bound,Gt.tut.w9t,Gt.tut.destroy,Gt._j.i0t,Gt.tut.$9t,Gt._j.Text,Gt.tut.Ots,Gt._j.Keyboard,Gt.tut.wrap,Gt._j.F3t,Gt._j.e4t,Gt._j.Audio,Gt._j.Ij.Gj.VVt,Gt._j.Uht.nnt.xvt,Gt._j.i0t.rnt.KCt,Gt._j.i0t.rnt.$Ct,Gt._j.Text.nnt.Bc,Gt._j.i0t.Gj.j0t,Gt._j.Uht.nnt.k$t,Gt._j.Audio.nnt.Play,Gt._j.Ij.Gj.V4,Gt._j.Uht.nnt.qB,Gt._j.Ij.rnt.random,Gt._j.Text.nnt.NU,Gt._j.Uht.Gj.Yvt,Gt._j.Uht.nnt.NCt,Gt._j.Uht.nnt.PCt,Gt._j.Ij.nnt.$Jt,Gt._j.Uht.Gj.Kxt,Gt._j.Uht.rnt.KCt,Gt._j.Uht.rnt.$Ct,Gt._j.Uht.Gj.bCt,Gt._j.Ij.nnt._Jt,Gt._j.Ij.Gj.Ud,Gt._j.Ij.Gj.$Vt,Gt._j.Uht.nnt.bvt,Gt._j.Ij.Gj.HVt,Gt._j.Ij.nnt.OJt,Gt._j.Ij.nnt.dr,Gt._j.F3t.Gj.Q3t,Gt._j.Keyboard.Gj.b3t,Gt._j.Ij.nnt.IJt,Gt._j.Audio.nnt.H6t]},self.uQt=[{Hts:0},{"8Direes":0},{qts:0},{Xts:0},{Zts:0},{Kts:0},{$ts:0},{i0t:0},{tss:0},{sss:0},{iss:0},{ess:0},{hss:0},{nss:0},{rss:0},{oss:0},{ass:0},{uss:0},{lss:0},{css:0},{fss:0},{dss:0},{pss:0},{mss:0},{Uht:0},{gss:0},{yss:0},{Mss:0},{wss:0},{Sss:0},{Tss:0},{bss:0},{xss:0},{vss:0},{Css:0},{Gss:0},{Iss:0},{_ss:0},{Ess:0},{Ass:0},{Dss:0},{Nss:0},{Lss:0}],self.Oss={Hts:class extends self.fZt{},Zts:class extends self.S$t{},Kts:class extends self.S$t{},i0t:class extends self.GW{},sss:class extends self.S$t{},ess:class extends self.S$t{},nss:class extends self.w2t{},rss:class extends self.w2t{},oss:class extends self.GW{},lss:class extends self.S$t{},css:class extends self.w2t{},fss:class extends self.S$t{},dss:class extends self.X3t{},pss:class extends self.R4t{},mss:class extends self.w2t{},Uht:class extends self.S$t{},gss:class extends self.S$t{},yss:class extends self.fZt{},Mss:class extends self.S$t{},wss:class extends self.S$t{},Sss:class extends self.fZt{},Tss:class extends self.S$t{},bss:class extends self.S$t{},xss:class extends self.S$t{},vss:class extends self.w2t{},Css:class extends self.w2t{},Gss:class extends self.w2t{},Iss:class extends self.S$t{},_ss:class extends self.S$t{},Ass:class extends self.S$t{},Dss:class extends self.GW{}};
/*!
@fileoverview gl-matrix - High performance matrix and vector operations
@author Brandon Jones
@author Colin MacKenzie IV
@version 3.4.1

Copyright (c) 2015-2021, Brandon Jones, Colin MacKenzie IV.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/